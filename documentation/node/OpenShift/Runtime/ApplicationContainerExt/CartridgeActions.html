<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Module: OpenShift::Runtime::ApplicationContainerExt::CartridgeActions
  
    &mdash; Documentation by YARD 0.8.5.2
  
</title>

  <link rel="stylesheet" href="../../../css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="../../../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../../../';
  framesUrl = "../../../frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="../../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../../../_index.html">Index (C)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../../OpenShift.html" title="OpenShift (module)">OpenShift</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../Runtime.html" title="OpenShift::Runtime (module)">Runtime</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../ApplicationContainerExt.html" title="OpenShift::Runtime::ApplicationContainerExt (module)">ApplicationContainerExt</a></span></span>
     &raquo; 
    <span class="title">CartridgeActions</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../../../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../../../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Module: OpenShift::Runtime::ApplicationContainerExt::CartridgeActions
  
  
  
</h1>

<dl class="box">
  
  
    
  
    
  
  
    <dt class="r1">Included in:</dt>
    <dd class="r1"><span class='object_link'><a href="../ApplicationContainer.html" title="OpenShift::Runtime::ApplicationContainer (class)">OpenShift::Runtime::ApplicationContainer</a></span></dd>
    
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">/home/fedora/origin-server/node/lib/openshift-origin-node/model/application_container_ext/cartridge_actions.rb</dd>
  
</dl>
<div class="clear"></div>








  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#build-instance_method" title="#build (instance method)">- (Object) <strong>build</strong>(options = {}) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Implements the following build process:.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#configure-instance_method" title="#configure (instance method)">- (Object) <strong>configure</strong>(cart_name, template_git_url = nil, manifest = nil) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Add cartridge to gear.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#connector_execute-instance_method" title="#connector_execute (instance method)">- (Object) <strong>connector_execute</strong>(cart_name, pub_cart_name, connector_type, connector, args) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_public_endpoint-instance_method" title="#create_public_endpoint (instance method)">- (Object) <strong>create_public_endpoint</strong>(private_ip, private_port) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_public_endpoints-instance_method" title="#create_public_endpoints (instance method)">- (Object) <strong>create_public_endpoints</strong>(cart_name) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Creates public endpoints for the given cart.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#deconfigure-instance_method" title="#deconfigure (instance method)">- (Object) <strong>deconfigure</strong>(cart_name) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Remove cartridge from gear.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delete_public_endpoints-instance_method" title="#delete_public_endpoints (instance method)">- (Object) <strong>delete_public_endpoints</strong>(cart_name) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Deletes all public endpoints for the given cart.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#deploy-instance_method" title="#deploy (instance method)">- (Object) <strong>deploy</strong>(options = {}) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Implements the following deploy process:.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#deploy_httpd_proxy-instance_method" title="#deploy_httpd_proxy (instance method)">- (Object) <strong>deploy_httpd_proxy</strong>(cart_name) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#post_configure-instance_method" title="#post_configure (instance method)">- (Object) <strong>post_configure</strong>(cart_name, template_git_url = nil) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#post_receive-instance_method" title="#post_receive (instance method)">- (Object) <strong>post_receive</strong>(options = {}) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Handles the post-receive portion of the Git push lifecycle.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pre_receive-instance_method" title="#pre_receive (instance method)">- (Object) <strong>pre_receive</strong>(options = {}) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Handles the pre-receive portion of the Git push lifecycle.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#reload-instance_method" title="#reload (instance method)">- (Object) <strong>reload</strong>(cart_name) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>reload gear as supported by cartridges.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#remote_deploy-instance_method" title="#remote_deploy (instance method)">- (Object) <strong>remote_deploy</strong>(options = {}) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A deploy variant intended for use by builder cartridges.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#remove_httpd_proxy-instance_method" title="#remove_httpd_proxy (instance method)">- (Object) <strong>remove_httpd_proxy</strong>(cart_name) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#restart-instance_method" title="#restart (instance method)">- (Object) <strong>restart</strong>(cart_name, options = {}) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>restart gear as supported by cartridges.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#restart_httpd_proxy-instance_method" title="#restart_httpd_proxy (instance method)">- (Object) <strong>restart_httpd_proxy</strong>(cart_name) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#start-instance_method" title="#start (instance method)">- (Object) <strong>start</strong>(cart_name, options = {}) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<h3 id="label-Cartridge+control+methods.">Cartridge control methods.<span><a href="#label-Cartridge+control+methods.">&para;</a> <a href="#documentation">&uarr;</a></span></h3>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#status-instance_method" title="#status (instance method)">- (Object) <strong>status</strong>(cart_name) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#stop-instance_method" title="#stop (instance method)">- (Object) <strong>stop</strong>(cart_name, options = {}) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#threaddump-instance_method" title="#threaddump (instance method)">- (Object) <strong>threaddump</strong>(cart_name) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#unsubscribe-instance_method" title="#unsubscribe (instance method)">- (Object) <strong>unsubscribe</strong>(cart_name, pub_cart_name) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Unsubscribe from a cart.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="build-instance_method">
  
    - (<tt>Object</tt>) <strong>build</strong>(options = {}) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Implements the following build process:</p>

<pre class="code ruby"><code class="ruby">1. Set the application state to +BUILDING+
2. Run the cartridge +update-configuration+ control action
3. Run the cartridge +pre-build+ control action
4. Run the +pre_build+ user action hook
5. Run the cartridge +build+ control action
6. Run the +build+ user action hook</code></pre>

<p>Returns the combined output of all actions as a <code>String</code>.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/node/lib/openshift-origin-node/model/application_container_ext/cartridge_actions.rb', line 296</span>

<span class='kw'>def</span> <span class='id identifier rubyid_build'>build</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='ivar'>@state</span><span class='period'>.</span><span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='op'>::</span><span class='const'>OpenShift</span><span class='op'>::</span><span class='const'>Runtime</span><span class='op'>::</span><span class='const'>State</span><span class='op'>::</span><span class='const'>BUILDING</span>

  <span class='id identifier rubyid_buffer'>buffer</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>

  <span class='id identifier rubyid_buffer'>buffer</span> <span class='op'>&lt;&lt;</span> <span class='ivar'>@cartridge_model</span><span class='period'>.</span><span class='id identifier rubyid_do_control'>do_control</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>update-configuration</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
                                        <span class='ivar'>@cartridge_model</span><span class='period'>.</span><span class='id identifier rubyid_primary_cartridge'>primary_cartridge</span><span class='comma'>,</span>
                                        <span class='label'>pre_action_hooks_enabled:</span>  <span class='kw'>false</span><span class='comma'>,</span>
      <span class='label'>post_action_hooks_enabled:</span> <span class='kw'>false</span><span class='comma'>,</span>
      <span class='label'>out:</span>                       <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:out</span><span class='rbracket'>]</span><span class='comma'>,</span>
      <span class='label'>err:</span>                       <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:err</span><span class='rbracket'>]</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_buffer'>buffer</span> <span class='op'>&lt;&lt;</span> <span class='ivar'>@cartridge_model</span><span class='period'>.</span><span class='id identifier rubyid_do_control'>do_control</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>pre-build</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
                                        <span class='ivar'>@cartridge_model</span><span class='period'>.</span><span class='id identifier rubyid_primary_cartridge'>primary_cartridge</span><span class='comma'>,</span>
                                        <span class='label'>pre_action_hooks_enabled:</span> <span class='kw'>false</span><span class='comma'>,</span>
      <span class='label'>prefix_action_hooks:</span>      <span class='kw'>false</span><span class='comma'>,</span>
      <span class='label'>out:</span>                      <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:out</span><span class='rbracket'>]</span><span class='comma'>,</span>
      <span class='label'>err:</span>                      <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:err</span><span class='rbracket'>]</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_buffer'>buffer</span> <span class='op'>&lt;&lt;</span> <span class='ivar'>@cartridge_model</span><span class='period'>.</span><span class='id identifier rubyid_do_control'>do_control</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>build</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
                                        <span class='ivar'>@cartridge_model</span><span class='period'>.</span><span class='id identifier rubyid_primary_cartridge'>primary_cartridge</span><span class='comma'>,</span>
                                        <span class='label'>pre_action_hooks_enabled:</span> <span class='kw'>false</span><span class='comma'>,</span>
      <span class='label'>prefix_action_hooks:</span>      <span class='kw'>false</span><span class='comma'>,</span>
      <span class='label'>out:</span>                      <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:out</span><span class='rbracket'>]</span><span class='comma'>,</span>
      <span class='label'>err:</span>                      <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:err</span><span class='rbracket'>]</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_buffer'>buffer</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="configure-instance_method">
  
    - (<tt>Object</tt>) <strong>configure</strong>(cart_name, template_git_url = nil, manifest = nil) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Add cartridge to gear.  This method establishes the cartridge model to use,
but does not mark the application.  Marking the application is the
responsibility of the cart model.</p>

<p>This method does not enforce constraints on whether the cartridge being
added is compatible with other installed cartridges.  That is the
responsibility of the broker.</p>

<p>context: root -&gt; gear user -&gt; root</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>cart_name</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>cartridge name</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>template_git_url</span>
      
      
        <span class='type'></span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>URL for template application source/bare repository</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>manifest</span>
      
      
        <span class='type'></span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Broker provided manifest</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


17
18
19</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/node/lib/openshift-origin-node/model/application_container_ext/cartridge_actions.rb', line 17</span>

<span class='kw'>def</span> <span class='id identifier rubyid_configure'>configure</span><span class='lparen'>(</span><span class='id identifier rubyid_cart_name'>cart_name</span><span class='comma'>,</span> <span class='id identifier rubyid_template_git_url'>template_git_url</span><span class='op'>=</span><span class='kw'>nil</span><span class='comma'>,</span>  <span class='id identifier rubyid_manifest'>manifest</span><span class='op'>=</span><span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='ivar'>@cartridge_model</span><span class='period'>.</span><span class='id identifier rubyid_configure'>configure</span><span class='lparen'>(</span><span class='id identifier rubyid_cart_name'>cart_name</span><span class='comma'>,</span> <span class='id identifier rubyid_template_git_url'>template_git_url</span><span class='comma'>,</span> <span class='id identifier rubyid_manifest'>manifest</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="connector_execute-instance_method">
  
    - (<tt>Object</tt>) <strong>connector_execute</strong>(cart_name, pub_cart_name, connector_type, connector, args) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


161
162
163</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/node/lib/openshift-origin-node/model/application_container_ext/cartridge_actions.rb', line 161</span>

<span class='kw'>def</span> <span class='id identifier rubyid_connector_execute'>connector_execute</span><span class='lparen'>(</span><span class='id identifier rubyid_cart_name'>cart_name</span><span class='comma'>,</span> <span class='id identifier rubyid_pub_cart_name'>pub_cart_name</span><span class='comma'>,</span> <span class='id identifier rubyid_connector_type'>connector_type</span><span class='comma'>,</span> <span class='id identifier rubyid_connector'>connector</span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
  <span class='ivar'>@cartridge_model</span><span class='period'>.</span><span class='id identifier rubyid_connector_execute'>connector_execute</span><span class='lparen'>(</span><span class='id identifier rubyid_cart_name'>cart_name</span><span class='comma'>,</span> <span class='id identifier rubyid_pub_cart_name'>pub_cart_name</span><span class='comma'>,</span> <span class='id identifier rubyid_connector_type'>connector_type</span><span class='comma'>,</span> <span class='id identifier rubyid_connector'>connector</span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create_public_endpoint-instance_method">
  
    - (<tt>Object</tt>) <strong>create_public_endpoint</strong>(private_ip, private_port) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


119
120
121</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/node/lib/openshift-origin-node/model/application_container_ext/cartridge_actions.rb', line 119</span>

<span class='kw'>def</span> <span class='id identifier rubyid_create_public_endpoint'>create_public_endpoint</span><span class='lparen'>(</span><span class='id identifier rubyid_private_ip'>private_ip</span><span class='comma'>,</span> <span class='id identifier rubyid_private_port'>private_port</span><span class='rparen'>)</span>
  <span class='ivar'>@container_plugin</span><span class='period'>.</span><span class='id identifier rubyid_create_public_endpoint'>create_public_endpoint</span><span class='lparen'>(</span><span class='id identifier rubyid_private_ip'>private_ip</span><span class='comma'>,</span> <span class='id identifier rubyid_private_port'>private_port</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create_public_endpoints-instance_method">
  
    - (<tt>Object</tt>) <strong>create_public_endpoints</strong>(cart_name) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Creates public endpoints for the given cart. Public proxy mappings are
created via the FrontendProxyServer, and the resulting mapped ports are
written to environment variables with names based on the cart manifest
endpoint entries.</p>

<p>Returns nil on success, or raises an exception if any errors occur: all
errors here are considered fatal.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/node/lib/openshift-origin-node/model/application_container_ext/cartridge_actions.rb', line 90</span>

<span class='kw'>def</span> <span class='id identifier rubyid_create_public_endpoints'>create_public_endpoints</span><span class='lparen'>(</span><span class='id identifier rubyid_cart_name'>cart_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_cart'>cart</span> <span class='op'>=</span> <span class='ivar'>@cartridge_model</span><span class='period'>.</span><span class='id identifier rubyid_get_cartridge'>get_cartridge</span><span class='lparen'>(</span><span class='id identifier rubyid_cart_name'>cart_name</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_output'>output</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>

  <span class='id identifier rubyid_env'>env</span>  <span class='op'>=</span> <span class='op'>::</span><span class='const'>OpenShift</span><span class='op'>::</span><span class='const'>Runtime</span><span class='op'>::</span><span class='const'>Utils</span><span class='op'>::</span><span class='const'>Environ</span><span class='op'>::</span><span class='id identifier rubyid_for_gear'>for_gear</span><span class='lparen'>(</span><span class='ivar'>@container_dir</span><span class='rparen'>)</span>
  <span class='comment'># TODO: better error handling
</span>  <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_public_endpoints'>public_endpoints</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_endpoint'>endpoint</span><span class='op'>|</span>
    <span class='comment'># Load the private IP from the gear
</span>    <span class='id identifier rubyid_private_ip'>private_ip</span> <span class='op'>=</span> <span class='id identifier rubyid_env'>env</span><span class='lbracket'>[</span><span class='id identifier rubyid_endpoint'>endpoint</span><span class='period'>.</span><span class='id identifier rubyid_private_ip_name'>private_ip_name</span><span class='rbracket'>]</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_private_ip'>private_ip</span> <span class='op'>==</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Missing private IP </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_endpoint'>endpoint</span><span class='period'>.</span><span class='id identifier rubyid_private_ip_name'>private_ip_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> for cart </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> in gear </span><span class='embexpr_beg'>#{</span><span class='ivar'>@uuid</span><span class='embexpr_end'>}</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span>\
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>required to create public endpoint </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_endpoint'>endpoint</span><span class='period'>.</span><span class='id identifier rubyid_public_port_name'>public_port_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_public_port'>public_port</span> <span class='op'>=</span> <span class='id identifier rubyid_create_public_endpoint'>create_public_endpoint</span><span class='lparen'>(</span><span class='id identifier rubyid_private_ip'>private_ip</span><span class='comma'>,</span> <span class='id identifier rubyid_endpoint'>endpoint</span><span class='period'>.</span><span class='id identifier rubyid_private_port'>private_port</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_add_env_var'>add_env_var</span><span class='lparen'>(</span><span class='id identifier rubyid_endpoint'>endpoint</span><span class='period'>.</span><span class='id identifier rubyid_public_port_name'>public_port_name</span><span class='comma'>,</span> <span class='id identifier rubyid_public_port'>public_port</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_config'>config</span> <span class='op'>=</span> <span class='op'>::</span><span class='const'>OpenShift</span><span class='op'>::</span><span class='const'>Config</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
    <span class='id identifier rubyid_output'>output</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>NOTIFY_ENDPOINT_CREATE: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_endpoint'>endpoint</span><span class='period'>.</span><span class='id identifier rubyid_public_port_name'>public_port_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_get'>get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>PUBLIC_IP</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_public_port'>public_port</span><span class='embexpr_end'>}</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span> 

    <span class='id identifier rubyid_logger'>logger</span><span class='period'>.</span><span class='id identifier rubyid_info'>info</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Created public endpoint for cart </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> in gear </span><span class='embexpr_beg'>#{</span><span class='ivar'>@uuid</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='tstring_end'>&quot;</span></span>\
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_endpoint'>endpoint</span><span class='period'>.</span><span class='id identifier rubyid_public_port_name'>public_port_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_public_port'>public_port</span><span class='embexpr_end'>}</span><span class='tstring_content'>]</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_output'>output</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="deconfigure-instance_method">
  
    - (<tt>Object</tt>) <strong>deconfigure</strong>(cart_name) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Remove cartridge from gear</p>

<p>context: root -&gt; gear user -&gt; root</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>cart_name</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>cartridge name</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


72
73
74</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/node/lib/openshift-origin-node/model/application_container_ext/cartridge_actions.rb', line 72</span>

<span class='kw'>def</span> <span class='id identifier rubyid_deconfigure'>deconfigure</span><span class='lparen'>(</span><span class='id identifier rubyid_cart_name'>cart_name</span><span class='rparen'>)</span>
  <span class='ivar'>@cartridge_model</span><span class='period'>.</span><span class='id identifier rubyid_deconfigure'>deconfigure</span><span class='lparen'>(</span><span class='id identifier rubyid_cart_name'>cart_name</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="delete_public_endpoints-instance_method">
  
    - (<tt>Object</tt>) <strong>delete_public_endpoints</strong>(cart_name) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Deletes all public endpoints for the given cart. Public port mappings are
looked up and deleted using the FrontendProxyServer, and all corresponding
environment variables are deleted from the gear.</p>

<p>Returns nil on success. Failed public port delete operations are logged and
skipped.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/node/lib/openshift-origin-node/model/application_container_ext/cartridge_actions.rb', line 129</span>

<span class='kw'>def</span> <span class='id identifier rubyid_delete_public_endpoints'>delete_public_endpoints</span><span class='lparen'>(</span><span class='id identifier rubyid_cart_name'>cart_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_cart'>cart</span> <span class='op'>=</span> <span class='ivar'>@cartridge_model</span><span class='period'>.</span><span class='id identifier rubyid_get_cartridge'>get_cartridge</span><span class='lparen'>(</span><span class='id identifier rubyid_cart_name'>cart_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_proxy_mappings'>proxy_mappings</span> <span class='op'>=</span> <span class='ivar'>@cartridge_model</span><span class='period'>.</span><span class='id identifier rubyid_list_proxy_mappings'>list_proxy_mappings</span>

  <span class='id identifier rubyid_output'>output</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>

  <span class='kw'>begin</span>
    <span class='comment'># Remove the proxy entries
</span>    <span class='ivar'>@container_plugin</span><span class='period'>.</span><span class='id identifier rubyid_delete_public_endpoints'>delete_public_endpoints</span><span class='lparen'>(</span><span class='id identifier rubyid_proxy_mappings'>proxy_mappings</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_config'>config</span> <span class='op'>=</span> <span class='op'>::</span><span class='const'>OpenShift</span><span class='op'>::</span><span class='const'>Config</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
    <span class='id identifier rubyid_proxy_mappings'>proxy_mappings</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='op'>|</span> 
      <span class='id identifier rubyid_output'>output</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>NOTIFY_ENDPOINT_DELETE: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_p'>p</span><span class='lbracket'>[</span><span class='symbol'>:public_port_name</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_get'>get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>PUBLIC_IP</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_p'>p</span><span class='lbracket'>[</span><span class='symbol'>:proxy_port</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_p'>p</span><span class='lbracket'>[</span><span class='symbol'>:proxy_port</span><span class='rbracket'>]</span>
    <span class='rbrace'>}</span>

    <span class='id identifier rubyid_logger'>logger</span><span class='period'>.</span><span class='id identifier rubyid_info'>info</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Deleted all public endpoints for cart </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> in gear </span><span class='embexpr_beg'>#{</span><span class='ivar'>@uuid</span><span class='embexpr_end'>}</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>\
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Endpoints: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_proxy_mappings'>proxy_mappings</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span><span class='lbracket'>[</span><span class='symbol'>:public_port_name</span><span class='rbracket'>]</span><span class='rbrace'>}</span><span class='embexpr_end'>}</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>\
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Public ports: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_proxy_mappings'>proxy_mappings</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span><span class='lbracket'>[</span><span class='symbol'>:proxy_port</span><span class='rbracket'>]</span><span class='rbrace'>}</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>rescue</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
    <span class='id identifier rubyid_logger'>logger</span><span class='period'>.</span><span class='id identifier rubyid_warn'>warn</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>%Q{</span><span class='tstring_content'>Couldn&#39;t delete all public endpoints for cart </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> in gear </span><span class='embexpr_beg'>#{</span><span class='ivar'>@uuid</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span><span class='embexpr_end'>}</span><span class='tstring_content'>
      &quot;Endpoints: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_proxy_mappings'>proxy_mappings</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span><span class='lbracket'>[</span><span class='symbol'>:public_port_name</span><span class='rbracket'>]</span><span class='rbrace'>}</span><span class='embexpr_end'>}</span><span class='tstring_content'>\n&quot;\
      &quot;Public ports: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_proxy_mappings'>proxy_mappings</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span><span class='lbracket'>[</span><span class='symbol'>:proxy_port</span><span class='rbracket'>]</span><span class='rbrace'>}</span><span class='embexpr_end'>}</span><span class='tstring_content'>\n&quot;\
      </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_backtrace'>backtrace</span><span class='embexpr_end'>}</span><span class='tstring_content'>
    </span><span class='tstring_end'>}</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># Clean up the environment variables
</span>  <span class='id identifier rubyid_proxy_mappings'>proxy_mappings</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='op'>|</span> <span class='id identifier rubyid_remove_env_var'>remove_env_var</span><span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='lbracket'>[</span><span class='symbol'>:public_port_name</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='rbrace'>}</span>

  <span class='id identifier rubyid_output'>output</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="deploy-instance_method">
  
    - (<tt>Object</tt>) <strong>deploy</strong>(options = {}) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Implements the following deploy process:</p>

<pre class="code ruby"><code class="ruby">1. Start secondary cartridges on the gear
2. Set the application state to +DEPLOYING+
3. Run the web proxy cartridge +deploy+ control action (if such a cartridge is present)
4. Run the primary cartridge +deploy+ control action
5. Run the +deploy+ user action hook
6. Start the primary cartridge on the gear
7. Run the primary cartridge +post-deploy+ control action</code></pre>

<p>options: hash</p>

<pre class="code ruby"><code class="ruby">:out        : an IO to which any stdout should be written (default: nil)
:err        : an IO to which any stderr should be written (default: nil)
:hot_deploy : a boolean to toggle hot deploy for the operation (default: false)</code></pre>

<p>Returns the combined output of all actions as a <code>String</code>.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/node/lib/openshift-origin-node/model/application_container_ext/cartridge_actions.rb', line 343</span>

<span class='kw'>def</span> <span class='id identifier rubyid_deploy'>deploy</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_buffer'>buffer</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Starting application </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_application_name'>application_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>

  <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:out</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:out</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span><span class='lparen'>(</span><span class='id identifier rubyid_buffer'>buffer</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_buffer'>buffer</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_start_gear'>start_gear</span><span class='lparen'>(</span><span class='label'>secondary_only:</span> <span class='kw'>true</span><span class='comma'>,</span>
      <span class='label'>user_initiated:</span> <span class='kw'>true</span><span class='comma'>,</span>
      <span class='label'>hot_deploy:</span>     <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:hot_deploy</span><span class='rbracket'>]</span><span class='comma'>,</span>
      <span class='label'>out:</span>            <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:out</span><span class='rbracket'>]</span><span class='comma'>,</span>
      <span class='label'>err:</span>            <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:err</span><span class='rbracket'>]</span><span class='rparen'>)</span>

  <span class='ivar'>@state</span><span class='period'>.</span><span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='op'>::</span><span class='const'>OpenShift</span><span class='op'>::</span><span class='const'>Runtime</span><span class='op'>::</span><span class='const'>State</span><span class='op'>::</span><span class='const'>DEPLOYING</span>

  <span class='id identifier rubyid_web_proxy_cart'>web_proxy_cart</span> <span class='op'>=</span> <span class='ivar'>@cartridge_model</span><span class='period'>.</span><span class='id identifier rubyid_web_proxy'>web_proxy</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_web_proxy_cart'>web_proxy_cart</span>
    <span class='id identifier rubyid_buffer'>buffer</span> <span class='op'>&lt;&lt;</span> <span class='ivar'>@cartridge_model</span><span class='period'>.</span><span class='id identifier rubyid_do_control'>do_control</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>deploy</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
                                          <span class='id identifier rubyid_web_proxy_cart'>web_proxy_cart</span><span class='comma'>,</span>
                                          <span class='label'>pre_action_hooks_enabled:</span> <span class='kw'>false</span><span class='comma'>,</span>
        <span class='label'>prefix_action_hooks:</span>      <span class='kw'>false</span><span class='comma'>,</span>
        <span class='label'>out:</span>                      <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:out</span><span class='rbracket'>]</span><span class='comma'>,</span>
        <span class='label'>err:</span>                      <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:err</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_buffer'>buffer</span> <span class='op'>&lt;&lt;</span> <span class='ivar'>@cartridge_model</span><span class='period'>.</span><span class='id identifier rubyid_do_control'>do_control</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>deploy</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
                                        <span class='ivar'>@cartridge_model</span><span class='period'>.</span><span class='id identifier rubyid_primary_cartridge'>primary_cartridge</span><span class='comma'>,</span>
                                        <span class='label'>pre_action_hooks_enabled:</span> <span class='kw'>false</span><span class='comma'>,</span>
      <span class='label'>prefix_action_hooks:</span>      <span class='kw'>false</span><span class='comma'>,</span>
      <span class='label'>out:</span>                      <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:out</span><span class='rbracket'>]</span><span class='comma'>,</span>
      <span class='label'>err:</span>                      <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:err</span><span class='rbracket'>]</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_buffer'>buffer</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_start_gear'>start_gear</span><span class='lparen'>(</span><span class='label'>primary_only:</span>   <span class='kw'>true</span><span class='comma'>,</span>
      <span class='label'>user_initiated:</span> <span class='kw'>true</span><span class='comma'>,</span>
      <span class='label'>hot_deploy:</span>     <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:hot_deploy</span><span class='rbracket'>]</span><span class='comma'>,</span>
      <span class='label'>out:</span>            <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:out</span><span class='rbracket'>]</span><span class='comma'>,</span>
      <span class='label'>err:</span>            <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:err</span><span class='rbracket'>]</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_buffer'>buffer</span> <span class='op'>&lt;&lt;</span> <span class='ivar'>@cartridge_model</span><span class='period'>.</span><span class='id identifier rubyid_do_control'>do_control</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>post-deploy</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
                                        <span class='ivar'>@cartridge_model</span><span class='period'>.</span><span class='id identifier rubyid_primary_cartridge'>primary_cartridge</span><span class='comma'>,</span>
                                        <span class='label'>pre_action_hooks_enabled:</span> <span class='kw'>false</span><span class='comma'>,</span>
      <span class='label'>prefix_action_hooks:</span>      <span class='kw'>false</span><span class='comma'>,</span>
      <span class='label'>out:</span>                      <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:out</span><span class='rbracket'>]</span><span class='comma'>,</span>
      <span class='label'>err:</span>                      <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:err</span><span class='rbracket'>]</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_buffer'>buffer</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="deploy_httpd_proxy-instance_method">
  
    - (<tt>Object</tt>) <strong>deploy_httpd_proxy</strong>(cart_name) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


165
166
167</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/node/lib/openshift-origin-node/model/application_container_ext/cartridge_actions.rb', line 165</span>

<span class='kw'>def</span> <span class='id identifier rubyid_deploy_httpd_proxy'>deploy_httpd_proxy</span><span class='lparen'>(</span><span class='id identifier rubyid_cart_name'>cart_name</span><span class='rparen'>)</span>
  <span class='ivar'>@cartridge_model</span><span class='period'>.</span><span class='id identifier rubyid_deploy_httpd_proxy'>deploy_httpd_proxy</span><span class='lparen'>(</span><span class='id identifier rubyid_cart_name'>cart_name</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="post_configure-instance_method">
  
    - (<tt>Object</tt>) <strong>post_configure</strong>(cart_name, template_git_url = nil) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/node/lib/openshift-origin-node/model/application_container_ext/cartridge_actions.rb', line 21</span>

<span class='kw'>def</span> <span class='id identifier rubyid_post_configure'>post_configure</span><span class='lparen'>(</span><span class='id identifier rubyid_cart_name'>cart_name</span><span class='comma'>,</span> <span class='id identifier rubyid_template_git_url'>template_git_url</span><span class='op'>=</span><span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_output'>output</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_cartridge'>cartridge</span> <span class='op'>=</span> <span class='ivar'>@cartridge_model</span><span class='period'>.</span><span class='id identifier rubyid_get_cartridge'>get_cartridge</span><span class='lparen'>(</span><span class='id identifier rubyid_cart_name'>cart_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_cartridge_home'>cartridge_home</span> <span class='op'>=</span> <span class='const'>PathUtils</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='ivar'>@container_dir</span><span class='comma'>,</span> <span class='id identifier rubyid_cartridge'>cartridge</span><span class='period'>.</span><span class='id identifier rubyid_directory'>directory</span><span class='rparen'>)</span>

  <span class='comment'># Only perform an initial build if the manifest explicitly specifies a need,
</span>  <span class='comment'># or if a template Git URL is provided and the cart is capable of builds or deploys.
</span>  <span class='kw'>if</span> <span class='op'>!</span><span class='const'>OpenShift</span><span class='op'>::</span><span class='const'>Git</span><span class='period'>.</span><span class='id identifier rubyid_empty_clone_spec?'>empty_clone_spec?</span><span class='lparen'>(</span><span class='id identifier rubyid_template_git_url'>template_git_url</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span><span class='id identifier rubyid_cartridge'>cartridge</span><span class='period'>.</span><span class='id identifier rubyid_install_build_required'>install_build_required</span> <span class='op'>||</span> <span class='id identifier rubyid_template_git_url'>template_git_url</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_cartridge'>cartridge</span><span class='period'>.</span><span class='id identifier rubyid_buildable?'>buildable?</span>
    <span class='id identifier rubyid_build_log'>build_log</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/tmp/initial-build.log</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_env'>env</span>       <span class='op'>=</span> <span class='op'>::</span><span class='const'>OpenShift</span><span class='op'>::</span><span class='const'>Runtime</span><span class='op'>::</span><span class='const'>Utils</span><span class='op'>::</span><span class='const'>Environ</span><span class='period'>.</span><span class='id identifier rubyid_for_gear'>for_gear</span><span class='lparen'>(</span><span class='ivar'>@container_dir</span><span class='rparen'>)</span>

    <span class='kw'>begin</span>
      <span class='op'>::</span><span class='const'>OpenShift</span><span class='op'>::</span><span class='const'>Runtime</span><span class='op'>::</span><span class='const'>Utils</span><span class='op'>::</span><span class='const'>Cgroups</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='ivar'>@uuid</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_boost'>boost</span> <span class='kw'>do</span>
      <span class='id identifier rubyid_logger'>logger</span><span class='period'>.</span><span class='id identifier rubyid_info'>info</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Executing initial gear prereceive for </span><span class='embexpr_beg'>#{</span><span class='ivar'>@uuid</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='const'>Utils</span><span class='period'>.</span><span class='id identifier rubyid_oo_spawn'>oo_spawn</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>gear prereceive &gt;&gt; </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_build_log'>build_log</span><span class='embexpr_end'>}</span><span class='tstring_content'> 2&gt;&amp;1</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                     <span class='label'>env:</span>                 <span class='id identifier rubyid_env'>env</span><span class='comma'>,</span>
                     <span class='label'>chdir:</span>               <span class='ivar'>@container_dir</span><span class='comma'>,</span>
                     <span class='label'>uid:</span>                 <span class='ivar'>@uid</span><span class='comma'>,</span>
                     <span class='label'>timeout:</span>             <span class='ivar'>@hourglass</span><span class='period'>.</span><span class='id identifier rubyid_remaining'>remaining</span><span class='comma'>,</span>
                     <span class='label'>expected_exitstatus:</span> <span class='int'>0</span><span class='rparen'>)</span>

      <span class='id identifier rubyid_logger'>logger</span><span class='period'>.</span><span class='id identifier rubyid_info'>info</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Executing initial gear postreceive for </span><span class='embexpr_beg'>#{</span><span class='ivar'>@uuid</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='const'>Utils</span><span class='period'>.</span><span class='id identifier rubyid_oo_spawn'>oo_spawn</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>gear postreceive &gt;&gt; </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_build_log'>build_log</span><span class='embexpr_end'>}</span><span class='tstring_content'> 2&gt;&amp;1</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                     <span class='label'>env:</span>                 <span class='id identifier rubyid_env'>env</span><span class='comma'>,</span>
                     <span class='label'>chdir:</span>               <span class='ivar'>@container_dir</span><span class='comma'>,</span>
                     <span class='label'>uid:</span>                 <span class='ivar'>@uid</span><span class='comma'>,</span>
                     <span class='label'>timeout:</span>             <span class='ivar'>@hourglass</span><span class='period'>.</span><span class='id identifier rubyid_remaining'>remaining</span><span class='comma'>,</span>
                     <span class='label'>expected_exitstatus:</span> <span class='int'>0</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>rescue</span> <span class='op'>::</span><span class='const'>OpenShift</span><span class='op'>::</span><span class='const'>Runtime</span><span class='op'>::</span><span class='const'>Utils</span><span class='op'>::</span><span class='const'>ShellExecutionException</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
      <span class='id identifier rubyid_max_bytes'>max_bytes</span> <span class='op'>=</span> <span class='int'>10</span> <span class='op'>*</span> <span class='int'>1024</span>
      <span class='id identifier rubyid_out'>out</span><span class='comma'>,</span> <span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid__'>_</span> <span class='op'>=</span> <span class='const'>Utils</span><span class='period'>.</span><span class='id identifier rubyid_oo_spawn'>oo_spawn</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>tail -c </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_max_bytes'>max_bytes</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_build_log'>build_log</span><span class='embexpr_end'>}</span><span class='tstring_content'> 2&gt;&amp;1</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                     <span class='label'>env:</span>                 <span class='id identifier rubyid_env'>env</span><span class='comma'>,</span>
                     <span class='label'>chdir:</span>               <span class='ivar'>@container_dir</span><span class='comma'>,</span>
                     <span class='label'>uid:</span>                 <span class='ivar'>@uid</span><span class='comma'>,</span>
                     <span class='label'>timeout:</span>             <span class='ivar'>@hourglass</span><span class='period'>.</span><span class='id identifier rubyid_remaining'>remaining</span><span class='rparen'>)</span>

      <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The initial build for the application failed: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span><span class='embexpr_end'>}</span><span class='tstring_content'>\n\n.Last </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_max_bytes'>max_bytes</span><span class='op'>/</span><span class='int'>1024</span><span class='embexpr_end'>}</span><span class='tstring_content'> kB of build output:\n</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_out'>out</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

      <span class='id identifier rubyid_raise'>raise</span> <span class='op'>::</span><span class='const'>OpenShift</span><span class='op'>::</span><span class='const'>Runtime</span><span class='op'>::</span><span class='const'>Utils</span><span class='op'>::</span><span class='const'>Sdk</span><span class='period'>.</span><span class='id identifier rubyid_translate_out_for_client'>translate_out_for_client</span><span class='lparen'>(</span><span class='id identifier rubyid_message'>message</span><span class='comma'>,</span> <span class='symbol'>:error</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_output'>output</span> <span class='op'>=</span> <span class='ivar'>@cartridge_model</span><span class='period'>.</span><span class='id identifier rubyid_post_configure'>post_configure</span><span class='lparen'>(</span><span class='id identifier rubyid_cart_name'>cart_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_output'>output</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="post_receive-instance_method">
  
    - (<tt>Object</tt>) <strong>post_receive</strong>(options = {}) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Handles the post-receive portion of the Git push lifecycle.</p>

<p>If a builder cartridge is present, the <code>post-receive</code> control
action is invoked on the builder cartridge. If no builder is present, the
following sequence occurs:</p>

<pre class="code ruby"><code class="ruby">1. Executes the primary cartridge +pre-repo-archive+ control action
2. Archives the application Git repository, redeploying the code
3. Executes +build+
4. Executes +deploy+</code></pre>

<p>options: hash</p>

<pre class="code ruby"><code class="ruby">:out        : an IO to which any stdout should be written (default: nil)
:err        : an IO to which any stderr should be written (default: nil)
:hot_deploy : a boolean to toggle hot deploy for the operation (default: false)</code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/node/lib/openshift-origin-node/model/application_container_ext/cartridge_actions.rb', line 221</span>

<span class='kw'>def</span> <span class='id identifier rubyid_post_receive'>post_receive</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_builder_cartridge'>builder_cartridge</span> <span class='op'>=</span> <span class='ivar'>@cartridge_model</span><span class='period'>.</span><span class='id identifier rubyid_builder_cartridge'>builder_cartridge</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_builder_cartridge'>builder_cartridge</span>
    <span class='ivar'>@cartridge_model</span><span class='period'>.</span><span class='id identifier rubyid_do_control'>do_control</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>post-receive</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
                                <span class='id identifier rubyid_builder_cartridge'>builder_cartridge</span><span class='comma'>,</span>
                                <span class='label'>out:</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:out</span><span class='rbracket'>]</span><span class='comma'>,</span>
        <span class='label'>err:</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:err</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='ivar'>@cartridge_model</span><span class='period'>.</span><span class='id identifier rubyid_do_control'>do_control</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>pre-repo-archive</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
                                <span class='ivar'>@cartridge_model</span><span class='period'>.</span><span class='id identifier rubyid_primary_cartridge'>primary_cartridge</span><span class='comma'>,</span>
                                <span class='label'>out:</span>                       <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:out</span><span class='rbracket'>]</span><span class='comma'>,</span>
        <span class='label'>err:</span>                       <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:err</span><span class='rbracket'>]</span><span class='comma'>,</span>
        <span class='label'>pre_action_hooks_enabled:</span>  <span class='kw'>false</span><span class='comma'>,</span>
        <span class='label'>post_action_hooks_enabled:</span> <span class='kw'>false</span><span class='rparen'>)</span>

    <span class='const'>ApplicationRepository</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_archive'>archive</span>

    <span class='id identifier rubyid_build'>build</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_deploy'>deploy</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_report_build_analytics'>report_build_analytics</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pre_receive-instance_method">
  
    - (<tt>Object</tt>) <strong>pre_receive</strong>(options = {}) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Handles the pre-receive portion of the Git push lifecycle.</p>

<p>If a builder cartridge is present, the <code>pre-receive</code> control
action is invoked on the builder cartridge. If no builder is present, a
user-initiated gear stop is invoked.</p>

<p>options: hash</p>

<pre class="code ruby"><code class="ruby">:out        : an IO to which any stdout should be written (default: nil)
:err        : an IO to which any stderr should be written (default: nil)
:hot_deploy : a boolean to toggle hot deploy for the operation (default: false)</code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


189
190
191
192
193
194
195
196
197
198
199
200
201
202
203</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/node/lib/openshift-origin-node/model/application_container_ext/cartridge_actions.rb', line 189</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pre_receive'>pre_receive</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_builder_cartridge'>builder_cartridge</span> <span class='op'>=</span> <span class='ivar'>@cartridge_model</span><span class='period'>.</span><span class='id identifier rubyid_builder_cartridge'>builder_cartridge</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_builder_cartridge'>builder_cartridge</span>
    <span class='ivar'>@cartridge_model</span><span class='period'>.</span><span class='id identifier rubyid_do_control'>do_control</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>pre-receive</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
                                <span class='id identifier rubyid_builder_cartridge'>builder_cartridge</span><span class='comma'>,</span>
                                <span class='label'>out:</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:out</span><span class='rbracket'>]</span><span class='comma'>,</span>
        <span class='label'>err:</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:err</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_stop_gear'>stop_gear</span><span class='lparen'>(</span><span class='label'>user_initiated:</span> <span class='kw'>true</span><span class='comma'>,</span>
        <span class='label'>hot_deploy:</span>     <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:hot_deploy</span><span class='rbracket'>]</span><span class='comma'>,</span>
        <span class='label'>out:</span>            <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:out</span><span class='rbracket'>]</span><span class='comma'>,</span>
        <span class='label'>err:</span>            <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:err</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="reload-instance_method">
  
    - (<tt>Object</tt>) <strong>reload</strong>(cart_name) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>reload gear as supported by cartridges</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


417
418
419
420
421
422
423</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/node/lib/openshift-origin-node/model/application_container_ext/cartridge_actions.rb', line 417</span>

<span class='kw'>def</span> <span class='id identifier rubyid_reload'>reload</span><span class='lparen'>(</span><span class='id identifier rubyid_cart_name'>cart_name</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='op'>::</span><span class='const'>OpenShift</span><span class='op'>::</span><span class='const'>Runtime</span><span class='op'>::</span><span class='const'>State</span><span class='op'>::</span><span class='const'>STARTED</span> <span class='op'>==</span> <span class='id identifier rubyid_state'>state</span><span class='period'>.</span><span class='id identifier rubyid_value'>value</span>
    <span class='kw'>return</span> <span class='ivar'>@cartridge_model</span><span class='period'>.</span><span class='id identifier rubyid_do_control'>do_control</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>reload</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_cart_name'>cart_name</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='kw'>return</span> <span class='ivar'>@cartridge_model</span><span class='period'>.</span><span class='id identifier rubyid_do_control'>do_control</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>force-reload</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_cart_name'>cart_name</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="remote_deploy-instance_method">
  
    - (<tt>Object</tt>) <strong>remote_deploy</strong>(options = {}) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>A deploy variant intended for use by builder cartridges. This method is
useful when the build has already occured elsewhere, and the gear now needs
a local deployment.</p>

<pre class="code ruby"><code class="ruby">1. Runs the primary cartridge +update-configuration+ control action
2. Executes +deploy+
3. (optional) Executes the primary cartridge post-install steps</code></pre>

<p>options: hash</p>

<pre class="code ruby"><code class="ruby">:out  : an IO to which any stdout should be written (default: nil)
:err  : an IO to which any stderr should be written (default: nil)
:init : boolean; if true, post-install steps will be executed (default: false)</code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/node/lib/openshift-origin-node/model/application_container_ext/cartridge_actions.rb', line 260</span>

<span class='kw'>def</span> <span class='id identifier rubyid_remote_deploy'>remote_deploy</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='ivar'>@cartridge_model</span><span class='period'>.</span><span class='id identifier rubyid_do_control'>do_control</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>update-configuration</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
                              <span class='ivar'>@cartridge_model</span><span class='period'>.</span><span class='id identifier rubyid_primary_cartridge'>primary_cartridge</span><span class='comma'>,</span>
                              <span class='label'>pre_action_hooks_enabled:</span>  <span class='kw'>false</span><span class='comma'>,</span>
      <span class='label'>post_action_hooks_enabled:</span> <span class='kw'>false</span><span class='comma'>,</span>
      <span class='label'>out:</span>                       <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:out</span><span class='rbracket'>]</span><span class='comma'>,</span>
      <span class='label'>err:</span>                       <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:err</span><span class='rbracket'>]</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_deploy'>deploy</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:init</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_primary_cart_env_dir'>primary_cart_env_dir</span> <span class='op'>=</span> <span class='const'>PathUtils</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='ivar'>@container_dir</span><span class='comma'>,</span> <span class='ivar'>@cartridge_model</span><span class='period'>.</span><span class='id identifier rubyid_primary_cartridge'>primary_cartridge</span><span class='period'>.</span><span class='id identifier rubyid_directory'>directory</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>env</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_primary_cart_env'>primary_cart_env</span>     <span class='op'>=</span> <span class='op'>::</span><span class='const'>OpenShift</span><span class='op'>::</span><span class='const'>Runtime</span><span class='op'>::</span><span class='const'>Utils</span><span class='op'>::</span><span class='const'>Environ</span><span class='period'>.</span><span class='id identifier rubyid_load'>load</span><span class='lparen'>(</span><span class='id identifier rubyid_primary_cart_env_dir'>primary_cart_env_dir</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_ident'>ident</span>                <span class='op'>=</span> <span class='id identifier rubyid_primary_cart_env'>primary_cart_env</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_grep'>grep</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^OPENSHIFT_.*_IDENT</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid__'>_</span><span class='comma'>,</span> <span class='id identifier rubyid_version'>version</span><span class='comma'>,</span> <span class='id identifier rubyid__'>_</span>     <span class='op'>=</span> <span class='const'>Runtime</span><span class='op'>::</span><span class='const'>Manifest</span><span class='period'>.</span><span class='id identifier rubyid_parse_ident'>parse_ident</span><span class='lparen'>(</span><span class='id identifier rubyid_primary_cart_env'>primary_cart_env</span><span class='lbracket'>[</span><span class='id identifier rubyid_ident'>ident</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='rbracket'>]</span><span class='rparen'>)</span>

    <span class='ivar'>@cartridge_model</span><span class='period'>.</span><span class='id identifier rubyid_post_install'>post_install</span><span class='lparen'>(</span><span class='ivar'>@cartridge_model</span><span class='period'>.</span><span class='id identifier rubyid_primary_cartridge'>primary_cartridge</span><span class='comma'>,</span>
                                  <span class='id identifier rubyid_version'>version</span><span class='comma'>,</span>
                                  <span class='label'>out:</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:out</span><span class='rbracket'>]</span><span class='comma'>,</span>
        <span class='label'>err:</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:err</span><span class='rbracket'>]</span><span class='rparen'>)</span>

  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="remove_httpd_proxy-instance_method">
  
    - (<tt>Object</tt>) <strong>remove_httpd_proxy</strong>(cart_name) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


169
170
171</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/node/lib/openshift-origin-node/model/application_container_ext/cartridge_actions.rb', line 169</span>

<span class='kw'>def</span> <span class='id identifier rubyid_remove_httpd_proxy'>remove_httpd_proxy</span><span class='lparen'>(</span><span class='id identifier rubyid_cart_name'>cart_name</span><span class='rparen'>)</span>
  <span class='ivar'>@cartridge_model</span><span class='period'>.</span><span class='id identifier rubyid_remove_httpd_proxy'>remove_httpd_proxy</span><span class='lparen'>(</span><span class='id identifier rubyid_cart_name'>cart_name</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="restart-instance_method">
  
    - (<tt>Object</tt>) <strong>restart</strong>(cart_name, options = {}) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>restart gear as supported by cartridges</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


409
410
411
412
413
414</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/node/lib/openshift-origin-node/model/application_container_ext/cartridge_actions.rb', line 409</span>

<span class='kw'>def</span> <span class='id identifier rubyid_restart'>restart</span><span class='lparen'>(</span><span class='id identifier rubyid_cart_name'>cart_name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='ivar'>@cartridge_model</span><span class='period'>.</span><span class='id identifier rubyid_start_cartridge'>start_cartridge</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>restart</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_cart_name'>cart_name</span><span class='comma'>,</span>
                                   <span class='label'>user_initiated:</span> <span class='kw'>true</span><span class='comma'>,</span>
      <span class='label'>out:</span>            <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:out</span><span class='rbracket'>]</span><span class='comma'>,</span>
      <span class='label'>err:</span>            <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:err</span><span class='rbracket'>]</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="restart_httpd_proxy-instance_method">
  
    - (<tt>Object</tt>) <strong>restart_httpd_proxy</strong>(cart_name) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


173
174
175</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/node/lib/openshift-origin-node/model/application_container_ext/cartridge_actions.rb', line 173</span>

<span class='kw'>def</span> <span class='id identifier rubyid_restart_httpd_proxy'>restart_httpd_proxy</span><span class='lparen'>(</span><span class='id identifier rubyid_cart_name'>cart_name</span><span class='rparen'>)</span>
  <span class='ivar'>@cartridge_model</span><span class='period'>.</span><span class='id identifier rubyid_restart_httpd_proxy'>restart_httpd_proxy</span><span class='lparen'>(</span><span class='id identifier rubyid_cart_name'>cart_name</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="start-instance_method">
  
    - (<tt>Object</tt>) <strong>start</strong>(cart_name, options = {}) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<h3 id="label-Cartridge+control+methods">Cartridge control methods<span><a href="#label-Cartridge+control+methods">&para;</a> <a href="#documentation">&uarr;</a></span></h3>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


394
395
396
397
398
399</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/node/lib/openshift-origin-node/model/application_container_ext/cartridge_actions.rb', line 394</span>

<span class='kw'>def</span> <span class='id identifier rubyid_start'>start</span><span class='lparen'>(</span><span class='id identifier rubyid_cart_name'>cart_name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='ivar'>@cartridge_model</span><span class='period'>.</span><span class='id identifier rubyid_start_cartridge'>start_cartridge</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>start</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_cart_name'>cart_name</span><span class='comma'>,</span>
                                   <span class='label'>user_initiated:</span> <span class='kw'>true</span><span class='comma'>,</span>
      <span class='label'>out:</span>            <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:out</span><span class='rbracket'>]</span><span class='comma'>,</span>
      <span class='label'>err:</span>            <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:err</span><span class='rbracket'>]</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="status-instance_method">
  
    - (<tt>Object</tt>) <strong>status</strong>(cart_name) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


433
434
435
436
437
438
439
440
441
442</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/node/lib/openshift-origin-node/model/application_container_ext/cartridge_actions.rb', line 433</span>

<span class='kw'>def</span> <span class='id identifier rubyid_status'>status</span><span class='lparen'>(</span><span class='id identifier rubyid_cart_name'>cart_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_buffer'>buffer</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_buffer'>buffer</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_stopped_status_attr'>stopped_status_attr</span>
  <span class='id identifier rubyid_quota_cmd'>quota_cmd</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/bin/sh </span><span class='embexpr_beg'>#{</span><span class='const'>PathUtils</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/usr/libexec/openshift/lib</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>quota_attrs.sh</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='ivar'>@uuid</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_out'>out</span><span class='comma'>,</span><span class='id identifier rubyid_err'>err</span><span class='comma'>,</span><span class='id identifier rubyid_rc'>rc</span> <span class='op'>=</span> <span class='id identifier rubyid_run_in_container_context'>run_in_container_context</span><span class='lparen'>(</span><span class='id identifier rubyid_quota_cmd'>quota_cmd</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ERROR: Error fetching quota (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rc'>rc</span><span class='embexpr_end'>}</span><span class='tstring_content'>): </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_quota_cmd'>quota_cmd</span><span class='period'>.</span><span class='id identifier rubyid_squeeze'>squeeze</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'> stdout: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_out'>out</span><span class='embexpr_end'>}</span><span class='tstring_content'> stderr: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_err'>err</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_rc'>rc</span> <span class='op'>==</span> <span class='int'>0</span>
  <span class='id identifier rubyid_buffer'>buffer</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_out'>out</span>
  <span class='id identifier rubyid_buffer'>buffer</span> <span class='op'>&lt;&lt;</span> <span class='ivar'>@cartridge_model</span><span class='period'>.</span><span class='id identifier rubyid_do_control'>do_control</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>status</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_cart_name'>cart_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_buffer'>buffer</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="stop-instance_method">
  
    - (<tt>Object</tt>) <strong>stop</strong>(cart_name, options = {}) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


401
402
403
404
405
406</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/node/lib/openshift-origin-node/model/application_container_ext/cartridge_actions.rb', line 401</span>

<span class='kw'>def</span> <span class='id identifier rubyid_stop'>stop</span><span class='lparen'>(</span><span class='id identifier rubyid_cart_name'>cart_name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='ivar'>@cartridge_model</span><span class='period'>.</span><span class='id identifier rubyid_stop_cartridge'>stop_cartridge</span><span class='lparen'>(</span><span class='id identifier rubyid_cart_name'>cart_name</span><span class='comma'>,</span>
                                  <span class='label'>user_initiated:</span> <span class='kw'>true</span><span class='comma'>,</span>
      <span class='label'>out:</span>            <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:out</span><span class='rbracket'>]</span><span class='comma'>,</span>
      <span class='label'>err:</span>            <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:err</span><span class='rbracket'>]</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="threaddump-instance_method">
  
    - (<tt>Object</tt>) <strong>threaddump</strong>(cart_name) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


425
426
427
428
429
430
431</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/node/lib/openshift-origin-node/model/application_container_ext/cartridge_actions.rb', line 425</span>

<span class='kw'>def</span> <span class='id identifier rubyid_threaddump'>threaddump</span><span class='lparen'>(</span><span class='id identifier rubyid_cart_name'>cart_name</span><span class='rparen'>)</span>
  <span class='kw'>unless</span> <span class='op'>::</span><span class='const'>OpenShift</span><span class='op'>::</span><span class='const'>Runtime</span><span class='op'>::</span><span class='const'>State</span><span class='op'>::</span><span class='const'>STARTED</span> <span class='op'>==</span> <span class='id identifier rubyid_state'>state</span><span class='period'>.</span><span class='id identifier rubyid_value'>value</span>
    <span class='kw'>return</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CLIENT_ERROR: Application is </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_state'>state</span><span class='period'>.</span><span class='id identifier rubyid_value'>value</span><span class='embexpr_end'>}</span><span class='tstring_content'>, must be </span><span class='embexpr_beg'>#{</span><span class='op'>::</span><span class='const'>OpenShift</span><span class='op'>::</span><span class='const'>Runtime</span><span class='op'>::</span><span class='const'>State</span><span class='op'>::</span><span class='const'>STARTED</span><span class='embexpr_end'>}</span><span class='tstring_content'> to allow a thread dump</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='ivar'>@cartridge_model</span><span class='period'>.</span><span class='id identifier rubyid_do_control'>do_control</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>threaddump</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_cart_name'>cart_name</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="unsubscribe-instance_method">
  
    - (<tt>Object</tt>) <strong>unsubscribe</strong>(cart_name, pub_cart_name) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Unsubscribe from a cart</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>cart_name</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>unsubscribing cartridge name</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>cart_name</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>publishing cartridge name</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


80
81
82</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/node/lib/openshift-origin-node/model/application_container_ext/cartridge_actions.rb', line 80</span>

<span class='kw'>def</span> <span class='id identifier rubyid_unsubscribe'>unsubscribe</span><span class='lparen'>(</span><span class='id identifier rubyid_cart_name'>cart_name</span><span class='comma'>,</span> <span class='id identifier rubyid_pub_cart_name'>pub_cart_name</span><span class='rparen'>)</span>
  <span class='ivar'>@cartridge_model</span><span class='period'>.</span><span class='id identifier rubyid_unsubscribe'>unsubscribe</span><span class='lparen'>(</span><span class='id identifier rubyid_cart_name'>cart_name</span><span class='comma'>,</span> <span class='id identifier rubyid_pub_cart_name'>pub_cart_name</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Tue Aug  6 22:40:35 2013 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.5.2 (ruby-2.0.0).
</div>

  </body>
</html>