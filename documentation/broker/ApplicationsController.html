<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: ApplicationsController
  
    &mdash; Documentation by YARD 0.8.5.2
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '';
  framesUrl = "frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index (A)</a> &raquo;
    
    
    <span class="title">ApplicationsController</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: ApplicationsController
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="BaseController.html" title="BaseController (class)">BaseController</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next">ActionController::Base</li>
          
            <li class="next"><span class='object_link'><a href="BaseController.html" title="BaseController (class)">BaseController</a></span></li>
          
            <li class="next">ApplicationsController</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
      <dt class="r2">Includes:</dt>
      <dd class="r2"><span class='object_link'><a href="RestModelHelper.html" title="RestModelHelper (module)">RestModelHelper</a></span></dd>
      
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">/home/fedora/origin-server/controller/app/controllers/applications_controller.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Application CRUD REST API</p>


  </div>
</div>
<div class="tags">
  

</div>
  <h2>Constant Summary</h2>
  



  <h2>Constant Summary</h2>
  
  <h3 class="inherited">Constants included
     from <span class='object_link'><a href="OpenShift/Controller/ApiBehavior.html" title="OpenShift::Controller::ApiBehavior (module)">OpenShift::Controller::ApiBehavior</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="OpenShift/Controller/ApiBehavior.html#API_VERSION-constant" title="OpenShift::Controller::ApiBehavior::API_VERSION (constant)">OpenShift::Controller::ApiBehavior::API_VERSION</a></span>, <span class='object_link'><a href="OpenShift/Controller/ApiBehavior.html#SUPPORTED_API_VERSIONS-constant" title="OpenShift::Controller::ApiBehavior::SUPPORTED_API_VERSIONS (constant)">OpenShift::Controller::ApiBehavior::SUPPORTED_API_VERSIONS</a></span></p>




  <h2>Instance Attribute Summary</h2>
  
  <h3 class="inherited">Attributes included from <span class='object_link'><a href="OpenShift/Controller/ApiBehavior.html" title="OpenShift::Controller::ApiBehavior (module)">OpenShift::Controller::ApiBehavior</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="OpenShift/Controller/ApiBehavior.html#requested_api_version-instance_method" title="OpenShift::Controller::ApiBehavior#requested_api_version (method)">#requested_api_version</a></span></p>

  
  
  <h3 class="inherited">Attributes included from <span class='object_link'><a href="OpenShift/Controller/ActionLog.html" title="OpenShift::Controller::ActionLog (module)">OpenShift::Controller::ActionLog</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="OpenShift/Controller/ActionLog.html#action_log_tag-instance_method" title="OpenShift::Controller::ActionLog#action_log_tag (method)">#action_log_tag</a></span></p>


  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create-instance_method" title="#create (instance method)">- (RestReply&lt;RestApplication&gt;) <strong>create</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Create a new application.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#destroy-instance_method" title="#destroy (instance method)">- (Object) <strong>destroy</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Delete an application.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#index-instance_method" title="#index (instance method)">- (RestReply&lt;Array&lt;RestApplication&gt;&gt;) <strong>index</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>List all applications.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#show-instance_method" title="#show (instance method)">- (RestReply&lt;RestApplication&gt;) <strong>show</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Retrieve a specific application.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="RestModelHelper.html" title="RestModelHelper (module)">RestModelHelper</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="RestModelHelper.html#get_application_rest_cartridges-instance_method" title="RestModelHelper#get_application_rest_cartridges (method)">#get_application_rest_cartridges</a></span>, <span class='object_link'><a href="RestModelHelper.html#get_embedded_rest_cartridge-instance_method" title="RestModelHelper#get_embedded_rest_cartridge (method)">#get_embedded_rest_cartridge</a></span>, <span class='object_link'><a href="RestModelHelper.html#get_rest_alias-instance_method" title="RestModelHelper#get_rest_alias (method)">#get_rest_alias</a></span>, <span class='object_link'><a href="RestModelHelper.html#get_rest_application-instance_method" title="RestModelHelper#get_rest_application (method)">#get_rest_application</a></span>, <span class='object_link'><a href="RestModelHelper.html#get_rest_cartridge-instance_method" title="RestModelHelper#get_rest_cartridge (method)">#get_rest_cartridge</a></span>, <span class='object_link'><a href="RestModelHelper.html#get_rest_domain-instance_method" title="RestModelHelper#get_rest_domain (method)">#get_rest_domain</a></span>, <span class='object_link'><a href="RestModelHelper.html#get_rest_environment_variable-instance_method" title="RestModelHelper#get_rest_environment_variable (method)">#get_rest_environment_variable</a></span>, <span class='object_link'><a href="RestModelHelper.html#get_rest_gear_group-instance_method" title="RestModelHelper#get_rest_gear_group (method)">#get_rest_gear_group</a></span>, <span class='object_link'><a href="RestModelHelper.html#get_rest_user-instance_method" title="RestModelHelper#get_rest_user (method)">#get_rest_user</a></span></p>

  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="OpenShift/Controller/ApiBehavior.html" title="OpenShift::Controller::ApiBehavior (module)">OpenShift::Controller::ApiBehavior</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="OpenShift/Controller/ApiBehavior.html#authorize%21-instance_method" title="OpenShift::Controller::ApiBehavior#authorize! (method)">#authorize!</a></span>, <span class='object_link'><a href="OpenShift/Controller/ApiBehavior.html#authorized%3F-instance_method" title="OpenShift::Controller::ApiBehavior#authorized? (method)">#authorized?</a></span>, <span class='object_link'><a href="OpenShift/Controller/ApiBehavior.html#check_nolinks-instance_method" title="OpenShift::Controller::ApiBehavior#check_nolinks (method)">#check_nolinks</a></span>, <span class='object_link'><a href="OpenShift/Controller/ApiBehavior.html#check_outage-instance_method" title="OpenShift::Controller::ApiBehavior#check_outage (method)">#check_outage</a></span>, <span class='object_link'><a href="OpenShift/Controller/ApiBehavior.html#check_version-instance_method" title="OpenShift::Controller::ApiBehavior#check_version (method)">#check_version</a></span>, <span class='object_link'><a href="OpenShift/Controller/ApiBehavior.html#get_application-instance_method" title="OpenShift::Controller::ApiBehavior#get_application (method)">#get_application</a></span>, <span class='object_link'><a href="OpenShift/Controller/ApiBehavior.html#get_bool-instance_method" title="OpenShift::Controller::ApiBehavior#get_bool (method)">#get_bool</a></span>, <span class='object_link'><a href="OpenShift/Controller/ApiBehavior.html#get_domain-instance_method" title="OpenShift::Controller::ApiBehavior#get_domain (method)">#get_domain</a></span>, <span class='object_link'><a href="OpenShift/Controller/ApiBehavior.html#get_includes-instance_method" title="OpenShift::Controller::ApiBehavior#get_includes (method)">#get_includes</a></span>, <span class='object_link'><a href="OpenShift/Controller/ApiBehavior.html#get_log_tag_prepend-instance_method" title="OpenShift::Controller::ApiBehavior#get_log_tag_prepend (method)">#get_log_tag_prepend</a></span>, <span class='object_link'><a href="OpenShift/Controller/ApiBehavior.html#get_url-instance_method" title="OpenShift::Controller::ApiBehavior#get_url (method)">#get_url</a></span>, <span class='object_link'><a href="OpenShift/Controller/ApiBehavior.html#if_included-instance_method" title="OpenShift::Controller::ApiBehavior#if_included (method)">#if_included</a></span>, <span class='object_link'><a href="OpenShift/Controller/ApiBehavior.html#nolinks-instance_method" title="OpenShift::Controller::ApiBehavior#nolinks (method)">#nolinks</a></span>, <span class='object_link'><a href="OpenShift/Controller/ApiBehavior.html#pre_and_post_condition-instance_method" title="OpenShift::Controller::ApiBehavior#pre_and_post_condition (method)">#pre_and_post_condition</a></span>, <span class='object_link'><a href="OpenShift/Controller/ApiBehavior.html#set_locale-instance_method" title="OpenShift::Controller::ApiBehavior#set_locale (method)">#set_locale</a></span></p>

  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="OpenShift/Controller/ApiResponses.html" title="OpenShift::Controller::ApiResponses (module)">OpenShift::Controller::ApiResponses</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="OpenShift/Controller/ApiResponses.html#get_error_messages-instance_method" title="OpenShift::Controller::ApiResponses#get_error_messages (method)">#get_error_messages</a></span>, <span class='object_link'><a href="OpenShift/Controller/ApiResponses.html#get_log_args-instance_method" title="OpenShift::Controller::ApiResponses#get_log_args (method)">#get_log_args</a></span>, <span class='object_link'><a href="OpenShift/Controller/ApiResponses.html#new_rest_reply-instance_method" title="OpenShift::Controller::ApiResponses#new_rest_reply (method)">#new_rest_reply</a></span>, <span class='object_link'><a href="OpenShift/Controller/ApiResponses.html#render_error-instance_method" title="OpenShift::Controller::ApiResponses#render_error (method)">#render_error</a></span>, <span class='object_link'><a href="OpenShift/Controller/ApiResponses.html#render_exception-instance_method" title="OpenShift::Controller::ApiResponses#render_exception (method)">#render_exception</a></span>, <span class='object_link'><a href="OpenShift/Controller/ApiResponses.html#render_success-instance_method" title="OpenShift::Controller::ApiResponses#render_success (method)">#render_success</a></span>, <span class='object_link'><a href="OpenShift/Controller/ApiResponses.html#render_upgrade_in_progress-instance_method" title="OpenShift::Controller::ApiResponses#render_upgrade_in_progress (method)">#render_upgrade_in_progress</a></span></p>

  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="OpenShift/Controller/Authentication.html" title="OpenShift::Controller::Authentication (module)">OpenShift::Controller::Authentication</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="OpenShift/Controller/Authentication.html#auth_service-instance_method" title="OpenShift::Controller::Authentication#auth_service (method)">#auth_service</a></span>, <span class='object_link'><a href="OpenShift/Controller/Authentication.html#authenticate_basic_via_service-instance_method" title="OpenShift::Controller::Authentication#authenticate_basic_via_service (method)">#authenticate_basic_via_service</a></span>, <span class='object_link'><a href="OpenShift/Controller/Authentication.html#authenticate_bearer_token-instance_method" title="OpenShift::Controller::Authentication#authenticate_bearer_token (method)">#authenticate_bearer_token</a></span>, <span class='object_link'><a href="OpenShift/Controller/Authentication.html#authenticate_broker_key-instance_method" title="OpenShift::Controller::Authentication#authenticate_broker_key (method)">#authenticate_broker_key</a></span>, <span class='object_link'><a href="OpenShift/Controller/Authentication.html#authenticate_request_via_service-instance_method" title="OpenShift::Controller::Authentication#authenticate_request_via_service (method)">#authenticate_request_via_service</a></span>, <span class='object_link'><a href="OpenShift/Controller/Authentication.html#authenticate_user%21-instance_method" title="OpenShift::Controller::Authentication#authenticate_user! (method)">#authenticate_user!</a></span>, <span class='object_link'><a href="OpenShift/Controller/Authentication.html#authenticate_user_from_credentials-instance_method" title="OpenShift::Controller::Authentication#authenticate_user_from_credentials (method)">#authenticate_user_from_credentials</a></span>, <span class='object_link'><a href="OpenShift/Controller/Authentication.html#authentication_types-instance_method" title="OpenShift::Controller::Authentication#authentication_types (method)">#authentication_types</a></span>, <span class='object_link'><a href="OpenShift/Controller/Authentication.html#broker_key_auth-instance_method" title="OpenShift::Controller::Authentication#broker_key_auth (method)">#broker_key_auth</a></span>, <span class='object_link'><a href="OpenShift/Controller/Authentication.html#check_controller_scopes-instance_method" title="OpenShift::Controller::Authentication#check_controller_scopes (method)">#check_controller_scopes</a></span>, <span class='object_link'><a href="OpenShift/Controller/Authentication.html#current_user-instance_method" title="OpenShift::Controller::Authentication#current_user (method)">#current_user</a></span>, <span class='object_link'><a href="OpenShift/Controller/Authentication.html#current_user_scopes-instance_method" title="OpenShift::Controller::Authentication#current_user_scopes (method)">#current_user_scopes</a></span>, <span class='object_link'><a href="OpenShift/Controller/Authentication.html#impersonate-instance_method" title="OpenShift::Controller::Authentication#impersonate (method)">#impersonate</a></span>, <span class='object_link'><a href="OpenShift/Controller/Authentication.html#user_signed_in%3F-instance_method" title="OpenShift::Controller::Authentication#user_signed_in? (method)">#user_signed_in?</a></span></p>

  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="OpenShift/Controller/ActionLog.html" title="OpenShift::Controller::ActionLog (module)">OpenShift::Controller::ActionLog</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="OpenShift/Controller/ActionLog.html#action_log_tag_action-instance_method" title="OpenShift::Controller::ActionLog#action_log_tag_action (method)">#action_log_tag_action</a></span>, <span class='object_link'><a href="OpenShift/Controller/ActionLog.html#action_log_tag_resource-instance_method" title="OpenShift::Controller::ActionLog#action_log_tag_resource (method)">#action_log_tag_resource</a></span>, <span class='object_link'><a href="OpenShift/Controller/ActionLog.html#log_action-instance_method" title="OpenShift::Controller::ActionLog#log_action (method)">#log_action</a></span>, <span class='object_link'><a href="OpenShift/Controller/ActionLog.html#log_action_for-instance_method" title="OpenShift::Controller::ActionLog#log_action_for (method)">#log_action_for</a></span>, <span class='object_link'><a href="OpenShift/Controller/ActionLog.html#log_actions_as-instance_method" title="OpenShift::Controller::ActionLog#log_actions_as (method)">#log_actions_as</a></span>, <span class='object_link'><a href="OpenShift/Controller/ActionLog.html#set_logged_request-instance_method" title="OpenShift::Controller::ActionLog#set_logged_request (method)">#set_logged_request</a></span></p>

  
  

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="create-instance_method">
  
    - (<tt><span class='object_link'><a href="RestReply.html" title="RestReply (class)">RestReply</a></span>&lt;<span class='object_link'><a href="RestApplication.html" title="RestApplication (class)">RestApplication</a></span>&gt;</tt>) <strong>create</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Create a new application</p>

<p>URL: /domains/:domain_id/applications</p>

<p>Action: POST</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Application name</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>cartridges</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span>&lt;String&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>List of cartridges to create the application with. There must be one web
framework cartridge in the list.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>scalable</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Create a scalable application. Defaults to false.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>init_git_url</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p><a href="http://git-scm.com" target="_parent" title="Git">Git</a> URI to use as a template when creating the
application</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>gear_profile</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Gear profile to use for gears when creating the application</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>environment_variables</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="Hash.html" title="Hash (class)">Hash</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>One or more user environment variables for the application.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="RestReply.html" title="RestReply (class)">RestReply</a></span>&lt;<span class='object_link'><a href="RestApplication.html" title="RestApplication (class)">RestApplication</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Application object</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/controller/app/controllers/applications_controller.rb', line 53</span>

<span class='kw'>def</span> <span class='id identifier rubyid_create'>create</span>
  <span class='id identifier rubyid_app_name'>app_name</span> <span class='op'>=</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:name</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span> <span class='kw'>if</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:name</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_presence'>presence</span>
  <span class='id identifier rubyid_features'>features</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_downloaded_cart_urls'>downloaded_cart_urls</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_cart_params'>cart_params</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:cartridges</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_presence'>presence</span> <span class='op'>||</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:cartridge</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_presence'>presence</span><span class='rparen'>)</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_flatten'>flatten</span>
  <span class='id identifier rubyid_cart_params'>cart_params</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_c'>c</span><span class='lbracket'>[</span><span class='symbol'>:name</span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_features'>features</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_c'>c</span><span class='lbracket'>[</span><span class='symbol'>:name</span><span class='rbracket'>]</span>
      <span class='kw'>elsif</span> <span class='id identifier rubyid_c'>c</span><span class='lbracket'>[</span><span class='symbol'>:url</span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_downloaded_cart_urls'>downloaded_cart_urls</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_c'>c</span><span class='lbracket'>[</span><span class='symbol'>:url</span><span class='rbracket'>]</span>
      <span class='kw'>end</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_features'>features</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_c'>c</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_user_env_vars'>user_env_vars</span> <span class='op'>=</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:environment_variables</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_presence'>presence</span>
  <span class='const'>Application</span><span class='period'>.</span><span class='id identifier rubyid_validate_user_env_variables'>validate_user_env_variables</span><span class='lparen'>(</span><span class='id identifier rubyid_user_env_vars'>user_env_vars</span><span class='comma'>,</span> <span class='kw'>true</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_init_git_url'>init_git_url</span> <span class='op'>=</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:initial_git_url</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_presence'>presence</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_init_git_url'>init_git_url</span>
    <span class='id identifier rubyid_repo_spec'>repo_spec</span><span class='comma'>,</span> <span class='id identifier rubyid__'>_</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='const'>OpenShift</span><span class='op'>::</span><span class='const'>Git</span><span class='period'>.</span><span class='id identifier rubyid_safe_clone_spec'>safe_clone_spec</span><span class='lparen'>(</span><span class='id identifier rubyid_init_git_url'>init_git_url</span><span class='rparen'>)</span> <span class='kw'>rescue</span> <span class='kw'>nil</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_render_error'>render_error</span><span class='lparen'>(</span><span class='symbol'>:unprocessable_entity</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Invalid initial git URL</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                        <span class='int'>216</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>initial_git_url</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_repo_spec'>repo_spec</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_default_gear_size'>default_gear_size</span> <span class='op'>=</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:gear_size</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_presence'>presence</span> <span class='op'>||</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:gear_profile</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_presence'>presence</span> <span class='op'>||</span> <span class='const'>Rails</span><span class='period'>.</span><span class='id identifier rubyid_application'>application</span><span class='period'>.</span><span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_openshift'>openshift</span><span class='lbracket'>[</span><span class='symbol'>:default_gear_size</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_default_gear_size'>default_gear_size</span><span class='period'>.</span><span class='id identifier rubyid_downcase!'>downcase!</span> <span class='kw'>if</span> <span class='id identifier rubyid_default_gear_size'>default_gear_size</span>
  <span class='id identifier rubyid_valid_sizes'>valid_sizes</span> <span class='op'>=</span> <span class='const'>OpenShift</span><span class='op'>::</span><span class='const'>ApplicationContainerProxy</span><span class='period'>.</span><span class='id identifier rubyid_valid_gear_sizes'>valid_gear_sizes</span> <span class='op'>&amp;</span> <span class='ivar'>@domain</span><span class='period'>.</span><span class='id identifier rubyid_allowed_gear_sizes'>allowed_gear_sizes</span> <span class='op'>&amp;</span> <span class='ivar'>@domain</span><span class='period'>.</span><span class='id identifier rubyid_owner'>owner</span><span class='period'>.</span><span class='id identifier rubyid_allowed_gear_sizes'>allowed_gear_sizes</span>
  <span class='id identifier rubyid_builder_id'>builder_id</span> <span class='op'>=</span> <span class='kw'>nil</span>

  <span class='kw'>if</span> <span class='kw'>not</span> <span class='id identifier rubyid_authorized?'>authorized?</span><span class='lparen'>(</span><span class='symbol'>:create_application</span><span class='comma'>,</span> <span class='ivar'>@domain</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_authorized?'>authorized?</span><span class='lparen'>(</span><span class='symbol'>:create_builder_application</span><span class='comma'>,</span> <span class='ivar'>@domain</span><span class='comma'>,</span> <span class='lbrace'>{</span>
          <span class='symbol'>:cartridges</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_cart_params'>cart_params</span><span class='comma'>,</span> 
          <span class='symbol'>:gear_size</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_default_gear_size'>default_gear_size</span><span class='comma'>,</span> 
          <span class='symbol'>:valid_gear_sizes</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_valid_sizes'>valid_sizes</span><span class='comma'>,</span>
          <span class='symbol'>:domain_id</span> <span class='op'>=&gt;</span> <span class='ivar'>@domain</span><span class='period'>.</span><span class='id identifier rubyid__id'>_id</span>
        <span class='rbrace'>}</span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_scope'>scope</span> <span class='op'>=</span> <span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_scopes'>scopes</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:builder_id</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
        <span class='id identifier rubyid_builder_id'>builder_id</span> <span class='op'>=</span> <span class='id identifier rubyid_scope'>scope</span><span class='period'>.</span><span class='id identifier rubyid_builder_id'>builder_id</span>
      <span class='kw'>end</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_authorize!'>authorize!</span> <span class='symbol'>:create_application</span><span class='comma'>,</span> <span class='ivar'>@domain</span> <span class='comment'># raise the proper error
</span>    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='id identifier rubyid_render_error'>render_error</span><span class='lparen'>(</span><span class='symbol'>:unprocessable_entity</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Application name is required and cannot be blank</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                      <span class='int'>105</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>name</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_app_name'>app_name</span> <span class='kw'>or</span> <span class='id identifier rubyid_app_name'>app_name</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='kw'>return</span> <span class='id identifier rubyid_render_error'>render_error</span><span class='lparen'>(</span><span class='symbol'>:forbidden</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The owner of the domain </span><span class='embexpr_beg'>#{</span><span class='ivar'>@domain</span><span class='period'>.</span><span class='id identifier rubyid_namespace'>namespace</span><span class='embexpr_end'>}</span><span class='tstring_content'> has disabled all gear sizes from being created.  You will not be able to create an application in this domain.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                      <span class='int'>134</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_valid_sizes'>valid_sizes</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='kw'>return</span> <span class='id identifier rubyid_render_error'>render_error</span><span class='lparen'>(</span><span class='symbol'>:unprocessable_entity</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Invalid size: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_default_gear_size'>default_gear_size</span><span class='embexpr_end'>}</span><span class='tstring_content'>. Acceptable values are: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_valid_sizes'>valid_sizes</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>,</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                      <span class='int'>134</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>gear_profile</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_default_gear_size'>default_gear_size</span> <span class='kw'>and</span> <span class='op'>!</span><span class='id identifier rubyid_valid_sizes'>valid_sizes</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_default_gear_size'>default_gear_size</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='const'>Application</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='label'>domain:</span> <span class='ivar'>@domain</span><span class='comma'>,</span> <span class='label'>canonical_name:</span> <span class='id identifier rubyid_app_name'>app_name</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_render_error'>render_error</span><span class='lparen'>(</span><span class='symbol'>:unprocessable_entity</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The supplied application name &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_name'>app_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; already exists</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>100</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>name</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='const'>Rails</span><span class='period'>.</span><span class='id identifier rubyid_logger'>logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Checking to see if user limit for number of apps has been reached</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>return</span> <span class='id identifier rubyid_render_error'>render_error</span><span class='lparen'>(</span><span class='symbol'>:unprocessable_entity</span><span class='comma'>,</span> 
                      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='ivar'>@cloud_user</span><span class='period'>.</span><span class='id identifier rubyid_login'>login</span><span class='embexpr_end'>}</span><span class='tstring_content'> has already reached the gear limit of </span><span class='embexpr_beg'>#{</span><span class='ivar'>@cloud_user</span><span class='period'>.</span><span class='id identifier rubyid_max_gears'>max_gears</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                      <span class='int'>104</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='lparen'>(</span><span class='ivar'>@cloud_user</span><span class='period'>.</span><span class='id identifier rubyid_consumed_gears'>consumed_gears</span> <span class='op'>&gt;=</span> <span class='ivar'>@cloud_user</span><span class='period'>.</span><span class='id identifier rubyid_max_gears'>max_gears</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_download_cartridges_enabled'>download_cartridges_enabled</span> <span class='op'>=</span> <span class='const'>Rails</span><span class='period'>.</span><span class='id identifier rubyid_application'>application</span><span class='period'>.</span><span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_openshift'>openshift</span><span class='lbracket'>[</span><span class='symbol'>:download_cartridges_enabled</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_limit'>limit</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='const'>Rails</span><span class='period'>.</span><span class='id identifier rubyid_application'>application</span><span class='period'>.</span><span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_downloaded_cartridges'>downloaded_cartridges</span><span class='lbracket'>[</span><span class='symbol'>:max_downloaded_carts_per_app</span><span class='rbracket'>]</span> <span class='kw'>rescue</span> <span class='int'>5</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='int'>5</span>
  <span class='id identifier rubyid_carts'>carts</span> <span class='op'>=</span> <span class='const'>CartridgeCache</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_names'>cartridge_names</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>web_framework</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_render_error'>render_error</span><span class='lparen'>(</span><span class='symbol'>:unprocessable_entity</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>You may not specify more than </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_limit'>limit</span><span class='embexpr_end'>}</span><span class='tstring_content'> cartridges to be downloaded.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                          <span class='int'>109</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cartridge</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_download_cartridges_enabled'>download_cartridges_enabled</span> <span class='kw'>and</span> <span class='id identifier rubyid_downloaded_cart_urls'>downloaded_cart_urls</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_limit'>limit</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_render_error'>render_error</span><span class='lparen'>(</span><span class='symbol'>:unprocessable_entity</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>You must specify a cartridge. Valid values are (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_carts'>carts</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>, </span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                          <span class='int'>109</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cartridge</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_download_cartridges_enabled'>download_cartridges_enabled</span> <span class='op'>?</span> <span class='lparen'>(</span><span class='id identifier rubyid_downloaded_cart_urls'>downloaded_cart_urls</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='kw'>and</span> <span class='id identifier rubyid_features'>features</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='id identifier rubyid_features'>features</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='kw'>begin</span>
    <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='const'>ResultIO</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
    <span class='id identifier rubyid_scalable'>scalable</span> <span class='op'>=</span> <span class='id identifier rubyid_get_bool'>get_bool</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:scale</span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='ivar'>@application</span> <span class='op'>=</span> <span class='const'>Application</span><span class='period'>.</span><span class='id identifier rubyid_create_app'>create_app</span><span class='lparen'>(</span><span class='id identifier rubyid_app_name'>app_name</span><span class='comma'>,</span> <span class='id identifier rubyid_features'>features</span><span class='comma'>,</span> <span class='ivar'>@domain</span><span class='comma'>,</span> <span class='id identifier rubyid_default_gear_size'>default_gear_size</span><span class='comma'>,</span> <span class='id identifier rubyid_scalable'>scalable</span><span class='comma'>,</span> <span class='id identifier rubyid_result'>result</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_init_git_url'>init_git_url</span><span class='comma'>,</span> <span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_headers'>headers</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>User-Agent</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_downloaded_cart_urls'>downloaded_cart_urls</span><span class='comma'>,</span> <span class='id identifier rubyid_builder_id'>builder_id</span><span class='comma'>,</span> <span class='id identifier rubyid_user_env_vars'>user_env_vars</span><span class='rparen'>)</span>

  <span class='kw'>rescue</span> <span class='const'>OpenShift</span><span class='op'>::</span><span class='const'>UnfulfilledRequirementException</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_render_error'>render_error</span><span class='lparen'>(</span><span class='symbol'>:unprocessable_entity</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unable to create application for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_feature'>feature</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>109</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cartridges</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>rescue</span> <span class='const'>OpenShift</span><span class='op'>::</span><span class='const'>ApplicationValidationException</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
    <span class='id identifier rubyid_messages'>messages</span> <span class='op'>=</span> <span class='id identifier rubyid_get_error_messages'>get_error_messages</span><span class='lparen'>(</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_app'>app</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_render_error'>render_error</span><span class='lparen'>(</span><span class='symbol'>:unprocessable_entity</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_messages'>messages</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='ivar'>@application</span><span class='period'>.</span><span class='id identifier rubyid_user_agent'>user_agent</span><span class='op'>=</span> <span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_headers'>headers</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>User-Agent</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>

  <span class='id identifier rubyid_include_cartridges'>include_cartridges</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:include</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cartridges</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

  <span class='id identifier rubyid_app'>app</span> <span class='op'>=</span> <span class='id identifier rubyid_get_rest_application'>get_rest_application</span><span class='lparen'>(</span><span class='ivar'>@application</span><span class='comma'>,</span> <span class='id identifier rubyid_include_cartridges'>include_cartridges</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_render_success'>render_success</span><span class='lparen'>(</span><span class='symbol'>:created</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>application</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Application </span><span class='embexpr_beg'>#{</span><span class='ivar'>@application</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> was created.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_result'>result</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="destroy-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>destroy</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Delete an application</p>

<p>URL: /domains/:domain_id/applications/:id</p>

<p>Action: DELETE</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


151
152
153
154
155
156
157
158
159
160
161
162
163
164</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/controller/app/controllers/applications_controller.rb', line 151</span>

<span class='kw'>def</span> <span class='id identifier rubyid_destroy'>destroy</span>
  <span class='kw'>if</span> <span class='ivar'>@application</span><span class='period'>.</span><span class='id identifier rubyid_quarantined'>quarantined</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_render_upgrade_in_progress'>render_upgrade_in_progress</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_authorize!'>authorize!</span> <span class='symbol'>:destroy</span><span class='comma'>,</span> <span class='ivar'>@application</span>

  <span class='id identifier rubyid_id'>id</span> <span class='op'>=</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:id</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span> <span class='kw'>if</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:id</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_presence'>presence</span>

  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='ivar'>@application</span><span class='period'>.</span><span class='id identifier rubyid_destroy_app'>destroy_app</span>

  <span class='id identifier rubyid_status'>status</span> <span class='op'>=</span> <span class='id identifier rubyid_requested_api_version'>requested_api_version</span> <span class='op'>&lt;=</span> <span class='float'>1.4</span> <span class='op'>?</span> <span class='symbol'>:no_content</span> <span class='op'>:</span> <span class='symbol'>:ok</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_render_success'>render_success</span><span class='lparen'>(</span><span class='id identifier rubyid_status'>status</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Application </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_id'>id</span><span class='embexpr_end'>}</span><span class='tstring_content'> is deleted.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_result'>result</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="index-instance_method">
  
    - (<tt><span class='object_link'><a href="RestReply.html" title="RestReply (class)">RestReply</a></span>&lt;<span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="RestApplication.html" title="RestApplication (class)">RestApplication</a></span>&gt;&gt;</tt>) <strong>index</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>List all applications</p>

<p>URL: /domains/:domain_id/applications Action: GET</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>include</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Comma separated list of sub-objects to include in reply. Only "cartridges"
is supported at the moment.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="RestReply.html" title="RestReply (class)">RestReply</a></span>&lt;<span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="RestApplication.html" title="RestApplication (class)">RestApplication</a></span>&gt;&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>List of applications within the domain</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


16
17
18
19
20
21
22
23
24
25</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/controller/app/controllers/applications_controller.rb', line 16</span>

<span class='kw'>def</span> <span class='id identifier rubyid_index'>index</span>
  <span class='id identifier rubyid_include_cartridges'>include_cartridges</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:include</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cartridges</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_domain_id'>domain_id</span> <span class='op'>=</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:domain_id</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_presence'>presence</span>

  <span class='id identifier rubyid_by'>by</span> <span class='op'>=</span> <span class='id identifier rubyid_domain_id'>domain_id</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span> <span class='op'>?</span> <span class='lbrace'>{</span><span class='label'>domain_namespace:</span> <span class='const'>Domain</span><span class='period'>.</span><span class='id identifier rubyid_check_name!'>check_name!</span><span class='lparen'>(</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='rbrace'>}</span> <span class='op'>:</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_apps'>apps</span> <span class='op'>=</span> <span class='const'>Application</span><span class='period'>.</span><span class='id identifier rubyid_includes'>includes</span><span class='lparen'>(</span><span class='symbol'>:domain</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_accessible'>accessible</span><span class='lparen'>(</span><span class='id identifier rubyid_current_user'>current_user</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='id identifier rubyid_by'>by</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_app'>app</span><span class='op'>|</span> <span class='id identifier rubyid_get_rest_application'>get_rest_application</span><span class='lparen'>(</span><span class='id identifier rubyid_app'>app</span><span class='comma'>,</span> <span class='id identifier rubyid_include_cartridges'>include_cartridges</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='const'>Domain</span><span class='period'>.</span><span class='id identifier rubyid_find_by'>find_by</span><span class='lparen'>(</span><span class='label'>canonical_namespace:</span> <span class='id identifier rubyid_domain_id'>domain_id</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_apps'>apps</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_domain_id'>domain_id</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span> <span class='comment'># check for a missing domain
</span>
  <span class='id identifier rubyid_render_success'>render_success</span><span class='lparen'>(</span><span class='symbol'>:ok</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>applications</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_apps'>apps</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Found </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_apps'>apps</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='embexpr_end'>}</span><span class='tstring_content'> applications.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="show-instance_method">
  
    - (<tt><span class='object_link'><a href="RestReply.html" title="RestReply (class)">RestReply</a></span>&lt;<span class='object_link'><a href="RestApplication.html" title="RestApplication (class)">RestApplication</a></span>&gt;</tt>) <strong>show</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Retrieve a specific application</p>

<p>URL: /domains/:domain_id/applications/:id</p>

<p>Action: GET</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="RestReply.html" title="RestReply (class)">RestReply</a></span>&lt;<span class='object_link'><a href="RestApplication.html" title="RestApplication (class)">RestApplication</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Application object</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


34
35
36
37</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/controller/app/controllers/applications_controller.rb', line 34</span>

<span class='kw'>def</span> <span class='id identifier rubyid_show'>show</span>
  <span class='id identifier rubyid_include_cartridges'>include_cartridges</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:include</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cartridges</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_render_success'>render_success</span><span class='lparen'>(</span><span class='symbol'>:ok</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>application</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_get_rest_application'>get_rest_application</span><span class='lparen'>(</span><span class='ivar'>@application</span><span class='comma'>,</span> <span class='id identifier rubyid_include_cartridges'>include_cartridges</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Application &#39;</span><span class='embexpr_beg'>#{</span><span class='ivar'>@application</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; found</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Wed Sep  4 22:05:37 2013 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.5.2 (ruby-2.0.0).
</div>

  </body>
</html>