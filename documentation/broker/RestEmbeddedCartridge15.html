<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: RestEmbeddedCartridge15
  
    &mdash; Documentation by YARD 0.8.5.2
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '';
  framesUrl = "frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index (R)</a> &raquo;
    
    
    <span class="title">RestEmbeddedCartridge15</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: RestEmbeddedCartridge15
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="OpenShift/Model.html" title="OpenShift::Model (class)">OpenShift::Model</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next"><span class='object_link'><a href="OpenShift/Model.html" title="OpenShift::Model (class)">OpenShift::Model</a></span></li>
          
            <li class="next">RestEmbeddedCartridge15</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">/home/fedora/origin-server/controller/app/rest_models/rest_embedded_cartridge15.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Describes an Cartridge Example:</p>

<pre class="code ruby"><code class="ruby">```
&lt;cartridge&gt;
  &lt;name&gt;php-5.4&lt;/name&gt;
  &lt;status-messages nil=&quot;true&quot;/&gt;
  &lt;version&gt;5.4.10&lt;/version&gt;
  &lt;display-name&gt;PHP 5.4&lt;/display-name&gt;
  &lt;description&gt;PHP is a general-purpose server-side scripting language originally designed for Web development to produce dynamic Web pages. Popular development frameworks include: CakePHP, Zend, Symfony, and Code Igniter.&lt;/description&gt;
  &lt;license&gt;The PHP License, version 3.0&lt;/license&gt;
  &lt;license-url&gt;http://www.php.net/license/3_0.txt&lt;/license-url&gt;
  &lt;tags&gt;
    &lt;tag&gt;service&lt;/tag&gt;
    &lt;tag&gt;php&lt;/tag&gt;
    &lt;tag&gt;web_framework&lt;/tag&gt;
  &lt;/tags&gt;
  &lt;website&gt;http://www.php.net&lt;/website&gt;
  &lt;type&gt;standalone&lt;/type&gt;
  &lt;usage-rates/&gt;
  &lt;scales-from&gt;1&lt;/scales-from&gt;
  &lt;scales-to&gt;1&lt;/scales-to&gt;
  &lt;current-scale&gt;1&lt;/current-scale&gt;
  &lt;gear-profile&gt;small&lt;/gear-profile&gt;
  &lt;base-gear-storage&gt;1&lt;/base-gear-storage&gt;
  &lt;additional-gear-storage&gt;0&lt;/additional-gear-storage&gt;
  &lt;collocated-with/&gt;
  &lt;supported-scales-from&gt;1&lt;/supported-scales-from&gt;
  &lt;supported-scales-to&gt;1&lt;/supported-scales-to&gt;
  &lt;properties&gt;
    &lt;property&gt;
      &lt;name&gt;OPENSHIFT_TMP_DIR&lt;/name&gt;
      &lt;type&gt;environment&lt;/type&gt;
      &lt;description&gt;Directory to store application temporary files.&lt;/description&gt;
    &lt;/property&gt;
    ...
  &lt;/properties&gt;
  &lt;scales-with nil=&quot;true&quot;/&gt;
  &lt;help-topics&gt;
    &lt;Developer-Center&gt;https://openshift.redhat.com/community/developers&lt;/Developer-Center&gt;
  &lt;/help-topics&gt;
  &lt;links&gt;
    ...
  &lt;/links&gt;
&lt;/cartridge&gt;
```</code></pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Version:</p>
<ul class="version">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.1</p>
</div>
      
    </li>
  
</ul>

</div>



  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#additional_gear_storage-instance_method" title="#additional_gear_storage (instance method)">- (Integer) <strong>additional_gear_storage</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Additional number of GB of disk space (beyond the base provided by the gear
profile).</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#base_gear_storage-instance_method" title="#base_gear_storage (instance method)">- (Integer) <strong>base_gear_storage</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Number of GB of disk space assoicated with gear profile that this cartridge
is running on.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#collocated_with-instance_method" title="#collocated_with (instance method)">- (Array&lt;String&gt;) <strong>collocated_with</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Array of names of other cartridge that share the same gear(s) with this
cartridge.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#current_scale-instance_method" title="#current_scale (instance method)">- (Integer) <strong>current_scale</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Current number of gears used to run this cartridge.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#description-instance_method" title="#description (instance method)">- (String) <strong>description</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Description of the cartridge used by CLI and UIs.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#display_name-instance_method" title="#display_name (instance method)">- (String) <strong>display_name</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Formatted name used by CLI and UIs.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#gear_profile-instance_method" title="#gear_profile (instance method)">- (Integer) <strong>gear_profile</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Gear profile fo the gears this cartridge is running on.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#help_topics-instance_method" title="#help_topics (instance method)">- (Hash) <strong>help_topics</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Map of topics and associated URIs that can provide help on how to use and
configure this cartridge.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#license-instance_method" title="#license (instance method)">- (String) <strong>license</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>License of the packaged software in the cartridge.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#license_url-instance_method" title="#license_url (instance method)">- (String) <strong>license_url</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>URI to the license file for the packaged software in the cartridge.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#links-instance_method" title="#links (instance method)">- (Object) <strong>links</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#name-instance_method" title="#name (instance method)">- (String) <strong>name</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Name of the cartridge.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#properties-instance_method" title="#properties (instance method)">- (Array&lt;Property&gt;) <strong>properties</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>List of environment variables and property values that are exposed by this
cartridge and usable in application code.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#scales_from-instance_method" title="#scales_from (instance method)">- (Integer) <strong>scales_from</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>User specified minimum scale for the cartridge.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#scales_to-instance_method" title="#scales_to (instance method)">- (Integer) <strong>scales_to</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>User specified maximum scale for the cartridge.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#scales_with-instance_method" title="#scales_with (instance method)">- (Array&lt;String&gt;) <strong>scales_with</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Names of other cartridges that scale along with this cartridge and run on
the same set of gears.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#status_messages-instance_method" title="#status_messages (instance method)">- (Array&lt;String&gt;) <strong>status_messages</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Status messages returned back from the cartridge.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#supported_scales_from-instance_method" title="#supported_scales_from (instance method)">- (Integer) <strong>supported_scales_from</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Cartridge supported maximum scale.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#supported_scales_to-instance_method" title="#supported_scales_to (instance method)">- (Object) <strong>supported_scales_to</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#tags-instance_method" title="#tags (instance method)">- (Array&lt;String&gt;) <strong>tags</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Array of tags associated with the cartridge.</p>
</div></span>
  
</li>

    
      <li class="public deprecated">
  <span class="summary_signature">
    
      <a href="#type-instance_method" title="#type (instance method)">- (String) <strong>type</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  <span class="deprecated note title">deprecated</span>
  

  
    <span class="summary_desc"><strong>Deprecated.</strong> <div class='inline'></div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#url-instance_method" title="#url (instance method)">- (Object) <strong>url</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#usage_rates-instance_method" title="#usage_rates (instance method)">- (Array&lt;Object&gt;) <strong>usage_rates</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#version-instance_method" title="#version (instance method)">- (String) <strong>version</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Version of the packaged software in the cartridge.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#website-instance_method" title="#website (instance method)">- (String) <strong>website</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>URI to the website for the packaged software in the cartridge.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (RestEmbeddedCartridge15) <strong>initialize</strong>(cart, comp, app, cinst, colocated_cinsts, scale, url, status_messages, nolinks = false) </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A new instance of RestEmbeddedCartridge15.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_xml-instance_method" title="#to_xml (instance method)">- (Object) <strong>to_xml</strong>(options = {}) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="OpenShift/Model.html" title="OpenShift::Model (class)">OpenShift::Model</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="OpenShift/Model.html#attributes-instance_method" title="OpenShift::Model#attributes (method)">#attributes</a></span></p>

  
  
  
  
  
  <div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="RestEmbeddedCartridge15 (class)">RestEmbeddedCartridge15</a></span></tt>) <strong>initialize</strong>(cart, comp, app, cinst, colocated_cinsts, scale, url, status_messages, nolinks = false) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>A new instance of RestEmbeddedCartridge15</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/controller/app/rest_models/rest_embedded_cartridge15.rb', line 105</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_cart'>cart</span><span class='comma'>,</span> <span class='id identifier rubyid_comp'>comp</span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span><span class='comma'>,</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='comma'>,</span> <span class='id identifier rubyid_colocated_cinsts'>colocated_cinsts</span><span class='comma'>,</span> <span class='id identifier rubyid_scale'>scale</span><span class='comma'>,</span> <span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='id identifier rubyid_status_messages'>status_messages</span><span class='comma'>,</span> <span class='id identifier rubyid_nolinks'>nolinks</span><span class='op'>=</span><span class='kw'>false</span><span class='rparen'>)</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_status_messages'>status_messages</span> <span class='op'>=</span> <span class='id identifier rubyid_status_messages'>status_messages</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_display_name'>display_name</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_display_name'>display_name</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_license'>license</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_license'>license</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_license_url'>license_url</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_license_url'>license_url</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_tags'>tags</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_categories'>categories</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_website'>website</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_website'>website</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_downloaded_cartridges'>downloaded_cartridges</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
    <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_downloaded_cart_map'>downloaded_cart_map</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_cname'>cname</span><span class='comma'>,</span><span class='id identifier rubyid_chash'>chash</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_chash'>chash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>versioned_name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='op'>==</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='kw'>or</span> <span class='id identifier rubyid_cname'>cname</span><span class='op'>==</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='id identifier rubyid_chash'>chash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>url</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='kw'>break</span>
      <span class='kw'>end</span>
    <span class='rbrace'>}</span>
  <span class='kw'>end</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>standalone</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>embedded</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_is_embeddable?'>is_embeddable?</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_usage_rates'>usage_rates</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_usage_rates'>usage_rates</span>

  <span class='kw'>unless</span> <span class='id identifier rubyid_scale'>scale</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_from'>scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:min</span><span class='rbracket'>]</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_to'>scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:max</span><span class='rbracket'>]</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_scale'>current_scale</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:current</span><span class='rbracket'>]</span>
    <span class='comment'># self.scales_from = self.scales_to = self.current_scale = 1 if cinst.is_singleton?
</span>    <span class='kw'>if</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_is_sparse?'>is_sparse?</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_from'>scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_get_component'>get_component</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_to'>scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_get_component'>get_component</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_scale'>current_scale</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_group_instance'>group_instance</span><span class='period'>.</span><span class='id identifier rubyid_get_gears'>get_gears</span><span class='lparen'>(</span><span class='id identifier rubyid_cinst'>cinst</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_gear_profile'>gear_profile</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:gear_size</span><span class='rbracket'>]</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_base_gear_storage'>base_gear_storage</span> <span class='op'>=</span> <span class='const'>Gear</span><span class='period'>.</span><span class='id identifier rubyid_base_filesystem_gb'>base_filesystem_gb</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_gear_profile'>gear_profile</span><span class='rparen'>)</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_additional_gear_storage'>additional_gear_storage</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:additional_storage</span><span class='rbracket'>]</span>

    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_collocated_with'>collocated_with</span> <span class='op'>=</span> <span class='id identifier rubyid_colocated_cinsts'>colocated_cinsts</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span> <span class='rbrace'>}</span>
  <span class='kw'>end</span>

  <span class='kw'>unless</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_from'>supported_scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
    
    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_scalable'>scalable</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span> <span class='op'>==</span> <span class='op'>-</span><span class='int'>1</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_to'>supported_scales_to</span> <span class='op'>=</span> <span class='int'>1</span>
    <span class='kw'>else</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_to'>supported_scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='comment'>#self.provides = cart.features
</span>  <span class='kw'>else</span>
    <span class='comment'>#self.provides = app.get_feature(cinst.cartridge_name, cinst.component_name)
</span>    <span class='id identifier rubyid_prop_values'>prop_values</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_component_properties'>component_properties</span>
    <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_cart_data_def'>cart_data_def</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_data_def'>data_def</span><span class='op'>|</span>
      <span class='id identifier rubyid_property'>property</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
      <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
      <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
      <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>description</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Description</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
      <span class='comment'># checking for prop_values.empty? handles the case when prop_values is an empty array
</span>      <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>value</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='lbracket'>[</span><span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span> <span class='kw'>unless</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>or</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='kw'>or</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='lbracket'>[</span><span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_property'>property</span>
    <span class='kw'>end</span>

    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_with'>scales_with</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_component_instances'>component_instances</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_component_instance'>component_instance</span><span class='op'>|</span>
      <span class='id identifier rubyid_cart'>cart</span> <span class='op'>=</span> <span class='const'>CartridgeCache</span><span class='op'>::</span><span class='id identifier rubyid_find_cartridge'>find_cartridge</span><span class='lparen'>(</span><span class='id identifier rubyid_component_instance'>component_instance</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_categories'>categories</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_with'>scales_with</span> <span class='op'>=</span> <span class='id identifier rubyid_component_instance'>component_instance</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span>
        <span class='kw'>break</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_help_topics'>help_topics</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_help_topics'>help_topics</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span> <span class='kw'>and</span> <span class='op'>!</span><span class='id identifier rubyid_nolinks'>nolinks</span>
    <span class='id identifier rubyid_domain_id'>domain_id</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_domain'>domain</span><span class='period'>.</span><span class='id identifier rubyid_namespace'>namespace</span>
    <span class='id identifier rubyid_app_id'>app_id</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
    <span class='kw'>if</span> <span class='kw'>not</span> <span class='id identifier rubyid_app_id'>app_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='id identifier rubyid_domain_id'>domain_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_links'>links</span> <span class='op'>=</span> <span class='lbrace'>{</span>
          <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Get cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span><span class='comma'>,</span>
          <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UPDATE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Update cartridge configuration</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PUT</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='lbracket'>[</span>
            <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>additional_gear_storage</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Additional filesystem storage in gigabytes on each gear having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales_from</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Minimum number of gears having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales_to</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Maximum number of gears having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
          <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
          <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>START</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Start embedded cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
            <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>start</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
          <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
          <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>STOP</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Stop cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
            <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>stop</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
          <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
          <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RESTART</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Restart cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
            <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>restart</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
          <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
          <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RELOAD</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Reload cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
            <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>reload</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
          <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
          <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Delete cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
        <span class='rbrace'>}</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="additional_gear_storage=-instance_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="additional_gear_storage-instance_method">
  
    - (<tt>Integer</tt>) <strong>additional_gear_storage</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Additional number of GB of disk space (beyond the base provided by the gear
profile)</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Additional number of GB of disk space (beyond the base provided by the gear
profile)</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/controller/app/rest_models/rest_embedded_cartridge15.rb', line 98</span>

<span class='kw'>class</span> <span class='const'>RestEmbeddedCartridge15</span> <span class='op'>&lt;</span> <span class='const'>OpenShift</span><span class='op'>::</span><span class='const'>Model</span>
  <span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:type</span><span class='comma'>,</span> <span class='symbol'>:name</span><span class='comma'>,</span> <span class='symbol'>:version</span><span class='comma'>,</span> <span class='symbol'>:license</span><span class='comma'>,</span> <span class='symbol'>:license_url</span><span class='comma'>,</span> <span class='symbol'>:tags</span><span class='comma'>,</span> <span class='symbol'>:website</span><span class='comma'>,</span> <span class='symbol'>:url</span><span class='comma'>,</span>
    <span class='symbol'>:help_topics</span><span class='comma'>,</span> <span class='symbol'>:links</span><span class='comma'>,</span> <span class='symbol'>:properties</span><span class='comma'>,</span> <span class='symbol'>:display_name</span><span class='comma'>,</span> <span class='symbol'>:description</span><span class='comma'>,</span> <span class='symbol'>:scales_from</span><span class='comma'>,</span>
    <span class='symbol'>:scales_to</span><span class='comma'>,</span> <span class='symbol'>:current_scale</span><span class='comma'>,</span> <span class='symbol'>:supported_scales_from</span><span class='comma'>,</span> <span class='symbol'>:supported_scales_to</span><span class='comma'>,</span>
    <span class='symbol'>:scales_with</span><span class='comma'>,</span> <span class='symbol'>:base_gear_storage</span><span class='comma'>,</span> <span class='symbol'>:additional_gear_storage</span><span class='comma'>,</span> <span class='symbol'>:gear_profile</span><span class='comma'>,</span> <span class='symbol'>:collocated_with</span><span class='comma'>,</span> 
    <span class='symbol'>:status_messages</span><span class='comma'>,</span> <span class='symbol'>:usage_rates</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_cart'>cart</span><span class='comma'>,</span> <span class='id identifier rubyid_comp'>comp</span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span><span class='comma'>,</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='comma'>,</span> <span class='id identifier rubyid_colocated_cinsts'>colocated_cinsts</span><span class='comma'>,</span> <span class='id identifier rubyid_scale'>scale</span><span class='comma'>,</span> <span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='id identifier rubyid_status_messages'>status_messages</span><span class='comma'>,</span> <span class='id identifier rubyid_nolinks'>nolinks</span><span class='op'>=</span><span class='kw'>false</span><span class='rparen'>)</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_status_messages'>status_messages</span> <span class='op'>=</span> <span class='id identifier rubyid_status_messages'>status_messages</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_display_name'>display_name</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_display_name'>display_name</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_license'>license</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_license'>license</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_license_url'>license_url</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_license_url'>license_url</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_tags'>tags</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_categories'>categories</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_website'>website</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_website'>website</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_downloaded_cartridges'>downloaded_cartridges</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_downloaded_cart_map'>downloaded_cart_map</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_cname'>cname</span><span class='comma'>,</span><span class='id identifier rubyid_chash'>chash</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_chash'>chash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>versioned_name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='op'>==</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='kw'>or</span> <span class='id identifier rubyid_cname'>cname</span><span class='op'>==</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
          <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='id identifier rubyid_chash'>chash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>url</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='rbrace'>}</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>standalone</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>embedded</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_is_embeddable?'>is_embeddable?</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_usage_rates'>usage_rates</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_usage_rates'>usage_rates</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_scale'>scale</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_from'>scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:min</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_to'>scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:max</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_scale'>current_scale</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:current</span><span class='rbracket'>]</span>
      <span class='comment'># self.scales_from = self.scales_to = self.current_scale = 1 if cinst.is_singleton?
</span>      <span class='kw'>if</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_is_sparse?'>is_sparse?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_from'>scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_get_component'>get_component</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_to'>scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_get_component'>get_component</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_scale'>current_scale</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_group_instance'>group_instance</span><span class='period'>.</span><span class='id identifier rubyid_get_gears'>get_gears</span><span class='lparen'>(</span><span class='id identifier rubyid_cinst'>cinst</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
      <span class='kw'>end</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_gear_profile'>gear_profile</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:gear_size</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_base_gear_storage'>base_gear_storage</span> <span class='op'>=</span> <span class='const'>Gear</span><span class='period'>.</span><span class='id identifier rubyid_base_filesystem_gb'>base_filesystem_gb</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_gear_profile'>gear_profile</span><span class='rparen'>)</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_additional_gear_storage'>additional_gear_storage</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:additional_storage</span><span class='rbracket'>]</span>

      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_collocated_with'>collocated_with</span> <span class='op'>=</span> <span class='id identifier rubyid_colocated_cinsts'>colocated_cinsts</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span> <span class='rbrace'>}</span>
    <span class='kw'>end</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_from'>supported_scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
      
      <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_scalable'>scalable</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span> <span class='op'>==</span> <span class='op'>-</span><span class='int'>1</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_to'>supported_scales_to</span> <span class='op'>=</span> <span class='int'>1</span>
      <span class='kw'>else</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_to'>supported_scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='comment'>#self.provides = cart.features
</span>    <span class='kw'>else</span>
      <span class='comment'>#self.provides = app.get_feature(cinst.cartridge_name, cinst.component_name)
</span>      <span class='id identifier rubyid_prop_values'>prop_values</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_component_properties'>component_properties</span>
      <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_cart_data_def'>cart_data_def</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_data_def'>data_def</span><span class='op'>|</span>
        <span class='id identifier rubyid_property'>property</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>description</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Description</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='comment'># checking for prop_values.empty? handles the case when prop_values is an empty array
</span>        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>value</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='lbracket'>[</span><span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span> <span class='kw'>unless</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>or</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='kw'>or</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='lbracket'>[</span><span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_property'>property</span>
      <span class='kw'>end</span>

      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_with'>scales_with</span> <span class='op'>=</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_component_instances'>component_instances</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_component_instance'>component_instance</span><span class='op'>|</span>
        <span class='id identifier rubyid_cart'>cart</span> <span class='op'>=</span> <span class='const'>CartridgeCache</span><span class='op'>::</span><span class='id identifier rubyid_find_cartridge'>find_cartridge</span><span class='lparen'>(</span><span class='id identifier rubyid_component_instance'>component_instance</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span><span class='rparen'>)</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_categories'>categories</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
          <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_with'>scales_with</span> <span class='op'>=</span> <span class='id identifier rubyid_component_instance'>component_instance</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_help_topics'>help_topics</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_help_topics'>help_topics</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span> <span class='kw'>and</span> <span class='op'>!</span><span class='id identifier rubyid_nolinks'>nolinks</span>
      <span class='id identifier rubyid_domain_id'>domain_id</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_domain'>domain</span><span class='period'>.</span><span class='id identifier rubyid_namespace'>namespace</span>
      <span class='id identifier rubyid_app_id'>app_id</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='kw'>if</span> <span class='kw'>not</span> <span class='id identifier rubyid_app_id'>app_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='id identifier rubyid_domain_id'>domain_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_links'>links</span> <span class='op'>=</span> <span class='lbrace'>{</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Get cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UPDATE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Update cartridge configuration</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PUT</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>additional_gear_storage</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Additional filesystem storage in gigabytes on each gear having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales_from</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Minimum number of gears having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales_to</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Maximum number of gears having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>START</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Start embedded cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>start</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>STOP</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Stop cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>stop</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RESTART</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Restart cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>restart</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RELOAD</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Reload cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>reload</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Delete cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
          <span class='rbrace'>}</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_to_xml'>to_xml</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:tag_name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cartridge</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>super</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="base_gear_storage=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="base_gear_storage-instance_method">
  
    - (<tt>Integer</tt>) <strong>base_gear_storage</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Number of GB of disk space assoicated with gear profile that this cartridge
is running on</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Number of GB of disk space assoicated with gear profile that this cartridge
is running on</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/controller/app/rest_models/rest_embedded_cartridge15.rb', line 98</span>

<span class='kw'>class</span> <span class='const'>RestEmbeddedCartridge15</span> <span class='op'>&lt;</span> <span class='const'>OpenShift</span><span class='op'>::</span><span class='const'>Model</span>
  <span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:type</span><span class='comma'>,</span> <span class='symbol'>:name</span><span class='comma'>,</span> <span class='symbol'>:version</span><span class='comma'>,</span> <span class='symbol'>:license</span><span class='comma'>,</span> <span class='symbol'>:license_url</span><span class='comma'>,</span> <span class='symbol'>:tags</span><span class='comma'>,</span> <span class='symbol'>:website</span><span class='comma'>,</span> <span class='symbol'>:url</span><span class='comma'>,</span>
    <span class='symbol'>:help_topics</span><span class='comma'>,</span> <span class='symbol'>:links</span><span class='comma'>,</span> <span class='symbol'>:properties</span><span class='comma'>,</span> <span class='symbol'>:display_name</span><span class='comma'>,</span> <span class='symbol'>:description</span><span class='comma'>,</span> <span class='symbol'>:scales_from</span><span class='comma'>,</span>
    <span class='symbol'>:scales_to</span><span class='comma'>,</span> <span class='symbol'>:current_scale</span><span class='comma'>,</span> <span class='symbol'>:supported_scales_from</span><span class='comma'>,</span> <span class='symbol'>:supported_scales_to</span><span class='comma'>,</span>
    <span class='symbol'>:scales_with</span><span class='comma'>,</span> <span class='symbol'>:base_gear_storage</span><span class='comma'>,</span> <span class='symbol'>:additional_gear_storage</span><span class='comma'>,</span> <span class='symbol'>:gear_profile</span><span class='comma'>,</span> <span class='symbol'>:collocated_with</span><span class='comma'>,</span> 
    <span class='symbol'>:status_messages</span><span class='comma'>,</span> <span class='symbol'>:usage_rates</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_cart'>cart</span><span class='comma'>,</span> <span class='id identifier rubyid_comp'>comp</span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span><span class='comma'>,</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='comma'>,</span> <span class='id identifier rubyid_colocated_cinsts'>colocated_cinsts</span><span class='comma'>,</span> <span class='id identifier rubyid_scale'>scale</span><span class='comma'>,</span> <span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='id identifier rubyid_status_messages'>status_messages</span><span class='comma'>,</span> <span class='id identifier rubyid_nolinks'>nolinks</span><span class='op'>=</span><span class='kw'>false</span><span class='rparen'>)</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_status_messages'>status_messages</span> <span class='op'>=</span> <span class='id identifier rubyid_status_messages'>status_messages</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_display_name'>display_name</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_display_name'>display_name</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_license'>license</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_license'>license</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_license_url'>license_url</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_license_url'>license_url</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_tags'>tags</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_categories'>categories</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_website'>website</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_website'>website</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_downloaded_cartridges'>downloaded_cartridges</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_downloaded_cart_map'>downloaded_cart_map</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_cname'>cname</span><span class='comma'>,</span><span class='id identifier rubyid_chash'>chash</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_chash'>chash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>versioned_name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='op'>==</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='kw'>or</span> <span class='id identifier rubyid_cname'>cname</span><span class='op'>==</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
          <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='id identifier rubyid_chash'>chash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>url</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='rbrace'>}</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>standalone</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>embedded</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_is_embeddable?'>is_embeddable?</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_usage_rates'>usage_rates</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_usage_rates'>usage_rates</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_scale'>scale</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_from'>scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:min</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_to'>scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:max</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_scale'>current_scale</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:current</span><span class='rbracket'>]</span>
      <span class='comment'># self.scales_from = self.scales_to = self.current_scale = 1 if cinst.is_singleton?
</span>      <span class='kw'>if</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_is_sparse?'>is_sparse?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_from'>scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_get_component'>get_component</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_to'>scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_get_component'>get_component</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_scale'>current_scale</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_group_instance'>group_instance</span><span class='period'>.</span><span class='id identifier rubyid_get_gears'>get_gears</span><span class='lparen'>(</span><span class='id identifier rubyid_cinst'>cinst</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
      <span class='kw'>end</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_gear_profile'>gear_profile</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:gear_size</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_base_gear_storage'>base_gear_storage</span> <span class='op'>=</span> <span class='const'>Gear</span><span class='period'>.</span><span class='id identifier rubyid_base_filesystem_gb'>base_filesystem_gb</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_gear_profile'>gear_profile</span><span class='rparen'>)</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_additional_gear_storage'>additional_gear_storage</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:additional_storage</span><span class='rbracket'>]</span>

      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_collocated_with'>collocated_with</span> <span class='op'>=</span> <span class='id identifier rubyid_colocated_cinsts'>colocated_cinsts</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span> <span class='rbrace'>}</span>
    <span class='kw'>end</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_from'>supported_scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
      
      <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_scalable'>scalable</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span> <span class='op'>==</span> <span class='op'>-</span><span class='int'>1</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_to'>supported_scales_to</span> <span class='op'>=</span> <span class='int'>1</span>
      <span class='kw'>else</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_to'>supported_scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='comment'>#self.provides = cart.features
</span>    <span class='kw'>else</span>
      <span class='comment'>#self.provides = app.get_feature(cinst.cartridge_name, cinst.component_name)
</span>      <span class='id identifier rubyid_prop_values'>prop_values</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_component_properties'>component_properties</span>
      <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_cart_data_def'>cart_data_def</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_data_def'>data_def</span><span class='op'>|</span>
        <span class='id identifier rubyid_property'>property</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>description</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Description</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='comment'># checking for prop_values.empty? handles the case when prop_values is an empty array
</span>        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>value</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='lbracket'>[</span><span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span> <span class='kw'>unless</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>or</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='kw'>or</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='lbracket'>[</span><span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_property'>property</span>
      <span class='kw'>end</span>

      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_with'>scales_with</span> <span class='op'>=</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_component_instances'>component_instances</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_component_instance'>component_instance</span><span class='op'>|</span>
        <span class='id identifier rubyid_cart'>cart</span> <span class='op'>=</span> <span class='const'>CartridgeCache</span><span class='op'>::</span><span class='id identifier rubyid_find_cartridge'>find_cartridge</span><span class='lparen'>(</span><span class='id identifier rubyid_component_instance'>component_instance</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span><span class='rparen'>)</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_categories'>categories</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
          <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_with'>scales_with</span> <span class='op'>=</span> <span class='id identifier rubyid_component_instance'>component_instance</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_help_topics'>help_topics</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_help_topics'>help_topics</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span> <span class='kw'>and</span> <span class='op'>!</span><span class='id identifier rubyid_nolinks'>nolinks</span>
      <span class='id identifier rubyid_domain_id'>domain_id</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_domain'>domain</span><span class='period'>.</span><span class='id identifier rubyid_namespace'>namespace</span>
      <span class='id identifier rubyid_app_id'>app_id</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='kw'>if</span> <span class='kw'>not</span> <span class='id identifier rubyid_app_id'>app_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='id identifier rubyid_domain_id'>domain_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_links'>links</span> <span class='op'>=</span> <span class='lbrace'>{</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Get cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UPDATE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Update cartridge configuration</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PUT</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>additional_gear_storage</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Additional filesystem storage in gigabytes on each gear having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales_from</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Minimum number of gears having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales_to</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Maximum number of gears having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>START</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Start embedded cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>start</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>STOP</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Stop cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>stop</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RESTART</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Restart cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>restart</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RELOAD</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Reload cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>reload</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Delete cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
          <span class='rbrace'>}</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_to_xml'>to_xml</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:tag_name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cartridge</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>super</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="collocated_with=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="collocated_with-instance_method">
  
    - (<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span>&lt;String&gt;</tt>) <strong>collocated_with</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Array of names of other cartridge that share the same gear(s) with this
cartridge</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span>&lt;String&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Array of names of other cartridge that share the same gear(s) with this
cartridge</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/controller/app/rest_models/rest_embedded_cartridge15.rb', line 98</span>

<span class='kw'>class</span> <span class='const'>RestEmbeddedCartridge15</span> <span class='op'>&lt;</span> <span class='const'>OpenShift</span><span class='op'>::</span><span class='const'>Model</span>
  <span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:type</span><span class='comma'>,</span> <span class='symbol'>:name</span><span class='comma'>,</span> <span class='symbol'>:version</span><span class='comma'>,</span> <span class='symbol'>:license</span><span class='comma'>,</span> <span class='symbol'>:license_url</span><span class='comma'>,</span> <span class='symbol'>:tags</span><span class='comma'>,</span> <span class='symbol'>:website</span><span class='comma'>,</span> <span class='symbol'>:url</span><span class='comma'>,</span>
    <span class='symbol'>:help_topics</span><span class='comma'>,</span> <span class='symbol'>:links</span><span class='comma'>,</span> <span class='symbol'>:properties</span><span class='comma'>,</span> <span class='symbol'>:display_name</span><span class='comma'>,</span> <span class='symbol'>:description</span><span class='comma'>,</span> <span class='symbol'>:scales_from</span><span class='comma'>,</span>
    <span class='symbol'>:scales_to</span><span class='comma'>,</span> <span class='symbol'>:current_scale</span><span class='comma'>,</span> <span class='symbol'>:supported_scales_from</span><span class='comma'>,</span> <span class='symbol'>:supported_scales_to</span><span class='comma'>,</span>
    <span class='symbol'>:scales_with</span><span class='comma'>,</span> <span class='symbol'>:base_gear_storage</span><span class='comma'>,</span> <span class='symbol'>:additional_gear_storage</span><span class='comma'>,</span> <span class='symbol'>:gear_profile</span><span class='comma'>,</span> <span class='symbol'>:collocated_with</span><span class='comma'>,</span> 
    <span class='symbol'>:status_messages</span><span class='comma'>,</span> <span class='symbol'>:usage_rates</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_cart'>cart</span><span class='comma'>,</span> <span class='id identifier rubyid_comp'>comp</span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span><span class='comma'>,</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='comma'>,</span> <span class='id identifier rubyid_colocated_cinsts'>colocated_cinsts</span><span class='comma'>,</span> <span class='id identifier rubyid_scale'>scale</span><span class='comma'>,</span> <span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='id identifier rubyid_status_messages'>status_messages</span><span class='comma'>,</span> <span class='id identifier rubyid_nolinks'>nolinks</span><span class='op'>=</span><span class='kw'>false</span><span class='rparen'>)</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_status_messages'>status_messages</span> <span class='op'>=</span> <span class='id identifier rubyid_status_messages'>status_messages</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_display_name'>display_name</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_display_name'>display_name</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_license'>license</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_license'>license</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_license_url'>license_url</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_license_url'>license_url</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_tags'>tags</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_categories'>categories</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_website'>website</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_website'>website</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_downloaded_cartridges'>downloaded_cartridges</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_downloaded_cart_map'>downloaded_cart_map</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_cname'>cname</span><span class='comma'>,</span><span class='id identifier rubyid_chash'>chash</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_chash'>chash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>versioned_name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='op'>==</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='kw'>or</span> <span class='id identifier rubyid_cname'>cname</span><span class='op'>==</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
          <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='id identifier rubyid_chash'>chash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>url</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='rbrace'>}</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>standalone</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>embedded</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_is_embeddable?'>is_embeddable?</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_usage_rates'>usage_rates</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_usage_rates'>usage_rates</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_scale'>scale</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_from'>scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:min</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_to'>scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:max</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_scale'>current_scale</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:current</span><span class='rbracket'>]</span>
      <span class='comment'># self.scales_from = self.scales_to = self.current_scale = 1 if cinst.is_singleton?
</span>      <span class='kw'>if</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_is_sparse?'>is_sparse?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_from'>scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_get_component'>get_component</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_to'>scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_get_component'>get_component</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_scale'>current_scale</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_group_instance'>group_instance</span><span class='period'>.</span><span class='id identifier rubyid_get_gears'>get_gears</span><span class='lparen'>(</span><span class='id identifier rubyid_cinst'>cinst</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
      <span class='kw'>end</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_gear_profile'>gear_profile</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:gear_size</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_base_gear_storage'>base_gear_storage</span> <span class='op'>=</span> <span class='const'>Gear</span><span class='period'>.</span><span class='id identifier rubyid_base_filesystem_gb'>base_filesystem_gb</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_gear_profile'>gear_profile</span><span class='rparen'>)</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_additional_gear_storage'>additional_gear_storage</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:additional_storage</span><span class='rbracket'>]</span>

      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_collocated_with'>collocated_with</span> <span class='op'>=</span> <span class='id identifier rubyid_colocated_cinsts'>colocated_cinsts</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span> <span class='rbrace'>}</span>
    <span class='kw'>end</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_from'>supported_scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
      
      <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_scalable'>scalable</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span> <span class='op'>==</span> <span class='op'>-</span><span class='int'>1</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_to'>supported_scales_to</span> <span class='op'>=</span> <span class='int'>1</span>
      <span class='kw'>else</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_to'>supported_scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='comment'>#self.provides = cart.features
</span>    <span class='kw'>else</span>
      <span class='comment'>#self.provides = app.get_feature(cinst.cartridge_name, cinst.component_name)
</span>      <span class='id identifier rubyid_prop_values'>prop_values</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_component_properties'>component_properties</span>
      <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_cart_data_def'>cart_data_def</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_data_def'>data_def</span><span class='op'>|</span>
        <span class='id identifier rubyid_property'>property</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>description</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Description</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='comment'># checking for prop_values.empty? handles the case when prop_values is an empty array
</span>        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>value</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='lbracket'>[</span><span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span> <span class='kw'>unless</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>or</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='kw'>or</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='lbracket'>[</span><span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_property'>property</span>
      <span class='kw'>end</span>

      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_with'>scales_with</span> <span class='op'>=</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_component_instances'>component_instances</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_component_instance'>component_instance</span><span class='op'>|</span>
        <span class='id identifier rubyid_cart'>cart</span> <span class='op'>=</span> <span class='const'>CartridgeCache</span><span class='op'>::</span><span class='id identifier rubyid_find_cartridge'>find_cartridge</span><span class='lparen'>(</span><span class='id identifier rubyid_component_instance'>component_instance</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span><span class='rparen'>)</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_categories'>categories</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
          <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_with'>scales_with</span> <span class='op'>=</span> <span class='id identifier rubyid_component_instance'>component_instance</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_help_topics'>help_topics</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_help_topics'>help_topics</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span> <span class='kw'>and</span> <span class='op'>!</span><span class='id identifier rubyid_nolinks'>nolinks</span>
      <span class='id identifier rubyid_domain_id'>domain_id</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_domain'>domain</span><span class='period'>.</span><span class='id identifier rubyid_namespace'>namespace</span>
      <span class='id identifier rubyid_app_id'>app_id</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='kw'>if</span> <span class='kw'>not</span> <span class='id identifier rubyid_app_id'>app_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='id identifier rubyid_domain_id'>domain_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_links'>links</span> <span class='op'>=</span> <span class='lbrace'>{</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Get cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UPDATE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Update cartridge configuration</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PUT</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>additional_gear_storage</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Additional filesystem storage in gigabytes on each gear having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales_from</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Minimum number of gears having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales_to</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Maximum number of gears having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>START</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Start embedded cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>start</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>STOP</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Stop cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>stop</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RESTART</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Restart cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>restart</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RELOAD</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Reload cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>reload</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Delete cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
          <span class='rbrace'>}</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_to_xml'>to_xml</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:tag_name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cartridge</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>super</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="current_scale=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="current_scale-instance_method">
  
    - (<tt>Integer</tt>) <strong>current_scale</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Current number of gears used to run this cartridge</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Current number of gears used to run this cartridge</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/controller/app/rest_models/rest_embedded_cartridge15.rb', line 98</span>

<span class='kw'>class</span> <span class='const'>RestEmbeddedCartridge15</span> <span class='op'>&lt;</span> <span class='const'>OpenShift</span><span class='op'>::</span><span class='const'>Model</span>
  <span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:type</span><span class='comma'>,</span> <span class='symbol'>:name</span><span class='comma'>,</span> <span class='symbol'>:version</span><span class='comma'>,</span> <span class='symbol'>:license</span><span class='comma'>,</span> <span class='symbol'>:license_url</span><span class='comma'>,</span> <span class='symbol'>:tags</span><span class='comma'>,</span> <span class='symbol'>:website</span><span class='comma'>,</span> <span class='symbol'>:url</span><span class='comma'>,</span>
    <span class='symbol'>:help_topics</span><span class='comma'>,</span> <span class='symbol'>:links</span><span class='comma'>,</span> <span class='symbol'>:properties</span><span class='comma'>,</span> <span class='symbol'>:display_name</span><span class='comma'>,</span> <span class='symbol'>:description</span><span class='comma'>,</span> <span class='symbol'>:scales_from</span><span class='comma'>,</span>
    <span class='symbol'>:scales_to</span><span class='comma'>,</span> <span class='symbol'>:current_scale</span><span class='comma'>,</span> <span class='symbol'>:supported_scales_from</span><span class='comma'>,</span> <span class='symbol'>:supported_scales_to</span><span class='comma'>,</span>
    <span class='symbol'>:scales_with</span><span class='comma'>,</span> <span class='symbol'>:base_gear_storage</span><span class='comma'>,</span> <span class='symbol'>:additional_gear_storage</span><span class='comma'>,</span> <span class='symbol'>:gear_profile</span><span class='comma'>,</span> <span class='symbol'>:collocated_with</span><span class='comma'>,</span> 
    <span class='symbol'>:status_messages</span><span class='comma'>,</span> <span class='symbol'>:usage_rates</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_cart'>cart</span><span class='comma'>,</span> <span class='id identifier rubyid_comp'>comp</span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span><span class='comma'>,</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='comma'>,</span> <span class='id identifier rubyid_colocated_cinsts'>colocated_cinsts</span><span class='comma'>,</span> <span class='id identifier rubyid_scale'>scale</span><span class='comma'>,</span> <span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='id identifier rubyid_status_messages'>status_messages</span><span class='comma'>,</span> <span class='id identifier rubyid_nolinks'>nolinks</span><span class='op'>=</span><span class='kw'>false</span><span class='rparen'>)</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_status_messages'>status_messages</span> <span class='op'>=</span> <span class='id identifier rubyid_status_messages'>status_messages</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_display_name'>display_name</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_display_name'>display_name</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_license'>license</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_license'>license</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_license_url'>license_url</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_license_url'>license_url</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_tags'>tags</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_categories'>categories</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_website'>website</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_website'>website</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_downloaded_cartridges'>downloaded_cartridges</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_downloaded_cart_map'>downloaded_cart_map</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_cname'>cname</span><span class='comma'>,</span><span class='id identifier rubyid_chash'>chash</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_chash'>chash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>versioned_name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='op'>==</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='kw'>or</span> <span class='id identifier rubyid_cname'>cname</span><span class='op'>==</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
          <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='id identifier rubyid_chash'>chash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>url</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='rbrace'>}</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>standalone</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>embedded</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_is_embeddable?'>is_embeddable?</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_usage_rates'>usage_rates</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_usage_rates'>usage_rates</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_scale'>scale</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_from'>scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:min</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_to'>scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:max</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_scale'>current_scale</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:current</span><span class='rbracket'>]</span>
      <span class='comment'># self.scales_from = self.scales_to = self.current_scale = 1 if cinst.is_singleton?
</span>      <span class='kw'>if</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_is_sparse?'>is_sparse?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_from'>scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_get_component'>get_component</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_to'>scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_get_component'>get_component</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_scale'>current_scale</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_group_instance'>group_instance</span><span class='period'>.</span><span class='id identifier rubyid_get_gears'>get_gears</span><span class='lparen'>(</span><span class='id identifier rubyid_cinst'>cinst</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
      <span class='kw'>end</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_gear_profile'>gear_profile</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:gear_size</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_base_gear_storage'>base_gear_storage</span> <span class='op'>=</span> <span class='const'>Gear</span><span class='period'>.</span><span class='id identifier rubyid_base_filesystem_gb'>base_filesystem_gb</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_gear_profile'>gear_profile</span><span class='rparen'>)</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_additional_gear_storage'>additional_gear_storage</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:additional_storage</span><span class='rbracket'>]</span>

      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_collocated_with'>collocated_with</span> <span class='op'>=</span> <span class='id identifier rubyid_colocated_cinsts'>colocated_cinsts</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span> <span class='rbrace'>}</span>
    <span class='kw'>end</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_from'>supported_scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
      
      <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_scalable'>scalable</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span> <span class='op'>==</span> <span class='op'>-</span><span class='int'>1</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_to'>supported_scales_to</span> <span class='op'>=</span> <span class='int'>1</span>
      <span class='kw'>else</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_to'>supported_scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='comment'>#self.provides = cart.features
</span>    <span class='kw'>else</span>
      <span class='comment'>#self.provides = app.get_feature(cinst.cartridge_name, cinst.component_name)
</span>      <span class='id identifier rubyid_prop_values'>prop_values</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_component_properties'>component_properties</span>
      <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_cart_data_def'>cart_data_def</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_data_def'>data_def</span><span class='op'>|</span>
        <span class='id identifier rubyid_property'>property</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>description</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Description</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='comment'># checking for prop_values.empty? handles the case when prop_values is an empty array
</span>        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>value</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='lbracket'>[</span><span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span> <span class='kw'>unless</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>or</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='kw'>or</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='lbracket'>[</span><span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_property'>property</span>
      <span class='kw'>end</span>

      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_with'>scales_with</span> <span class='op'>=</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_component_instances'>component_instances</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_component_instance'>component_instance</span><span class='op'>|</span>
        <span class='id identifier rubyid_cart'>cart</span> <span class='op'>=</span> <span class='const'>CartridgeCache</span><span class='op'>::</span><span class='id identifier rubyid_find_cartridge'>find_cartridge</span><span class='lparen'>(</span><span class='id identifier rubyid_component_instance'>component_instance</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span><span class='rparen'>)</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_categories'>categories</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
          <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_with'>scales_with</span> <span class='op'>=</span> <span class='id identifier rubyid_component_instance'>component_instance</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_help_topics'>help_topics</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_help_topics'>help_topics</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span> <span class='kw'>and</span> <span class='op'>!</span><span class='id identifier rubyid_nolinks'>nolinks</span>
      <span class='id identifier rubyid_domain_id'>domain_id</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_domain'>domain</span><span class='period'>.</span><span class='id identifier rubyid_namespace'>namespace</span>
      <span class='id identifier rubyid_app_id'>app_id</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='kw'>if</span> <span class='kw'>not</span> <span class='id identifier rubyid_app_id'>app_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='id identifier rubyid_domain_id'>domain_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_links'>links</span> <span class='op'>=</span> <span class='lbrace'>{</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Get cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UPDATE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Update cartridge configuration</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PUT</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>additional_gear_storage</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Additional filesystem storage in gigabytes on each gear having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales_from</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Minimum number of gears having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales_to</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Maximum number of gears having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>START</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Start embedded cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>start</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>STOP</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Stop cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>stop</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RESTART</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Restart cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>restart</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RELOAD</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Reload cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>reload</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Delete cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
          <span class='rbrace'>}</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_to_xml'>to_xml</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:tag_name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cartridge</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>super</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="description=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="description-instance_method">
  
    - (<tt>String</tt>) <strong>description</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Description of the cartridge used by CLI and UIs</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Description of the cartridge used by CLI and UIs</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/controller/app/rest_models/rest_embedded_cartridge15.rb', line 98</span>

<span class='kw'>class</span> <span class='const'>RestEmbeddedCartridge15</span> <span class='op'>&lt;</span> <span class='const'>OpenShift</span><span class='op'>::</span><span class='const'>Model</span>
  <span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:type</span><span class='comma'>,</span> <span class='symbol'>:name</span><span class='comma'>,</span> <span class='symbol'>:version</span><span class='comma'>,</span> <span class='symbol'>:license</span><span class='comma'>,</span> <span class='symbol'>:license_url</span><span class='comma'>,</span> <span class='symbol'>:tags</span><span class='comma'>,</span> <span class='symbol'>:website</span><span class='comma'>,</span> <span class='symbol'>:url</span><span class='comma'>,</span>
    <span class='symbol'>:help_topics</span><span class='comma'>,</span> <span class='symbol'>:links</span><span class='comma'>,</span> <span class='symbol'>:properties</span><span class='comma'>,</span> <span class='symbol'>:display_name</span><span class='comma'>,</span> <span class='symbol'>:description</span><span class='comma'>,</span> <span class='symbol'>:scales_from</span><span class='comma'>,</span>
    <span class='symbol'>:scales_to</span><span class='comma'>,</span> <span class='symbol'>:current_scale</span><span class='comma'>,</span> <span class='symbol'>:supported_scales_from</span><span class='comma'>,</span> <span class='symbol'>:supported_scales_to</span><span class='comma'>,</span>
    <span class='symbol'>:scales_with</span><span class='comma'>,</span> <span class='symbol'>:base_gear_storage</span><span class='comma'>,</span> <span class='symbol'>:additional_gear_storage</span><span class='comma'>,</span> <span class='symbol'>:gear_profile</span><span class='comma'>,</span> <span class='symbol'>:collocated_with</span><span class='comma'>,</span> 
    <span class='symbol'>:status_messages</span><span class='comma'>,</span> <span class='symbol'>:usage_rates</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_cart'>cart</span><span class='comma'>,</span> <span class='id identifier rubyid_comp'>comp</span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span><span class='comma'>,</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='comma'>,</span> <span class='id identifier rubyid_colocated_cinsts'>colocated_cinsts</span><span class='comma'>,</span> <span class='id identifier rubyid_scale'>scale</span><span class='comma'>,</span> <span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='id identifier rubyid_status_messages'>status_messages</span><span class='comma'>,</span> <span class='id identifier rubyid_nolinks'>nolinks</span><span class='op'>=</span><span class='kw'>false</span><span class='rparen'>)</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_status_messages'>status_messages</span> <span class='op'>=</span> <span class='id identifier rubyid_status_messages'>status_messages</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_display_name'>display_name</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_display_name'>display_name</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_license'>license</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_license'>license</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_license_url'>license_url</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_license_url'>license_url</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_tags'>tags</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_categories'>categories</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_website'>website</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_website'>website</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_downloaded_cartridges'>downloaded_cartridges</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_downloaded_cart_map'>downloaded_cart_map</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_cname'>cname</span><span class='comma'>,</span><span class='id identifier rubyid_chash'>chash</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_chash'>chash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>versioned_name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='op'>==</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='kw'>or</span> <span class='id identifier rubyid_cname'>cname</span><span class='op'>==</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
          <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='id identifier rubyid_chash'>chash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>url</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='rbrace'>}</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>standalone</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>embedded</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_is_embeddable?'>is_embeddable?</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_usage_rates'>usage_rates</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_usage_rates'>usage_rates</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_scale'>scale</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_from'>scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:min</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_to'>scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:max</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_scale'>current_scale</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:current</span><span class='rbracket'>]</span>
      <span class='comment'># self.scales_from = self.scales_to = self.current_scale = 1 if cinst.is_singleton?
</span>      <span class='kw'>if</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_is_sparse?'>is_sparse?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_from'>scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_get_component'>get_component</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_to'>scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_get_component'>get_component</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_scale'>current_scale</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_group_instance'>group_instance</span><span class='period'>.</span><span class='id identifier rubyid_get_gears'>get_gears</span><span class='lparen'>(</span><span class='id identifier rubyid_cinst'>cinst</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
      <span class='kw'>end</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_gear_profile'>gear_profile</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:gear_size</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_base_gear_storage'>base_gear_storage</span> <span class='op'>=</span> <span class='const'>Gear</span><span class='period'>.</span><span class='id identifier rubyid_base_filesystem_gb'>base_filesystem_gb</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_gear_profile'>gear_profile</span><span class='rparen'>)</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_additional_gear_storage'>additional_gear_storage</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:additional_storage</span><span class='rbracket'>]</span>

      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_collocated_with'>collocated_with</span> <span class='op'>=</span> <span class='id identifier rubyid_colocated_cinsts'>colocated_cinsts</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span> <span class='rbrace'>}</span>
    <span class='kw'>end</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_from'>supported_scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
      
      <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_scalable'>scalable</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span> <span class='op'>==</span> <span class='op'>-</span><span class='int'>1</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_to'>supported_scales_to</span> <span class='op'>=</span> <span class='int'>1</span>
      <span class='kw'>else</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_to'>supported_scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='comment'>#self.provides = cart.features
</span>    <span class='kw'>else</span>
      <span class='comment'>#self.provides = app.get_feature(cinst.cartridge_name, cinst.component_name)
</span>      <span class='id identifier rubyid_prop_values'>prop_values</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_component_properties'>component_properties</span>
      <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_cart_data_def'>cart_data_def</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_data_def'>data_def</span><span class='op'>|</span>
        <span class='id identifier rubyid_property'>property</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>description</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Description</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='comment'># checking for prop_values.empty? handles the case when prop_values is an empty array
</span>        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>value</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='lbracket'>[</span><span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span> <span class='kw'>unless</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>or</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='kw'>or</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='lbracket'>[</span><span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_property'>property</span>
      <span class='kw'>end</span>

      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_with'>scales_with</span> <span class='op'>=</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_component_instances'>component_instances</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_component_instance'>component_instance</span><span class='op'>|</span>
        <span class='id identifier rubyid_cart'>cart</span> <span class='op'>=</span> <span class='const'>CartridgeCache</span><span class='op'>::</span><span class='id identifier rubyid_find_cartridge'>find_cartridge</span><span class='lparen'>(</span><span class='id identifier rubyid_component_instance'>component_instance</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span><span class='rparen'>)</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_categories'>categories</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
          <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_with'>scales_with</span> <span class='op'>=</span> <span class='id identifier rubyid_component_instance'>component_instance</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_help_topics'>help_topics</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_help_topics'>help_topics</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span> <span class='kw'>and</span> <span class='op'>!</span><span class='id identifier rubyid_nolinks'>nolinks</span>
      <span class='id identifier rubyid_domain_id'>domain_id</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_domain'>domain</span><span class='period'>.</span><span class='id identifier rubyid_namespace'>namespace</span>
      <span class='id identifier rubyid_app_id'>app_id</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='kw'>if</span> <span class='kw'>not</span> <span class='id identifier rubyid_app_id'>app_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='id identifier rubyid_domain_id'>domain_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_links'>links</span> <span class='op'>=</span> <span class='lbrace'>{</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Get cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UPDATE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Update cartridge configuration</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PUT</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>additional_gear_storage</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Additional filesystem storage in gigabytes on each gear having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales_from</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Minimum number of gears having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales_to</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Maximum number of gears having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>START</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Start embedded cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>start</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>STOP</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Stop cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>stop</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RESTART</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Restart cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>restart</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RELOAD</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Reload cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>reload</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Delete cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
          <span class='rbrace'>}</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_to_xml'>to_xml</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:tag_name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cartridge</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>super</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="display_name=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="display_name-instance_method">
  
    - (<tt>String</tt>) <strong>display_name</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Formatted name used by CLI and UIs</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Formatted name used by CLI and UIs</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/controller/app/rest_models/rest_embedded_cartridge15.rb', line 98</span>

<span class='kw'>class</span> <span class='const'>RestEmbeddedCartridge15</span> <span class='op'>&lt;</span> <span class='const'>OpenShift</span><span class='op'>::</span><span class='const'>Model</span>
  <span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:type</span><span class='comma'>,</span> <span class='symbol'>:name</span><span class='comma'>,</span> <span class='symbol'>:version</span><span class='comma'>,</span> <span class='symbol'>:license</span><span class='comma'>,</span> <span class='symbol'>:license_url</span><span class='comma'>,</span> <span class='symbol'>:tags</span><span class='comma'>,</span> <span class='symbol'>:website</span><span class='comma'>,</span> <span class='symbol'>:url</span><span class='comma'>,</span>
    <span class='symbol'>:help_topics</span><span class='comma'>,</span> <span class='symbol'>:links</span><span class='comma'>,</span> <span class='symbol'>:properties</span><span class='comma'>,</span> <span class='symbol'>:display_name</span><span class='comma'>,</span> <span class='symbol'>:description</span><span class='comma'>,</span> <span class='symbol'>:scales_from</span><span class='comma'>,</span>
    <span class='symbol'>:scales_to</span><span class='comma'>,</span> <span class='symbol'>:current_scale</span><span class='comma'>,</span> <span class='symbol'>:supported_scales_from</span><span class='comma'>,</span> <span class='symbol'>:supported_scales_to</span><span class='comma'>,</span>
    <span class='symbol'>:scales_with</span><span class='comma'>,</span> <span class='symbol'>:base_gear_storage</span><span class='comma'>,</span> <span class='symbol'>:additional_gear_storage</span><span class='comma'>,</span> <span class='symbol'>:gear_profile</span><span class='comma'>,</span> <span class='symbol'>:collocated_with</span><span class='comma'>,</span> 
    <span class='symbol'>:status_messages</span><span class='comma'>,</span> <span class='symbol'>:usage_rates</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_cart'>cart</span><span class='comma'>,</span> <span class='id identifier rubyid_comp'>comp</span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span><span class='comma'>,</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='comma'>,</span> <span class='id identifier rubyid_colocated_cinsts'>colocated_cinsts</span><span class='comma'>,</span> <span class='id identifier rubyid_scale'>scale</span><span class='comma'>,</span> <span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='id identifier rubyid_status_messages'>status_messages</span><span class='comma'>,</span> <span class='id identifier rubyid_nolinks'>nolinks</span><span class='op'>=</span><span class='kw'>false</span><span class='rparen'>)</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_status_messages'>status_messages</span> <span class='op'>=</span> <span class='id identifier rubyid_status_messages'>status_messages</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_display_name'>display_name</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_display_name'>display_name</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_license'>license</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_license'>license</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_license_url'>license_url</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_license_url'>license_url</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_tags'>tags</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_categories'>categories</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_website'>website</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_website'>website</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_downloaded_cartridges'>downloaded_cartridges</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_downloaded_cart_map'>downloaded_cart_map</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_cname'>cname</span><span class='comma'>,</span><span class='id identifier rubyid_chash'>chash</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_chash'>chash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>versioned_name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='op'>==</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='kw'>or</span> <span class='id identifier rubyid_cname'>cname</span><span class='op'>==</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
          <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='id identifier rubyid_chash'>chash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>url</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='rbrace'>}</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>standalone</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>embedded</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_is_embeddable?'>is_embeddable?</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_usage_rates'>usage_rates</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_usage_rates'>usage_rates</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_scale'>scale</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_from'>scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:min</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_to'>scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:max</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_scale'>current_scale</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:current</span><span class='rbracket'>]</span>
      <span class='comment'># self.scales_from = self.scales_to = self.current_scale = 1 if cinst.is_singleton?
</span>      <span class='kw'>if</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_is_sparse?'>is_sparse?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_from'>scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_get_component'>get_component</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_to'>scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_get_component'>get_component</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_scale'>current_scale</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_group_instance'>group_instance</span><span class='period'>.</span><span class='id identifier rubyid_get_gears'>get_gears</span><span class='lparen'>(</span><span class='id identifier rubyid_cinst'>cinst</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
      <span class='kw'>end</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_gear_profile'>gear_profile</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:gear_size</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_base_gear_storage'>base_gear_storage</span> <span class='op'>=</span> <span class='const'>Gear</span><span class='period'>.</span><span class='id identifier rubyid_base_filesystem_gb'>base_filesystem_gb</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_gear_profile'>gear_profile</span><span class='rparen'>)</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_additional_gear_storage'>additional_gear_storage</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:additional_storage</span><span class='rbracket'>]</span>

      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_collocated_with'>collocated_with</span> <span class='op'>=</span> <span class='id identifier rubyid_colocated_cinsts'>colocated_cinsts</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span> <span class='rbrace'>}</span>
    <span class='kw'>end</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_from'>supported_scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
      
      <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_scalable'>scalable</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span> <span class='op'>==</span> <span class='op'>-</span><span class='int'>1</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_to'>supported_scales_to</span> <span class='op'>=</span> <span class='int'>1</span>
      <span class='kw'>else</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_to'>supported_scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='comment'>#self.provides = cart.features
</span>    <span class='kw'>else</span>
      <span class='comment'>#self.provides = app.get_feature(cinst.cartridge_name, cinst.component_name)
</span>      <span class='id identifier rubyid_prop_values'>prop_values</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_component_properties'>component_properties</span>
      <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_cart_data_def'>cart_data_def</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_data_def'>data_def</span><span class='op'>|</span>
        <span class='id identifier rubyid_property'>property</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>description</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Description</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='comment'># checking for prop_values.empty? handles the case when prop_values is an empty array
</span>        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>value</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='lbracket'>[</span><span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span> <span class='kw'>unless</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>or</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='kw'>or</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='lbracket'>[</span><span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_property'>property</span>
      <span class='kw'>end</span>

      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_with'>scales_with</span> <span class='op'>=</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_component_instances'>component_instances</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_component_instance'>component_instance</span><span class='op'>|</span>
        <span class='id identifier rubyid_cart'>cart</span> <span class='op'>=</span> <span class='const'>CartridgeCache</span><span class='op'>::</span><span class='id identifier rubyid_find_cartridge'>find_cartridge</span><span class='lparen'>(</span><span class='id identifier rubyid_component_instance'>component_instance</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span><span class='rparen'>)</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_categories'>categories</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
          <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_with'>scales_with</span> <span class='op'>=</span> <span class='id identifier rubyid_component_instance'>component_instance</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_help_topics'>help_topics</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_help_topics'>help_topics</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span> <span class='kw'>and</span> <span class='op'>!</span><span class='id identifier rubyid_nolinks'>nolinks</span>
      <span class='id identifier rubyid_domain_id'>domain_id</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_domain'>domain</span><span class='period'>.</span><span class='id identifier rubyid_namespace'>namespace</span>
      <span class='id identifier rubyid_app_id'>app_id</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='kw'>if</span> <span class='kw'>not</span> <span class='id identifier rubyid_app_id'>app_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='id identifier rubyid_domain_id'>domain_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_links'>links</span> <span class='op'>=</span> <span class='lbrace'>{</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Get cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UPDATE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Update cartridge configuration</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PUT</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>additional_gear_storage</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Additional filesystem storage in gigabytes on each gear having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales_from</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Minimum number of gears having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales_to</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Maximum number of gears having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>START</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Start embedded cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>start</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>STOP</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Stop cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>stop</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RESTART</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Restart cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>restart</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RELOAD</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Reload cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>reload</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Delete cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
          <span class='rbrace'>}</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_to_xml'>to_xml</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:tag_name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cartridge</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>super</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="gear_profile=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="gear_profile-instance_method">
  
    - (<tt>Integer</tt>) <strong>gear_profile</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Gear profile fo the gears this cartridge is running on</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Gear profile fo the gears this cartridge is running on</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/controller/app/rest_models/rest_embedded_cartridge15.rb', line 98</span>

<span class='kw'>class</span> <span class='const'>RestEmbeddedCartridge15</span> <span class='op'>&lt;</span> <span class='const'>OpenShift</span><span class='op'>::</span><span class='const'>Model</span>
  <span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:type</span><span class='comma'>,</span> <span class='symbol'>:name</span><span class='comma'>,</span> <span class='symbol'>:version</span><span class='comma'>,</span> <span class='symbol'>:license</span><span class='comma'>,</span> <span class='symbol'>:license_url</span><span class='comma'>,</span> <span class='symbol'>:tags</span><span class='comma'>,</span> <span class='symbol'>:website</span><span class='comma'>,</span> <span class='symbol'>:url</span><span class='comma'>,</span>
    <span class='symbol'>:help_topics</span><span class='comma'>,</span> <span class='symbol'>:links</span><span class='comma'>,</span> <span class='symbol'>:properties</span><span class='comma'>,</span> <span class='symbol'>:display_name</span><span class='comma'>,</span> <span class='symbol'>:description</span><span class='comma'>,</span> <span class='symbol'>:scales_from</span><span class='comma'>,</span>
    <span class='symbol'>:scales_to</span><span class='comma'>,</span> <span class='symbol'>:current_scale</span><span class='comma'>,</span> <span class='symbol'>:supported_scales_from</span><span class='comma'>,</span> <span class='symbol'>:supported_scales_to</span><span class='comma'>,</span>
    <span class='symbol'>:scales_with</span><span class='comma'>,</span> <span class='symbol'>:base_gear_storage</span><span class='comma'>,</span> <span class='symbol'>:additional_gear_storage</span><span class='comma'>,</span> <span class='symbol'>:gear_profile</span><span class='comma'>,</span> <span class='symbol'>:collocated_with</span><span class='comma'>,</span> 
    <span class='symbol'>:status_messages</span><span class='comma'>,</span> <span class='symbol'>:usage_rates</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_cart'>cart</span><span class='comma'>,</span> <span class='id identifier rubyid_comp'>comp</span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span><span class='comma'>,</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='comma'>,</span> <span class='id identifier rubyid_colocated_cinsts'>colocated_cinsts</span><span class='comma'>,</span> <span class='id identifier rubyid_scale'>scale</span><span class='comma'>,</span> <span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='id identifier rubyid_status_messages'>status_messages</span><span class='comma'>,</span> <span class='id identifier rubyid_nolinks'>nolinks</span><span class='op'>=</span><span class='kw'>false</span><span class='rparen'>)</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_status_messages'>status_messages</span> <span class='op'>=</span> <span class='id identifier rubyid_status_messages'>status_messages</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_display_name'>display_name</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_display_name'>display_name</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_license'>license</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_license'>license</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_license_url'>license_url</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_license_url'>license_url</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_tags'>tags</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_categories'>categories</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_website'>website</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_website'>website</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_downloaded_cartridges'>downloaded_cartridges</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_downloaded_cart_map'>downloaded_cart_map</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_cname'>cname</span><span class='comma'>,</span><span class='id identifier rubyid_chash'>chash</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_chash'>chash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>versioned_name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='op'>==</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='kw'>or</span> <span class='id identifier rubyid_cname'>cname</span><span class='op'>==</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
          <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='id identifier rubyid_chash'>chash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>url</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='rbrace'>}</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>standalone</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>embedded</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_is_embeddable?'>is_embeddable?</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_usage_rates'>usage_rates</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_usage_rates'>usage_rates</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_scale'>scale</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_from'>scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:min</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_to'>scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:max</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_scale'>current_scale</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:current</span><span class='rbracket'>]</span>
      <span class='comment'># self.scales_from = self.scales_to = self.current_scale = 1 if cinst.is_singleton?
</span>      <span class='kw'>if</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_is_sparse?'>is_sparse?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_from'>scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_get_component'>get_component</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_to'>scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_get_component'>get_component</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_scale'>current_scale</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_group_instance'>group_instance</span><span class='period'>.</span><span class='id identifier rubyid_get_gears'>get_gears</span><span class='lparen'>(</span><span class='id identifier rubyid_cinst'>cinst</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
      <span class='kw'>end</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_gear_profile'>gear_profile</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:gear_size</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_base_gear_storage'>base_gear_storage</span> <span class='op'>=</span> <span class='const'>Gear</span><span class='period'>.</span><span class='id identifier rubyid_base_filesystem_gb'>base_filesystem_gb</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_gear_profile'>gear_profile</span><span class='rparen'>)</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_additional_gear_storage'>additional_gear_storage</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:additional_storage</span><span class='rbracket'>]</span>

      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_collocated_with'>collocated_with</span> <span class='op'>=</span> <span class='id identifier rubyid_colocated_cinsts'>colocated_cinsts</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span> <span class='rbrace'>}</span>
    <span class='kw'>end</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_from'>supported_scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
      
      <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_scalable'>scalable</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span> <span class='op'>==</span> <span class='op'>-</span><span class='int'>1</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_to'>supported_scales_to</span> <span class='op'>=</span> <span class='int'>1</span>
      <span class='kw'>else</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_to'>supported_scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='comment'>#self.provides = cart.features
</span>    <span class='kw'>else</span>
      <span class='comment'>#self.provides = app.get_feature(cinst.cartridge_name, cinst.component_name)
</span>      <span class='id identifier rubyid_prop_values'>prop_values</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_component_properties'>component_properties</span>
      <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_cart_data_def'>cart_data_def</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_data_def'>data_def</span><span class='op'>|</span>
        <span class='id identifier rubyid_property'>property</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>description</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Description</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='comment'># checking for prop_values.empty? handles the case when prop_values is an empty array
</span>        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>value</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='lbracket'>[</span><span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span> <span class='kw'>unless</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>or</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='kw'>or</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='lbracket'>[</span><span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_property'>property</span>
      <span class='kw'>end</span>

      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_with'>scales_with</span> <span class='op'>=</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_component_instances'>component_instances</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_component_instance'>component_instance</span><span class='op'>|</span>
        <span class='id identifier rubyid_cart'>cart</span> <span class='op'>=</span> <span class='const'>CartridgeCache</span><span class='op'>::</span><span class='id identifier rubyid_find_cartridge'>find_cartridge</span><span class='lparen'>(</span><span class='id identifier rubyid_component_instance'>component_instance</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span><span class='rparen'>)</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_categories'>categories</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
          <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_with'>scales_with</span> <span class='op'>=</span> <span class='id identifier rubyid_component_instance'>component_instance</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_help_topics'>help_topics</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_help_topics'>help_topics</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span> <span class='kw'>and</span> <span class='op'>!</span><span class='id identifier rubyid_nolinks'>nolinks</span>
      <span class='id identifier rubyid_domain_id'>domain_id</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_domain'>domain</span><span class='period'>.</span><span class='id identifier rubyid_namespace'>namespace</span>
      <span class='id identifier rubyid_app_id'>app_id</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='kw'>if</span> <span class='kw'>not</span> <span class='id identifier rubyid_app_id'>app_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='id identifier rubyid_domain_id'>domain_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_links'>links</span> <span class='op'>=</span> <span class='lbrace'>{</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Get cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UPDATE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Update cartridge configuration</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PUT</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>additional_gear_storage</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Additional filesystem storage in gigabytes on each gear having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales_from</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Minimum number of gears having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales_to</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Maximum number of gears having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>START</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Start embedded cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>start</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>STOP</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Stop cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>stop</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RESTART</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Restart cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>restart</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RELOAD</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Reload cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>reload</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Delete cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
          <span class='rbrace'>}</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_to_xml'>to_xml</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:tag_name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cartridge</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>super</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="help_topics=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="help_topics-instance_method">
  
    - (<tt><span class='object_link'><a href="Hash.html" title="Hash (class)">Hash</a></span></tt>) <strong>help_topics</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Map of topics and associated URIs that can provide help on how to use and
configure this cartridge</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Hash.html" title="Hash (class)">Hash</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Map of topics and associated URIs that can provide help on how to use and
configure this cartridge</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/controller/app/rest_models/rest_embedded_cartridge15.rb', line 98</span>

<span class='kw'>class</span> <span class='const'>RestEmbeddedCartridge15</span> <span class='op'>&lt;</span> <span class='const'>OpenShift</span><span class='op'>::</span><span class='const'>Model</span>
  <span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:type</span><span class='comma'>,</span> <span class='symbol'>:name</span><span class='comma'>,</span> <span class='symbol'>:version</span><span class='comma'>,</span> <span class='symbol'>:license</span><span class='comma'>,</span> <span class='symbol'>:license_url</span><span class='comma'>,</span> <span class='symbol'>:tags</span><span class='comma'>,</span> <span class='symbol'>:website</span><span class='comma'>,</span> <span class='symbol'>:url</span><span class='comma'>,</span>
    <span class='symbol'>:help_topics</span><span class='comma'>,</span> <span class='symbol'>:links</span><span class='comma'>,</span> <span class='symbol'>:properties</span><span class='comma'>,</span> <span class='symbol'>:display_name</span><span class='comma'>,</span> <span class='symbol'>:description</span><span class='comma'>,</span> <span class='symbol'>:scales_from</span><span class='comma'>,</span>
    <span class='symbol'>:scales_to</span><span class='comma'>,</span> <span class='symbol'>:current_scale</span><span class='comma'>,</span> <span class='symbol'>:supported_scales_from</span><span class='comma'>,</span> <span class='symbol'>:supported_scales_to</span><span class='comma'>,</span>
    <span class='symbol'>:scales_with</span><span class='comma'>,</span> <span class='symbol'>:base_gear_storage</span><span class='comma'>,</span> <span class='symbol'>:additional_gear_storage</span><span class='comma'>,</span> <span class='symbol'>:gear_profile</span><span class='comma'>,</span> <span class='symbol'>:collocated_with</span><span class='comma'>,</span> 
    <span class='symbol'>:status_messages</span><span class='comma'>,</span> <span class='symbol'>:usage_rates</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_cart'>cart</span><span class='comma'>,</span> <span class='id identifier rubyid_comp'>comp</span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span><span class='comma'>,</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='comma'>,</span> <span class='id identifier rubyid_colocated_cinsts'>colocated_cinsts</span><span class='comma'>,</span> <span class='id identifier rubyid_scale'>scale</span><span class='comma'>,</span> <span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='id identifier rubyid_status_messages'>status_messages</span><span class='comma'>,</span> <span class='id identifier rubyid_nolinks'>nolinks</span><span class='op'>=</span><span class='kw'>false</span><span class='rparen'>)</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_status_messages'>status_messages</span> <span class='op'>=</span> <span class='id identifier rubyid_status_messages'>status_messages</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_display_name'>display_name</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_display_name'>display_name</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_license'>license</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_license'>license</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_license_url'>license_url</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_license_url'>license_url</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_tags'>tags</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_categories'>categories</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_website'>website</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_website'>website</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_downloaded_cartridges'>downloaded_cartridges</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_downloaded_cart_map'>downloaded_cart_map</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_cname'>cname</span><span class='comma'>,</span><span class='id identifier rubyid_chash'>chash</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_chash'>chash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>versioned_name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='op'>==</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='kw'>or</span> <span class='id identifier rubyid_cname'>cname</span><span class='op'>==</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
          <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='id identifier rubyid_chash'>chash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>url</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='rbrace'>}</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>standalone</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>embedded</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_is_embeddable?'>is_embeddable?</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_usage_rates'>usage_rates</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_usage_rates'>usage_rates</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_scale'>scale</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_from'>scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:min</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_to'>scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:max</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_scale'>current_scale</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:current</span><span class='rbracket'>]</span>
      <span class='comment'># self.scales_from = self.scales_to = self.current_scale = 1 if cinst.is_singleton?
</span>      <span class='kw'>if</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_is_sparse?'>is_sparse?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_from'>scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_get_component'>get_component</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_to'>scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_get_component'>get_component</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_scale'>current_scale</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_group_instance'>group_instance</span><span class='period'>.</span><span class='id identifier rubyid_get_gears'>get_gears</span><span class='lparen'>(</span><span class='id identifier rubyid_cinst'>cinst</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
      <span class='kw'>end</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_gear_profile'>gear_profile</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:gear_size</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_base_gear_storage'>base_gear_storage</span> <span class='op'>=</span> <span class='const'>Gear</span><span class='period'>.</span><span class='id identifier rubyid_base_filesystem_gb'>base_filesystem_gb</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_gear_profile'>gear_profile</span><span class='rparen'>)</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_additional_gear_storage'>additional_gear_storage</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:additional_storage</span><span class='rbracket'>]</span>

      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_collocated_with'>collocated_with</span> <span class='op'>=</span> <span class='id identifier rubyid_colocated_cinsts'>colocated_cinsts</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span> <span class='rbrace'>}</span>
    <span class='kw'>end</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_from'>supported_scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
      
      <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_scalable'>scalable</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span> <span class='op'>==</span> <span class='op'>-</span><span class='int'>1</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_to'>supported_scales_to</span> <span class='op'>=</span> <span class='int'>1</span>
      <span class='kw'>else</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_to'>supported_scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='comment'>#self.provides = cart.features
</span>    <span class='kw'>else</span>
      <span class='comment'>#self.provides = app.get_feature(cinst.cartridge_name, cinst.component_name)
</span>      <span class='id identifier rubyid_prop_values'>prop_values</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_component_properties'>component_properties</span>
      <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_cart_data_def'>cart_data_def</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_data_def'>data_def</span><span class='op'>|</span>
        <span class='id identifier rubyid_property'>property</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>description</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Description</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='comment'># checking for prop_values.empty? handles the case when prop_values is an empty array
</span>        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>value</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='lbracket'>[</span><span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span> <span class='kw'>unless</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>or</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='kw'>or</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='lbracket'>[</span><span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_property'>property</span>
      <span class='kw'>end</span>

      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_with'>scales_with</span> <span class='op'>=</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_component_instances'>component_instances</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_component_instance'>component_instance</span><span class='op'>|</span>
        <span class='id identifier rubyid_cart'>cart</span> <span class='op'>=</span> <span class='const'>CartridgeCache</span><span class='op'>::</span><span class='id identifier rubyid_find_cartridge'>find_cartridge</span><span class='lparen'>(</span><span class='id identifier rubyid_component_instance'>component_instance</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span><span class='rparen'>)</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_categories'>categories</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
          <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_with'>scales_with</span> <span class='op'>=</span> <span class='id identifier rubyid_component_instance'>component_instance</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_help_topics'>help_topics</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_help_topics'>help_topics</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span> <span class='kw'>and</span> <span class='op'>!</span><span class='id identifier rubyid_nolinks'>nolinks</span>
      <span class='id identifier rubyid_domain_id'>domain_id</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_domain'>domain</span><span class='period'>.</span><span class='id identifier rubyid_namespace'>namespace</span>
      <span class='id identifier rubyid_app_id'>app_id</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='kw'>if</span> <span class='kw'>not</span> <span class='id identifier rubyid_app_id'>app_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='id identifier rubyid_domain_id'>domain_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_links'>links</span> <span class='op'>=</span> <span class='lbrace'>{</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Get cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UPDATE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Update cartridge configuration</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PUT</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>additional_gear_storage</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Additional filesystem storage in gigabytes on each gear having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales_from</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Minimum number of gears having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales_to</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Maximum number of gears having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>START</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Start embedded cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>start</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>STOP</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Stop cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>stop</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RESTART</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Restart cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>restart</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RELOAD</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Reload cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>reload</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Delete cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
          <span class='rbrace'>}</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_to_xml'>to_xml</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:tag_name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cartridge</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>super</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="license=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="license-instance_method">
  
    - (<tt>String</tt>) <strong>license</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>License of the packaged software in the cartridge</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>License of the packaged software in the cartridge</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/controller/app/rest_models/rest_embedded_cartridge15.rb', line 98</span>

<span class='kw'>class</span> <span class='const'>RestEmbeddedCartridge15</span> <span class='op'>&lt;</span> <span class='const'>OpenShift</span><span class='op'>::</span><span class='const'>Model</span>
  <span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:type</span><span class='comma'>,</span> <span class='symbol'>:name</span><span class='comma'>,</span> <span class='symbol'>:version</span><span class='comma'>,</span> <span class='symbol'>:license</span><span class='comma'>,</span> <span class='symbol'>:license_url</span><span class='comma'>,</span> <span class='symbol'>:tags</span><span class='comma'>,</span> <span class='symbol'>:website</span><span class='comma'>,</span> <span class='symbol'>:url</span><span class='comma'>,</span>
    <span class='symbol'>:help_topics</span><span class='comma'>,</span> <span class='symbol'>:links</span><span class='comma'>,</span> <span class='symbol'>:properties</span><span class='comma'>,</span> <span class='symbol'>:display_name</span><span class='comma'>,</span> <span class='symbol'>:description</span><span class='comma'>,</span> <span class='symbol'>:scales_from</span><span class='comma'>,</span>
    <span class='symbol'>:scales_to</span><span class='comma'>,</span> <span class='symbol'>:current_scale</span><span class='comma'>,</span> <span class='symbol'>:supported_scales_from</span><span class='comma'>,</span> <span class='symbol'>:supported_scales_to</span><span class='comma'>,</span>
    <span class='symbol'>:scales_with</span><span class='comma'>,</span> <span class='symbol'>:base_gear_storage</span><span class='comma'>,</span> <span class='symbol'>:additional_gear_storage</span><span class='comma'>,</span> <span class='symbol'>:gear_profile</span><span class='comma'>,</span> <span class='symbol'>:collocated_with</span><span class='comma'>,</span> 
    <span class='symbol'>:status_messages</span><span class='comma'>,</span> <span class='symbol'>:usage_rates</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_cart'>cart</span><span class='comma'>,</span> <span class='id identifier rubyid_comp'>comp</span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span><span class='comma'>,</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='comma'>,</span> <span class='id identifier rubyid_colocated_cinsts'>colocated_cinsts</span><span class='comma'>,</span> <span class='id identifier rubyid_scale'>scale</span><span class='comma'>,</span> <span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='id identifier rubyid_status_messages'>status_messages</span><span class='comma'>,</span> <span class='id identifier rubyid_nolinks'>nolinks</span><span class='op'>=</span><span class='kw'>false</span><span class='rparen'>)</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_status_messages'>status_messages</span> <span class='op'>=</span> <span class='id identifier rubyid_status_messages'>status_messages</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_display_name'>display_name</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_display_name'>display_name</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_license'>license</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_license'>license</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_license_url'>license_url</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_license_url'>license_url</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_tags'>tags</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_categories'>categories</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_website'>website</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_website'>website</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_downloaded_cartridges'>downloaded_cartridges</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_downloaded_cart_map'>downloaded_cart_map</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_cname'>cname</span><span class='comma'>,</span><span class='id identifier rubyid_chash'>chash</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_chash'>chash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>versioned_name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='op'>==</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='kw'>or</span> <span class='id identifier rubyid_cname'>cname</span><span class='op'>==</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
          <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='id identifier rubyid_chash'>chash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>url</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='rbrace'>}</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>standalone</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>embedded</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_is_embeddable?'>is_embeddable?</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_usage_rates'>usage_rates</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_usage_rates'>usage_rates</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_scale'>scale</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_from'>scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:min</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_to'>scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:max</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_scale'>current_scale</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:current</span><span class='rbracket'>]</span>
      <span class='comment'># self.scales_from = self.scales_to = self.current_scale = 1 if cinst.is_singleton?
</span>      <span class='kw'>if</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_is_sparse?'>is_sparse?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_from'>scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_get_component'>get_component</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_to'>scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_get_component'>get_component</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_scale'>current_scale</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_group_instance'>group_instance</span><span class='period'>.</span><span class='id identifier rubyid_get_gears'>get_gears</span><span class='lparen'>(</span><span class='id identifier rubyid_cinst'>cinst</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
      <span class='kw'>end</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_gear_profile'>gear_profile</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:gear_size</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_base_gear_storage'>base_gear_storage</span> <span class='op'>=</span> <span class='const'>Gear</span><span class='period'>.</span><span class='id identifier rubyid_base_filesystem_gb'>base_filesystem_gb</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_gear_profile'>gear_profile</span><span class='rparen'>)</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_additional_gear_storage'>additional_gear_storage</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:additional_storage</span><span class='rbracket'>]</span>

      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_collocated_with'>collocated_with</span> <span class='op'>=</span> <span class='id identifier rubyid_colocated_cinsts'>colocated_cinsts</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span> <span class='rbrace'>}</span>
    <span class='kw'>end</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_from'>supported_scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
      
      <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_scalable'>scalable</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span> <span class='op'>==</span> <span class='op'>-</span><span class='int'>1</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_to'>supported_scales_to</span> <span class='op'>=</span> <span class='int'>1</span>
      <span class='kw'>else</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_to'>supported_scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='comment'>#self.provides = cart.features
</span>    <span class='kw'>else</span>
      <span class='comment'>#self.provides = app.get_feature(cinst.cartridge_name, cinst.component_name)
</span>      <span class='id identifier rubyid_prop_values'>prop_values</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_component_properties'>component_properties</span>
      <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_cart_data_def'>cart_data_def</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_data_def'>data_def</span><span class='op'>|</span>
        <span class='id identifier rubyid_property'>property</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>description</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Description</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='comment'># checking for prop_values.empty? handles the case when prop_values is an empty array
</span>        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>value</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='lbracket'>[</span><span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span> <span class='kw'>unless</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>or</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='kw'>or</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='lbracket'>[</span><span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_property'>property</span>
      <span class='kw'>end</span>

      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_with'>scales_with</span> <span class='op'>=</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_component_instances'>component_instances</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_component_instance'>component_instance</span><span class='op'>|</span>
        <span class='id identifier rubyid_cart'>cart</span> <span class='op'>=</span> <span class='const'>CartridgeCache</span><span class='op'>::</span><span class='id identifier rubyid_find_cartridge'>find_cartridge</span><span class='lparen'>(</span><span class='id identifier rubyid_component_instance'>component_instance</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span><span class='rparen'>)</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_categories'>categories</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
          <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_with'>scales_with</span> <span class='op'>=</span> <span class='id identifier rubyid_component_instance'>component_instance</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_help_topics'>help_topics</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_help_topics'>help_topics</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span> <span class='kw'>and</span> <span class='op'>!</span><span class='id identifier rubyid_nolinks'>nolinks</span>
      <span class='id identifier rubyid_domain_id'>domain_id</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_domain'>domain</span><span class='period'>.</span><span class='id identifier rubyid_namespace'>namespace</span>
      <span class='id identifier rubyid_app_id'>app_id</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='kw'>if</span> <span class='kw'>not</span> <span class='id identifier rubyid_app_id'>app_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='id identifier rubyid_domain_id'>domain_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_links'>links</span> <span class='op'>=</span> <span class='lbrace'>{</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Get cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UPDATE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Update cartridge configuration</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PUT</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>additional_gear_storage</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Additional filesystem storage in gigabytes on each gear having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales_from</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Minimum number of gears having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales_to</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Maximum number of gears having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>START</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Start embedded cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>start</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>STOP</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Stop cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>stop</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RESTART</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Restart cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>restart</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RELOAD</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Reload cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>reload</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Delete cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
          <span class='rbrace'>}</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_to_xml'>to_xml</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:tag_name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cartridge</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>super</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="license_url=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="license_url-instance_method">
  
    - (<tt>String</tt>) <strong>license_url</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>URI to the license file for the packaged software in the cartridge</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>URI to the license file for the packaged software in the cartridge</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/controller/app/rest_models/rest_embedded_cartridge15.rb', line 98</span>

<span class='kw'>class</span> <span class='const'>RestEmbeddedCartridge15</span> <span class='op'>&lt;</span> <span class='const'>OpenShift</span><span class='op'>::</span><span class='const'>Model</span>
  <span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:type</span><span class='comma'>,</span> <span class='symbol'>:name</span><span class='comma'>,</span> <span class='symbol'>:version</span><span class='comma'>,</span> <span class='symbol'>:license</span><span class='comma'>,</span> <span class='symbol'>:license_url</span><span class='comma'>,</span> <span class='symbol'>:tags</span><span class='comma'>,</span> <span class='symbol'>:website</span><span class='comma'>,</span> <span class='symbol'>:url</span><span class='comma'>,</span>
    <span class='symbol'>:help_topics</span><span class='comma'>,</span> <span class='symbol'>:links</span><span class='comma'>,</span> <span class='symbol'>:properties</span><span class='comma'>,</span> <span class='symbol'>:display_name</span><span class='comma'>,</span> <span class='symbol'>:description</span><span class='comma'>,</span> <span class='symbol'>:scales_from</span><span class='comma'>,</span>
    <span class='symbol'>:scales_to</span><span class='comma'>,</span> <span class='symbol'>:current_scale</span><span class='comma'>,</span> <span class='symbol'>:supported_scales_from</span><span class='comma'>,</span> <span class='symbol'>:supported_scales_to</span><span class='comma'>,</span>
    <span class='symbol'>:scales_with</span><span class='comma'>,</span> <span class='symbol'>:base_gear_storage</span><span class='comma'>,</span> <span class='symbol'>:additional_gear_storage</span><span class='comma'>,</span> <span class='symbol'>:gear_profile</span><span class='comma'>,</span> <span class='symbol'>:collocated_with</span><span class='comma'>,</span> 
    <span class='symbol'>:status_messages</span><span class='comma'>,</span> <span class='symbol'>:usage_rates</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_cart'>cart</span><span class='comma'>,</span> <span class='id identifier rubyid_comp'>comp</span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span><span class='comma'>,</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='comma'>,</span> <span class='id identifier rubyid_colocated_cinsts'>colocated_cinsts</span><span class='comma'>,</span> <span class='id identifier rubyid_scale'>scale</span><span class='comma'>,</span> <span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='id identifier rubyid_status_messages'>status_messages</span><span class='comma'>,</span> <span class='id identifier rubyid_nolinks'>nolinks</span><span class='op'>=</span><span class='kw'>false</span><span class='rparen'>)</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_status_messages'>status_messages</span> <span class='op'>=</span> <span class='id identifier rubyid_status_messages'>status_messages</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_display_name'>display_name</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_display_name'>display_name</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_license'>license</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_license'>license</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_license_url'>license_url</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_license_url'>license_url</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_tags'>tags</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_categories'>categories</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_website'>website</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_website'>website</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_downloaded_cartridges'>downloaded_cartridges</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_downloaded_cart_map'>downloaded_cart_map</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_cname'>cname</span><span class='comma'>,</span><span class='id identifier rubyid_chash'>chash</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_chash'>chash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>versioned_name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='op'>==</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='kw'>or</span> <span class='id identifier rubyid_cname'>cname</span><span class='op'>==</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
          <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='id identifier rubyid_chash'>chash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>url</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='rbrace'>}</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>standalone</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>embedded</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_is_embeddable?'>is_embeddable?</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_usage_rates'>usage_rates</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_usage_rates'>usage_rates</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_scale'>scale</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_from'>scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:min</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_to'>scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:max</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_scale'>current_scale</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:current</span><span class='rbracket'>]</span>
      <span class='comment'># self.scales_from = self.scales_to = self.current_scale = 1 if cinst.is_singleton?
</span>      <span class='kw'>if</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_is_sparse?'>is_sparse?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_from'>scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_get_component'>get_component</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_to'>scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_get_component'>get_component</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_scale'>current_scale</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_group_instance'>group_instance</span><span class='period'>.</span><span class='id identifier rubyid_get_gears'>get_gears</span><span class='lparen'>(</span><span class='id identifier rubyid_cinst'>cinst</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
      <span class='kw'>end</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_gear_profile'>gear_profile</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:gear_size</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_base_gear_storage'>base_gear_storage</span> <span class='op'>=</span> <span class='const'>Gear</span><span class='period'>.</span><span class='id identifier rubyid_base_filesystem_gb'>base_filesystem_gb</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_gear_profile'>gear_profile</span><span class='rparen'>)</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_additional_gear_storage'>additional_gear_storage</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:additional_storage</span><span class='rbracket'>]</span>

      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_collocated_with'>collocated_with</span> <span class='op'>=</span> <span class='id identifier rubyid_colocated_cinsts'>colocated_cinsts</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span> <span class='rbrace'>}</span>
    <span class='kw'>end</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_from'>supported_scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
      
      <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_scalable'>scalable</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span> <span class='op'>==</span> <span class='op'>-</span><span class='int'>1</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_to'>supported_scales_to</span> <span class='op'>=</span> <span class='int'>1</span>
      <span class='kw'>else</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_to'>supported_scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='comment'>#self.provides = cart.features
</span>    <span class='kw'>else</span>
      <span class='comment'>#self.provides = app.get_feature(cinst.cartridge_name, cinst.component_name)
</span>      <span class='id identifier rubyid_prop_values'>prop_values</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_component_properties'>component_properties</span>
      <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_cart_data_def'>cart_data_def</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_data_def'>data_def</span><span class='op'>|</span>
        <span class='id identifier rubyid_property'>property</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>description</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Description</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='comment'># checking for prop_values.empty? handles the case when prop_values is an empty array
</span>        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>value</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='lbracket'>[</span><span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span> <span class='kw'>unless</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>or</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='kw'>or</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='lbracket'>[</span><span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_property'>property</span>
      <span class='kw'>end</span>

      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_with'>scales_with</span> <span class='op'>=</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_component_instances'>component_instances</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_component_instance'>component_instance</span><span class='op'>|</span>
        <span class='id identifier rubyid_cart'>cart</span> <span class='op'>=</span> <span class='const'>CartridgeCache</span><span class='op'>::</span><span class='id identifier rubyid_find_cartridge'>find_cartridge</span><span class='lparen'>(</span><span class='id identifier rubyid_component_instance'>component_instance</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span><span class='rparen'>)</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_categories'>categories</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
          <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_with'>scales_with</span> <span class='op'>=</span> <span class='id identifier rubyid_component_instance'>component_instance</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_help_topics'>help_topics</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_help_topics'>help_topics</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span> <span class='kw'>and</span> <span class='op'>!</span><span class='id identifier rubyid_nolinks'>nolinks</span>
      <span class='id identifier rubyid_domain_id'>domain_id</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_domain'>domain</span><span class='period'>.</span><span class='id identifier rubyid_namespace'>namespace</span>
      <span class='id identifier rubyid_app_id'>app_id</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='kw'>if</span> <span class='kw'>not</span> <span class='id identifier rubyid_app_id'>app_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='id identifier rubyid_domain_id'>domain_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_links'>links</span> <span class='op'>=</span> <span class='lbrace'>{</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Get cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UPDATE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Update cartridge configuration</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PUT</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>additional_gear_storage</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Additional filesystem storage in gigabytes on each gear having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales_from</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Minimum number of gears having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales_to</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Maximum number of gears having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>START</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Start embedded cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>start</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>STOP</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Stop cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>stop</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RESTART</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Restart cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>restart</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RELOAD</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Reload cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>reload</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Delete cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
          <span class='rbrace'>}</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_to_xml'>to_xml</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:tag_name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cartridge</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>super</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="links=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="links-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>links</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


99
100
101</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/controller/app/rest_models/rest_embedded_cartridge15.rb', line 99</span>

<span class='kw'>def</span> <span class='id identifier rubyid_links'>links</span>
  <span class='ivar'>@links</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="name=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="name-instance_method">
  
    - (<tt>String</tt>) <strong>name</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Name of the cartridge</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Name of the cartridge</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/controller/app/rest_models/rest_embedded_cartridge15.rb', line 98</span>

<span class='kw'>class</span> <span class='const'>RestEmbeddedCartridge15</span> <span class='op'>&lt;</span> <span class='const'>OpenShift</span><span class='op'>::</span><span class='const'>Model</span>
  <span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:type</span><span class='comma'>,</span> <span class='symbol'>:name</span><span class='comma'>,</span> <span class='symbol'>:version</span><span class='comma'>,</span> <span class='symbol'>:license</span><span class='comma'>,</span> <span class='symbol'>:license_url</span><span class='comma'>,</span> <span class='symbol'>:tags</span><span class='comma'>,</span> <span class='symbol'>:website</span><span class='comma'>,</span> <span class='symbol'>:url</span><span class='comma'>,</span>
    <span class='symbol'>:help_topics</span><span class='comma'>,</span> <span class='symbol'>:links</span><span class='comma'>,</span> <span class='symbol'>:properties</span><span class='comma'>,</span> <span class='symbol'>:display_name</span><span class='comma'>,</span> <span class='symbol'>:description</span><span class='comma'>,</span> <span class='symbol'>:scales_from</span><span class='comma'>,</span>
    <span class='symbol'>:scales_to</span><span class='comma'>,</span> <span class='symbol'>:current_scale</span><span class='comma'>,</span> <span class='symbol'>:supported_scales_from</span><span class='comma'>,</span> <span class='symbol'>:supported_scales_to</span><span class='comma'>,</span>
    <span class='symbol'>:scales_with</span><span class='comma'>,</span> <span class='symbol'>:base_gear_storage</span><span class='comma'>,</span> <span class='symbol'>:additional_gear_storage</span><span class='comma'>,</span> <span class='symbol'>:gear_profile</span><span class='comma'>,</span> <span class='symbol'>:collocated_with</span><span class='comma'>,</span> 
    <span class='symbol'>:status_messages</span><span class='comma'>,</span> <span class='symbol'>:usage_rates</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_cart'>cart</span><span class='comma'>,</span> <span class='id identifier rubyid_comp'>comp</span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span><span class='comma'>,</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='comma'>,</span> <span class='id identifier rubyid_colocated_cinsts'>colocated_cinsts</span><span class='comma'>,</span> <span class='id identifier rubyid_scale'>scale</span><span class='comma'>,</span> <span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='id identifier rubyid_status_messages'>status_messages</span><span class='comma'>,</span> <span class='id identifier rubyid_nolinks'>nolinks</span><span class='op'>=</span><span class='kw'>false</span><span class='rparen'>)</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_status_messages'>status_messages</span> <span class='op'>=</span> <span class='id identifier rubyid_status_messages'>status_messages</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_display_name'>display_name</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_display_name'>display_name</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_license'>license</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_license'>license</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_license_url'>license_url</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_license_url'>license_url</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_tags'>tags</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_categories'>categories</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_website'>website</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_website'>website</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_downloaded_cartridges'>downloaded_cartridges</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_downloaded_cart_map'>downloaded_cart_map</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_cname'>cname</span><span class='comma'>,</span><span class='id identifier rubyid_chash'>chash</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_chash'>chash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>versioned_name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='op'>==</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='kw'>or</span> <span class='id identifier rubyid_cname'>cname</span><span class='op'>==</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
          <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='id identifier rubyid_chash'>chash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>url</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='rbrace'>}</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>standalone</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>embedded</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_is_embeddable?'>is_embeddable?</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_usage_rates'>usage_rates</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_usage_rates'>usage_rates</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_scale'>scale</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_from'>scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:min</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_to'>scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:max</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_scale'>current_scale</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:current</span><span class='rbracket'>]</span>
      <span class='comment'># self.scales_from = self.scales_to = self.current_scale = 1 if cinst.is_singleton?
</span>      <span class='kw'>if</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_is_sparse?'>is_sparse?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_from'>scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_get_component'>get_component</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_to'>scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_get_component'>get_component</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_scale'>current_scale</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_group_instance'>group_instance</span><span class='period'>.</span><span class='id identifier rubyid_get_gears'>get_gears</span><span class='lparen'>(</span><span class='id identifier rubyid_cinst'>cinst</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
      <span class='kw'>end</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_gear_profile'>gear_profile</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:gear_size</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_base_gear_storage'>base_gear_storage</span> <span class='op'>=</span> <span class='const'>Gear</span><span class='period'>.</span><span class='id identifier rubyid_base_filesystem_gb'>base_filesystem_gb</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_gear_profile'>gear_profile</span><span class='rparen'>)</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_additional_gear_storage'>additional_gear_storage</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:additional_storage</span><span class='rbracket'>]</span>

      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_collocated_with'>collocated_with</span> <span class='op'>=</span> <span class='id identifier rubyid_colocated_cinsts'>colocated_cinsts</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span> <span class='rbrace'>}</span>
    <span class='kw'>end</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_from'>supported_scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
      
      <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_scalable'>scalable</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span> <span class='op'>==</span> <span class='op'>-</span><span class='int'>1</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_to'>supported_scales_to</span> <span class='op'>=</span> <span class='int'>1</span>
      <span class='kw'>else</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_to'>supported_scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='comment'>#self.provides = cart.features
</span>    <span class='kw'>else</span>
      <span class='comment'>#self.provides = app.get_feature(cinst.cartridge_name, cinst.component_name)
</span>      <span class='id identifier rubyid_prop_values'>prop_values</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_component_properties'>component_properties</span>
      <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_cart_data_def'>cart_data_def</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_data_def'>data_def</span><span class='op'>|</span>
        <span class='id identifier rubyid_property'>property</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>description</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Description</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='comment'># checking for prop_values.empty? handles the case when prop_values is an empty array
</span>        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>value</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='lbracket'>[</span><span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span> <span class='kw'>unless</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>or</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='kw'>or</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='lbracket'>[</span><span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_property'>property</span>
      <span class='kw'>end</span>

      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_with'>scales_with</span> <span class='op'>=</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_component_instances'>component_instances</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_component_instance'>component_instance</span><span class='op'>|</span>
        <span class='id identifier rubyid_cart'>cart</span> <span class='op'>=</span> <span class='const'>CartridgeCache</span><span class='op'>::</span><span class='id identifier rubyid_find_cartridge'>find_cartridge</span><span class='lparen'>(</span><span class='id identifier rubyid_component_instance'>component_instance</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span><span class='rparen'>)</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_categories'>categories</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
          <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_with'>scales_with</span> <span class='op'>=</span> <span class='id identifier rubyid_component_instance'>component_instance</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_help_topics'>help_topics</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_help_topics'>help_topics</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span> <span class='kw'>and</span> <span class='op'>!</span><span class='id identifier rubyid_nolinks'>nolinks</span>
      <span class='id identifier rubyid_domain_id'>domain_id</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_domain'>domain</span><span class='period'>.</span><span class='id identifier rubyid_namespace'>namespace</span>
      <span class='id identifier rubyid_app_id'>app_id</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='kw'>if</span> <span class='kw'>not</span> <span class='id identifier rubyid_app_id'>app_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='id identifier rubyid_domain_id'>domain_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_links'>links</span> <span class='op'>=</span> <span class='lbrace'>{</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Get cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UPDATE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Update cartridge configuration</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PUT</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>additional_gear_storage</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Additional filesystem storage in gigabytes on each gear having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales_from</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Minimum number of gears having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales_to</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Maximum number of gears having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>START</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Start embedded cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>start</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>STOP</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Stop cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>stop</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RESTART</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Restart cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>restart</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RELOAD</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Reload cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>reload</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Delete cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
          <span class='rbrace'>}</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_to_xml'>to_xml</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:tag_name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cartridge</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>super</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="properties=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="properties-instance_method">
  
    - (<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span>&lt;Property&gt;</tt>) <strong>properties</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>List of environment variables and property values that are exposed by this
cartridge and usable in application code.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span>&lt;Property&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>List of environment variables and property values that are exposed by this
cartridge and usable in application code.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/controller/app/rest_models/rest_embedded_cartridge15.rb', line 98</span>

<span class='kw'>class</span> <span class='const'>RestEmbeddedCartridge15</span> <span class='op'>&lt;</span> <span class='const'>OpenShift</span><span class='op'>::</span><span class='const'>Model</span>
  <span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:type</span><span class='comma'>,</span> <span class='symbol'>:name</span><span class='comma'>,</span> <span class='symbol'>:version</span><span class='comma'>,</span> <span class='symbol'>:license</span><span class='comma'>,</span> <span class='symbol'>:license_url</span><span class='comma'>,</span> <span class='symbol'>:tags</span><span class='comma'>,</span> <span class='symbol'>:website</span><span class='comma'>,</span> <span class='symbol'>:url</span><span class='comma'>,</span>
    <span class='symbol'>:help_topics</span><span class='comma'>,</span> <span class='symbol'>:links</span><span class='comma'>,</span> <span class='symbol'>:properties</span><span class='comma'>,</span> <span class='symbol'>:display_name</span><span class='comma'>,</span> <span class='symbol'>:description</span><span class='comma'>,</span> <span class='symbol'>:scales_from</span><span class='comma'>,</span>
    <span class='symbol'>:scales_to</span><span class='comma'>,</span> <span class='symbol'>:current_scale</span><span class='comma'>,</span> <span class='symbol'>:supported_scales_from</span><span class='comma'>,</span> <span class='symbol'>:supported_scales_to</span><span class='comma'>,</span>
    <span class='symbol'>:scales_with</span><span class='comma'>,</span> <span class='symbol'>:base_gear_storage</span><span class='comma'>,</span> <span class='symbol'>:additional_gear_storage</span><span class='comma'>,</span> <span class='symbol'>:gear_profile</span><span class='comma'>,</span> <span class='symbol'>:collocated_with</span><span class='comma'>,</span> 
    <span class='symbol'>:status_messages</span><span class='comma'>,</span> <span class='symbol'>:usage_rates</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_cart'>cart</span><span class='comma'>,</span> <span class='id identifier rubyid_comp'>comp</span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span><span class='comma'>,</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='comma'>,</span> <span class='id identifier rubyid_colocated_cinsts'>colocated_cinsts</span><span class='comma'>,</span> <span class='id identifier rubyid_scale'>scale</span><span class='comma'>,</span> <span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='id identifier rubyid_status_messages'>status_messages</span><span class='comma'>,</span> <span class='id identifier rubyid_nolinks'>nolinks</span><span class='op'>=</span><span class='kw'>false</span><span class='rparen'>)</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_status_messages'>status_messages</span> <span class='op'>=</span> <span class='id identifier rubyid_status_messages'>status_messages</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_display_name'>display_name</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_display_name'>display_name</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_license'>license</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_license'>license</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_license_url'>license_url</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_license_url'>license_url</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_tags'>tags</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_categories'>categories</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_website'>website</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_website'>website</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_downloaded_cartridges'>downloaded_cartridges</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_downloaded_cart_map'>downloaded_cart_map</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_cname'>cname</span><span class='comma'>,</span><span class='id identifier rubyid_chash'>chash</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_chash'>chash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>versioned_name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='op'>==</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='kw'>or</span> <span class='id identifier rubyid_cname'>cname</span><span class='op'>==</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
          <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='id identifier rubyid_chash'>chash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>url</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='rbrace'>}</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>standalone</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>embedded</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_is_embeddable?'>is_embeddable?</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_usage_rates'>usage_rates</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_usage_rates'>usage_rates</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_scale'>scale</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_from'>scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:min</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_to'>scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:max</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_scale'>current_scale</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:current</span><span class='rbracket'>]</span>
      <span class='comment'># self.scales_from = self.scales_to = self.current_scale = 1 if cinst.is_singleton?
</span>      <span class='kw'>if</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_is_sparse?'>is_sparse?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_from'>scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_get_component'>get_component</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_to'>scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_get_component'>get_component</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_scale'>current_scale</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_group_instance'>group_instance</span><span class='period'>.</span><span class='id identifier rubyid_get_gears'>get_gears</span><span class='lparen'>(</span><span class='id identifier rubyid_cinst'>cinst</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
      <span class='kw'>end</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_gear_profile'>gear_profile</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:gear_size</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_base_gear_storage'>base_gear_storage</span> <span class='op'>=</span> <span class='const'>Gear</span><span class='period'>.</span><span class='id identifier rubyid_base_filesystem_gb'>base_filesystem_gb</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_gear_profile'>gear_profile</span><span class='rparen'>)</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_additional_gear_storage'>additional_gear_storage</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:additional_storage</span><span class='rbracket'>]</span>

      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_collocated_with'>collocated_with</span> <span class='op'>=</span> <span class='id identifier rubyid_colocated_cinsts'>colocated_cinsts</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span> <span class='rbrace'>}</span>
    <span class='kw'>end</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_from'>supported_scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
      
      <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_scalable'>scalable</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span> <span class='op'>==</span> <span class='op'>-</span><span class='int'>1</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_to'>supported_scales_to</span> <span class='op'>=</span> <span class='int'>1</span>
      <span class='kw'>else</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_to'>supported_scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='comment'>#self.provides = cart.features
</span>    <span class='kw'>else</span>
      <span class='comment'>#self.provides = app.get_feature(cinst.cartridge_name, cinst.component_name)
</span>      <span class='id identifier rubyid_prop_values'>prop_values</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_component_properties'>component_properties</span>
      <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_cart_data_def'>cart_data_def</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_data_def'>data_def</span><span class='op'>|</span>
        <span class='id identifier rubyid_property'>property</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>description</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Description</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='comment'># checking for prop_values.empty? handles the case when prop_values is an empty array
</span>        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>value</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='lbracket'>[</span><span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span> <span class='kw'>unless</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>or</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='kw'>or</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='lbracket'>[</span><span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_property'>property</span>
      <span class='kw'>end</span>

      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_with'>scales_with</span> <span class='op'>=</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_component_instances'>component_instances</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_component_instance'>component_instance</span><span class='op'>|</span>
        <span class='id identifier rubyid_cart'>cart</span> <span class='op'>=</span> <span class='const'>CartridgeCache</span><span class='op'>::</span><span class='id identifier rubyid_find_cartridge'>find_cartridge</span><span class='lparen'>(</span><span class='id identifier rubyid_component_instance'>component_instance</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span><span class='rparen'>)</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_categories'>categories</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
          <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_with'>scales_with</span> <span class='op'>=</span> <span class='id identifier rubyid_component_instance'>component_instance</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_help_topics'>help_topics</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_help_topics'>help_topics</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span> <span class='kw'>and</span> <span class='op'>!</span><span class='id identifier rubyid_nolinks'>nolinks</span>
      <span class='id identifier rubyid_domain_id'>domain_id</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_domain'>domain</span><span class='period'>.</span><span class='id identifier rubyid_namespace'>namespace</span>
      <span class='id identifier rubyid_app_id'>app_id</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='kw'>if</span> <span class='kw'>not</span> <span class='id identifier rubyid_app_id'>app_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='id identifier rubyid_domain_id'>domain_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_links'>links</span> <span class='op'>=</span> <span class='lbrace'>{</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Get cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UPDATE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Update cartridge configuration</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PUT</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>additional_gear_storage</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Additional filesystem storage in gigabytes on each gear having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales_from</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Minimum number of gears having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales_to</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Maximum number of gears having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>START</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Start embedded cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>start</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>STOP</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Stop cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>stop</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RESTART</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Restart cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>restart</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RELOAD</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Reload cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>reload</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Delete cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
          <span class='rbrace'>}</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_to_xml'>to_xml</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:tag_name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cartridge</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>super</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="scales_from=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="scales_from-instance_method">
  
    - (<tt>Integer</tt>) <strong>scales_from</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>User specified minimum scale for the cartridge</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>User specified minimum scale for the cartridge</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/controller/app/rest_models/rest_embedded_cartridge15.rb', line 98</span>

<span class='kw'>class</span> <span class='const'>RestEmbeddedCartridge15</span> <span class='op'>&lt;</span> <span class='const'>OpenShift</span><span class='op'>::</span><span class='const'>Model</span>
  <span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:type</span><span class='comma'>,</span> <span class='symbol'>:name</span><span class='comma'>,</span> <span class='symbol'>:version</span><span class='comma'>,</span> <span class='symbol'>:license</span><span class='comma'>,</span> <span class='symbol'>:license_url</span><span class='comma'>,</span> <span class='symbol'>:tags</span><span class='comma'>,</span> <span class='symbol'>:website</span><span class='comma'>,</span> <span class='symbol'>:url</span><span class='comma'>,</span>
    <span class='symbol'>:help_topics</span><span class='comma'>,</span> <span class='symbol'>:links</span><span class='comma'>,</span> <span class='symbol'>:properties</span><span class='comma'>,</span> <span class='symbol'>:display_name</span><span class='comma'>,</span> <span class='symbol'>:description</span><span class='comma'>,</span> <span class='symbol'>:scales_from</span><span class='comma'>,</span>
    <span class='symbol'>:scales_to</span><span class='comma'>,</span> <span class='symbol'>:current_scale</span><span class='comma'>,</span> <span class='symbol'>:supported_scales_from</span><span class='comma'>,</span> <span class='symbol'>:supported_scales_to</span><span class='comma'>,</span>
    <span class='symbol'>:scales_with</span><span class='comma'>,</span> <span class='symbol'>:base_gear_storage</span><span class='comma'>,</span> <span class='symbol'>:additional_gear_storage</span><span class='comma'>,</span> <span class='symbol'>:gear_profile</span><span class='comma'>,</span> <span class='symbol'>:collocated_with</span><span class='comma'>,</span> 
    <span class='symbol'>:status_messages</span><span class='comma'>,</span> <span class='symbol'>:usage_rates</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_cart'>cart</span><span class='comma'>,</span> <span class='id identifier rubyid_comp'>comp</span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span><span class='comma'>,</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='comma'>,</span> <span class='id identifier rubyid_colocated_cinsts'>colocated_cinsts</span><span class='comma'>,</span> <span class='id identifier rubyid_scale'>scale</span><span class='comma'>,</span> <span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='id identifier rubyid_status_messages'>status_messages</span><span class='comma'>,</span> <span class='id identifier rubyid_nolinks'>nolinks</span><span class='op'>=</span><span class='kw'>false</span><span class='rparen'>)</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_status_messages'>status_messages</span> <span class='op'>=</span> <span class='id identifier rubyid_status_messages'>status_messages</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_display_name'>display_name</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_display_name'>display_name</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_license'>license</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_license'>license</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_license_url'>license_url</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_license_url'>license_url</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_tags'>tags</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_categories'>categories</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_website'>website</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_website'>website</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_downloaded_cartridges'>downloaded_cartridges</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_downloaded_cart_map'>downloaded_cart_map</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_cname'>cname</span><span class='comma'>,</span><span class='id identifier rubyid_chash'>chash</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_chash'>chash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>versioned_name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='op'>==</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='kw'>or</span> <span class='id identifier rubyid_cname'>cname</span><span class='op'>==</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
          <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='id identifier rubyid_chash'>chash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>url</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='rbrace'>}</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>standalone</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>embedded</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_is_embeddable?'>is_embeddable?</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_usage_rates'>usage_rates</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_usage_rates'>usage_rates</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_scale'>scale</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_from'>scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:min</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_to'>scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:max</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_scale'>current_scale</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:current</span><span class='rbracket'>]</span>
      <span class='comment'># self.scales_from = self.scales_to = self.current_scale = 1 if cinst.is_singleton?
</span>      <span class='kw'>if</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_is_sparse?'>is_sparse?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_from'>scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_get_component'>get_component</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_to'>scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_get_component'>get_component</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_scale'>current_scale</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_group_instance'>group_instance</span><span class='period'>.</span><span class='id identifier rubyid_get_gears'>get_gears</span><span class='lparen'>(</span><span class='id identifier rubyid_cinst'>cinst</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
      <span class='kw'>end</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_gear_profile'>gear_profile</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:gear_size</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_base_gear_storage'>base_gear_storage</span> <span class='op'>=</span> <span class='const'>Gear</span><span class='period'>.</span><span class='id identifier rubyid_base_filesystem_gb'>base_filesystem_gb</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_gear_profile'>gear_profile</span><span class='rparen'>)</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_additional_gear_storage'>additional_gear_storage</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:additional_storage</span><span class='rbracket'>]</span>

      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_collocated_with'>collocated_with</span> <span class='op'>=</span> <span class='id identifier rubyid_colocated_cinsts'>colocated_cinsts</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span> <span class='rbrace'>}</span>
    <span class='kw'>end</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_from'>supported_scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
      
      <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_scalable'>scalable</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span> <span class='op'>==</span> <span class='op'>-</span><span class='int'>1</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_to'>supported_scales_to</span> <span class='op'>=</span> <span class='int'>1</span>
      <span class='kw'>else</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_to'>supported_scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='comment'>#self.provides = cart.features
</span>    <span class='kw'>else</span>
      <span class='comment'>#self.provides = app.get_feature(cinst.cartridge_name, cinst.component_name)
</span>      <span class='id identifier rubyid_prop_values'>prop_values</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_component_properties'>component_properties</span>
      <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_cart_data_def'>cart_data_def</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_data_def'>data_def</span><span class='op'>|</span>
        <span class='id identifier rubyid_property'>property</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>description</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Description</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='comment'># checking for prop_values.empty? handles the case when prop_values is an empty array
</span>        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>value</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='lbracket'>[</span><span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span> <span class='kw'>unless</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>or</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='kw'>or</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='lbracket'>[</span><span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_property'>property</span>
      <span class='kw'>end</span>

      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_with'>scales_with</span> <span class='op'>=</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_component_instances'>component_instances</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_component_instance'>component_instance</span><span class='op'>|</span>
        <span class='id identifier rubyid_cart'>cart</span> <span class='op'>=</span> <span class='const'>CartridgeCache</span><span class='op'>::</span><span class='id identifier rubyid_find_cartridge'>find_cartridge</span><span class='lparen'>(</span><span class='id identifier rubyid_component_instance'>component_instance</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span><span class='rparen'>)</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_categories'>categories</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
          <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_with'>scales_with</span> <span class='op'>=</span> <span class='id identifier rubyid_component_instance'>component_instance</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_help_topics'>help_topics</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_help_topics'>help_topics</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span> <span class='kw'>and</span> <span class='op'>!</span><span class='id identifier rubyid_nolinks'>nolinks</span>
      <span class='id identifier rubyid_domain_id'>domain_id</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_domain'>domain</span><span class='period'>.</span><span class='id identifier rubyid_namespace'>namespace</span>
      <span class='id identifier rubyid_app_id'>app_id</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='kw'>if</span> <span class='kw'>not</span> <span class='id identifier rubyid_app_id'>app_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='id identifier rubyid_domain_id'>domain_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_links'>links</span> <span class='op'>=</span> <span class='lbrace'>{</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Get cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UPDATE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Update cartridge configuration</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PUT</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>additional_gear_storage</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Additional filesystem storage in gigabytes on each gear having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales_from</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Minimum number of gears having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales_to</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Maximum number of gears having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>START</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Start embedded cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>start</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>STOP</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Stop cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>stop</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RESTART</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Restart cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>restart</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RELOAD</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Reload cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>reload</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Delete cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
          <span class='rbrace'>}</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_to_xml'>to_xml</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:tag_name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cartridge</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>super</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="scales_to=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="scales_to-instance_method">
  
    - (<tt>Integer</tt>) <strong>scales_to</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>User specified maximum scale for the cartridge</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>User specified maximum scale for the cartridge</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/controller/app/rest_models/rest_embedded_cartridge15.rb', line 98</span>

<span class='kw'>class</span> <span class='const'>RestEmbeddedCartridge15</span> <span class='op'>&lt;</span> <span class='const'>OpenShift</span><span class='op'>::</span><span class='const'>Model</span>
  <span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:type</span><span class='comma'>,</span> <span class='symbol'>:name</span><span class='comma'>,</span> <span class='symbol'>:version</span><span class='comma'>,</span> <span class='symbol'>:license</span><span class='comma'>,</span> <span class='symbol'>:license_url</span><span class='comma'>,</span> <span class='symbol'>:tags</span><span class='comma'>,</span> <span class='symbol'>:website</span><span class='comma'>,</span> <span class='symbol'>:url</span><span class='comma'>,</span>
    <span class='symbol'>:help_topics</span><span class='comma'>,</span> <span class='symbol'>:links</span><span class='comma'>,</span> <span class='symbol'>:properties</span><span class='comma'>,</span> <span class='symbol'>:display_name</span><span class='comma'>,</span> <span class='symbol'>:description</span><span class='comma'>,</span> <span class='symbol'>:scales_from</span><span class='comma'>,</span>
    <span class='symbol'>:scales_to</span><span class='comma'>,</span> <span class='symbol'>:current_scale</span><span class='comma'>,</span> <span class='symbol'>:supported_scales_from</span><span class='comma'>,</span> <span class='symbol'>:supported_scales_to</span><span class='comma'>,</span>
    <span class='symbol'>:scales_with</span><span class='comma'>,</span> <span class='symbol'>:base_gear_storage</span><span class='comma'>,</span> <span class='symbol'>:additional_gear_storage</span><span class='comma'>,</span> <span class='symbol'>:gear_profile</span><span class='comma'>,</span> <span class='symbol'>:collocated_with</span><span class='comma'>,</span> 
    <span class='symbol'>:status_messages</span><span class='comma'>,</span> <span class='symbol'>:usage_rates</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_cart'>cart</span><span class='comma'>,</span> <span class='id identifier rubyid_comp'>comp</span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span><span class='comma'>,</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='comma'>,</span> <span class='id identifier rubyid_colocated_cinsts'>colocated_cinsts</span><span class='comma'>,</span> <span class='id identifier rubyid_scale'>scale</span><span class='comma'>,</span> <span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='id identifier rubyid_status_messages'>status_messages</span><span class='comma'>,</span> <span class='id identifier rubyid_nolinks'>nolinks</span><span class='op'>=</span><span class='kw'>false</span><span class='rparen'>)</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_status_messages'>status_messages</span> <span class='op'>=</span> <span class='id identifier rubyid_status_messages'>status_messages</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_display_name'>display_name</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_display_name'>display_name</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_license'>license</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_license'>license</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_license_url'>license_url</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_license_url'>license_url</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_tags'>tags</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_categories'>categories</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_website'>website</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_website'>website</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_downloaded_cartridges'>downloaded_cartridges</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_downloaded_cart_map'>downloaded_cart_map</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_cname'>cname</span><span class='comma'>,</span><span class='id identifier rubyid_chash'>chash</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_chash'>chash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>versioned_name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='op'>==</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='kw'>or</span> <span class='id identifier rubyid_cname'>cname</span><span class='op'>==</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
          <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='id identifier rubyid_chash'>chash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>url</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='rbrace'>}</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>standalone</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>embedded</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_is_embeddable?'>is_embeddable?</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_usage_rates'>usage_rates</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_usage_rates'>usage_rates</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_scale'>scale</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_from'>scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:min</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_to'>scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:max</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_scale'>current_scale</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:current</span><span class='rbracket'>]</span>
      <span class='comment'># self.scales_from = self.scales_to = self.current_scale = 1 if cinst.is_singleton?
</span>      <span class='kw'>if</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_is_sparse?'>is_sparse?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_from'>scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_get_component'>get_component</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_to'>scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_get_component'>get_component</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_scale'>current_scale</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_group_instance'>group_instance</span><span class='period'>.</span><span class='id identifier rubyid_get_gears'>get_gears</span><span class='lparen'>(</span><span class='id identifier rubyid_cinst'>cinst</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
      <span class='kw'>end</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_gear_profile'>gear_profile</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:gear_size</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_base_gear_storage'>base_gear_storage</span> <span class='op'>=</span> <span class='const'>Gear</span><span class='period'>.</span><span class='id identifier rubyid_base_filesystem_gb'>base_filesystem_gb</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_gear_profile'>gear_profile</span><span class='rparen'>)</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_additional_gear_storage'>additional_gear_storage</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:additional_storage</span><span class='rbracket'>]</span>

      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_collocated_with'>collocated_with</span> <span class='op'>=</span> <span class='id identifier rubyid_colocated_cinsts'>colocated_cinsts</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span> <span class='rbrace'>}</span>
    <span class='kw'>end</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_from'>supported_scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
      
      <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_scalable'>scalable</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span> <span class='op'>==</span> <span class='op'>-</span><span class='int'>1</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_to'>supported_scales_to</span> <span class='op'>=</span> <span class='int'>1</span>
      <span class='kw'>else</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_to'>supported_scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='comment'>#self.provides = cart.features
</span>    <span class='kw'>else</span>
      <span class='comment'>#self.provides = app.get_feature(cinst.cartridge_name, cinst.component_name)
</span>      <span class='id identifier rubyid_prop_values'>prop_values</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_component_properties'>component_properties</span>
      <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_cart_data_def'>cart_data_def</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_data_def'>data_def</span><span class='op'>|</span>
        <span class='id identifier rubyid_property'>property</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>description</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Description</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='comment'># checking for prop_values.empty? handles the case when prop_values is an empty array
</span>        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>value</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='lbracket'>[</span><span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span> <span class='kw'>unless</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>or</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='kw'>or</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='lbracket'>[</span><span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_property'>property</span>
      <span class='kw'>end</span>

      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_with'>scales_with</span> <span class='op'>=</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_component_instances'>component_instances</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_component_instance'>component_instance</span><span class='op'>|</span>
        <span class='id identifier rubyid_cart'>cart</span> <span class='op'>=</span> <span class='const'>CartridgeCache</span><span class='op'>::</span><span class='id identifier rubyid_find_cartridge'>find_cartridge</span><span class='lparen'>(</span><span class='id identifier rubyid_component_instance'>component_instance</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span><span class='rparen'>)</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_categories'>categories</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
          <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_with'>scales_with</span> <span class='op'>=</span> <span class='id identifier rubyid_component_instance'>component_instance</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_help_topics'>help_topics</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_help_topics'>help_topics</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span> <span class='kw'>and</span> <span class='op'>!</span><span class='id identifier rubyid_nolinks'>nolinks</span>
      <span class='id identifier rubyid_domain_id'>domain_id</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_domain'>domain</span><span class='period'>.</span><span class='id identifier rubyid_namespace'>namespace</span>
      <span class='id identifier rubyid_app_id'>app_id</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='kw'>if</span> <span class='kw'>not</span> <span class='id identifier rubyid_app_id'>app_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='id identifier rubyid_domain_id'>domain_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_links'>links</span> <span class='op'>=</span> <span class='lbrace'>{</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Get cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UPDATE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Update cartridge configuration</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PUT</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>additional_gear_storage</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Additional filesystem storage in gigabytes on each gear having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales_from</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Minimum number of gears having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales_to</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Maximum number of gears having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>START</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Start embedded cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>start</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>STOP</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Stop cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>stop</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RESTART</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Restart cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>restart</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RELOAD</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Reload cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>reload</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Delete cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
          <span class='rbrace'>}</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_to_xml'>to_xml</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:tag_name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cartridge</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>super</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="scales_with=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="scales_with-instance_method">
  
    - (<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span>&lt;String&gt;</tt>) <strong>scales_with</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Names of other cartridges that scale along with this cartridge and run on
the same set of gears</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span>&lt;String&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Names of other cartridges that scale along with this cartridge and run on
the same set of gears</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/controller/app/rest_models/rest_embedded_cartridge15.rb', line 98</span>

<span class='kw'>class</span> <span class='const'>RestEmbeddedCartridge15</span> <span class='op'>&lt;</span> <span class='const'>OpenShift</span><span class='op'>::</span><span class='const'>Model</span>
  <span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:type</span><span class='comma'>,</span> <span class='symbol'>:name</span><span class='comma'>,</span> <span class='symbol'>:version</span><span class='comma'>,</span> <span class='symbol'>:license</span><span class='comma'>,</span> <span class='symbol'>:license_url</span><span class='comma'>,</span> <span class='symbol'>:tags</span><span class='comma'>,</span> <span class='symbol'>:website</span><span class='comma'>,</span> <span class='symbol'>:url</span><span class='comma'>,</span>
    <span class='symbol'>:help_topics</span><span class='comma'>,</span> <span class='symbol'>:links</span><span class='comma'>,</span> <span class='symbol'>:properties</span><span class='comma'>,</span> <span class='symbol'>:display_name</span><span class='comma'>,</span> <span class='symbol'>:description</span><span class='comma'>,</span> <span class='symbol'>:scales_from</span><span class='comma'>,</span>
    <span class='symbol'>:scales_to</span><span class='comma'>,</span> <span class='symbol'>:current_scale</span><span class='comma'>,</span> <span class='symbol'>:supported_scales_from</span><span class='comma'>,</span> <span class='symbol'>:supported_scales_to</span><span class='comma'>,</span>
    <span class='symbol'>:scales_with</span><span class='comma'>,</span> <span class='symbol'>:base_gear_storage</span><span class='comma'>,</span> <span class='symbol'>:additional_gear_storage</span><span class='comma'>,</span> <span class='symbol'>:gear_profile</span><span class='comma'>,</span> <span class='symbol'>:collocated_with</span><span class='comma'>,</span> 
    <span class='symbol'>:status_messages</span><span class='comma'>,</span> <span class='symbol'>:usage_rates</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_cart'>cart</span><span class='comma'>,</span> <span class='id identifier rubyid_comp'>comp</span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span><span class='comma'>,</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='comma'>,</span> <span class='id identifier rubyid_colocated_cinsts'>colocated_cinsts</span><span class='comma'>,</span> <span class='id identifier rubyid_scale'>scale</span><span class='comma'>,</span> <span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='id identifier rubyid_status_messages'>status_messages</span><span class='comma'>,</span> <span class='id identifier rubyid_nolinks'>nolinks</span><span class='op'>=</span><span class='kw'>false</span><span class='rparen'>)</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_status_messages'>status_messages</span> <span class='op'>=</span> <span class='id identifier rubyid_status_messages'>status_messages</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_display_name'>display_name</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_display_name'>display_name</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_license'>license</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_license'>license</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_license_url'>license_url</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_license_url'>license_url</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_tags'>tags</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_categories'>categories</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_website'>website</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_website'>website</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_downloaded_cartridges'>downloaded_cartridges</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_downloaded_cart_map'>downloaded_cart_map</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_cname'>cname</span><span class='comma'>,</span><span class='id identifier rubyid_chash'>chash</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_chash'>chash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>versioned_name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='op'>==</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='kw'>or</span> <span class='id identifier rubyid_cname'>cname</span><span class='op'>==</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
          <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='id identifier rubyid_chash'>chash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>url</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='rbrace'>}</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>standalone</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>embedded</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_is_embeddable?'>is_embeddable?</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_usage_rates'>usage_rates</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_usage_rates'>usage_rates</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_scale'>scale</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_from'>scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:min</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_to'>scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:max</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_scale'>current_scale</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:current</span><span class='rbracket'>]</span>
      <span class='comment'># self.scales_from = self.scales_to = self.current_scale = 1 if cinst.is_singleton?
</span>      <span class='kw'>if</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_is_sparse?'>is_sparse?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_from'>scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_get_component'>get_component</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_to'>scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_get_component'>get_component</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_scale'>current_scale</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_group_instance'>group_instance</span><span class='period'>.</span><span class='id identifier rubyid_get_gears'>get_gears</span><span class='lparen'>(</span><span class='id identifier rubyid_cinst'>cinst</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
      <span class='kw'>end</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_gear_profile'>gear_profile</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:gear_size</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_base_gear_storage'>base_gear_storage</span> <span class='op'>=</span> <span class='const'>Gear</span><span class='period'>.</span><span class='id identifier rubyid_base_filesystem_gb'>base_filesystem_gb</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_gear_profile'>gear_profile</span><span class='rparen'>)</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_additional_gear_storage'>additional_gear_storage</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:additional_storage</span><span class='rbracket'>]</span>

      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_collocated_with'>collocated_with</span> <span class='op'>=</span> <span class='id identifier rubyid_colocated_cinsts'>colocated_cinsts</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span> <span class='rbrace'>}</span>
    <span class='kw'>end</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_from'>supported_scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
      
      <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_scalable'>scalable</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span> <span class='op'>==</span> <span class='op'>-</span><span class='int'>1</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_to'>supported_scales_to</span> <span class='op'>=</span> <span class='int'>1</span>
      <span class='kw'>else</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_to'>supported_scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='comment'>#self.provides = cart.features
</span>    <span class='kw'>else</span>
      <span class='comment'>#self.provides = app.get_feature(cinst.cartridge_name, cinst.component_name)
</span>      <span class='id identifier rubyid_prop_values'>prop_values</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_component_properties'>component_properties</span>
      <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_cart_data_def'>cart_data_def</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_data_def'>data_def</span><span class='op'>|</span>
        <span class='id identifier rubyid_property'>property</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>description</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Description</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='comment'># checking for prop_values.empty? handles the case when prop_values is an empty array
</span>        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>value</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='lbracket'>[</span><span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span> <span class='kw'>unless</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>or</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='kw'>or</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='lbracket'>[</span><span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_property'>property</span>
      <span class='kw'>end</span>

      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_with'>scales_with</span> <span class='op'>=</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_component_instances'>component_instances</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_component_instance'>component_instance</span><span class='op'>|</span>
        <span class='id identifier rubyid_cart'>cart</span> <span class='op'>=</span> <span class='const'>CartridgeCache</span><span class='op'>::</span><span class='id identifier rubyid_find_cartridge'>find_cartridge</span><span class='lparen'>(</span><span class='id identifier rubyid_component_instance'>component_instance</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span><span class='rparen'>)</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_categories'>categories</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
          <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_with'>scales_with</span> <span class='op'>=</span> <span class='id identifier rubyid_component_instance'>component_instance</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_help_topics'>help_topics</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_help_topics'>help_topics</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span> <span class='kw'>and</span> <span class='op'>!</span><span class='id identifier rubyid_nolinks'>nolinks</span>
      <span class='id identifier rubyid_domain_id'>domain_id</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_domain'>domain</span><span class='period'>.</span><span class='id identifier rubyid_namespace'>namespace</span>
      <span class='id identifier rubyid_app_id'>app_id</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='kw'>if</span> <span class='kw'>not</span> <span class='id identifier rubyid_app_id'>app_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='id identifier rubyid_domain_id'>domain_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_links'>links</span> <span class='op'>=</span> <span class='lbrace'>{</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Get cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UPDATE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Update cartridge configuration</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PUT</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>additional_gear_storage</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Additional filesystem storage in gigabytes on each gear having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales_from</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Minimum number of gears having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales_to</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Maximum number of gears having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>START</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Start embedded cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>start</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>STOP</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Stop cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>stop</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RESTART</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Restart cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>restart</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RELOAD</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Reload cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>reload</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Delete cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
          <span class='rbrace'>}</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_to_xml'>to_xml</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:tag_name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cartridge</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>super</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="status_messages=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="status_messages-instance_method">
  
    - (<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span>&lt;String&gt;</tt>) <strong>status_messages</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Status messages returned back from the cartridge</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span>&lt;String&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Status messages returned back from the cartridge</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/controller/app/rest_models/rest_embedded_cartridge15.rb', line 98</span>

<span class='kw'>class</span> <span class='const'>RestEmbeddedCartridge15</span> <span class='op'>&lt;</span> <span class='const'>OpenShift</span><span class='op'>::</span><span class='const'>Model</span>
  <span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:type</span><span class='comma'>,</span> <span class='symbol'>:name</span><span class='comma'>,</span> <span class='symbol'>:version</span><span class='comma'>,</span> <span class='symbol'>:license</span><span class='comma'>,</span> <span class='symbol'>:license_url</span><span class='comma'>,</span> <span class='symbol'>:tags</span><span class='comma'>,</span> <span class='symbol'>:website</span><span class='comma'>,</span> <span class='symbol'>:url</span><span class='comma'>,</span>
    <span class='symbol'>:help_topics</span><span class='comma'>,</span> <span class='symbol'>:links</span><span class='comma'>,</span> <span class='symbol'>:properties</span><span class='comma'>,</span> <span class='symbol'>:display_name</span><span class='comma'>,</span> <span class='symbol'>:description</span><span class='comma'>,</span> <span class='symbol'>:scales_from</span><span class='comma'>,</span>
    <span class='symbol'>:scales_to</span><span class='comma'>,</span> <span class='symbol'>:current_scale</span><span class='comma'>,</span> <span class='symbol'>:supported_scales_from</span><span class='comma'>,</span> <span class='symbol'>:supported_scales_to</span><span class='comma'>,</span>
    <span class='symbol'>:scales_with</span><span class='comma'>,</span> <span class='symbol'>:base_gear_storage</span><span class='comma'>,</span> <span class='symbol'>:additional_gear_storage</span><span class='comma'>,</span> <span class='symbol'>:gear_profile</span><span class='comma'>,</span> <span class='symbol'>:collocated_with</span><span class='comma'>,</span> 
    <span class='symbol'>:status_messages</span><span class='comma'>,</span> <span class='symbol'>:usage_rates</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_cart'>cart</span><span class='comma'>,</span> <span class='id identifier rubyid_comp'>comp</span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span><span class='comma'>,</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='comma'>,</span> <span class='id identifier rubyid_colocated_cinsts'>colocated_cinsts</span><span class='comma'>,</span> <span class='id identifier rubyid_scale'>scale</span><span class='comma'>,</span> <span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='id identifier rubyid_status_messages'>status_messages</span><span class='comma'>,</span> <span class='id identifier rubyid_nolinks'>nolinks</span><span class='op'>=</span><span class='kw'>false</span><span class='rparen'>)</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_status_messages'>status_messages</span> <span class='op'>=</span> <span class='id identifier rubyid_status_messages'>status_messages</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_display_name'>display_name</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_display_name'>display_name</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_license'>license</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_license'>license</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_license_url'>license_url</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_license_url'>license_url</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_tags'>tags</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_categories'>categories</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_website'>website</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_website'>website</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_downloaded_cartridges'>downloaded_cartridges</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_downloaded_cart_map'>downloaded_cart_map</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_cname'>cname</span><span class='comma'>,</span><span class='id identifier rubyid_chash'>chash</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_chash'>chash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>versioned_name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='op'>==</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='kw'>or</span> <span class='id identifier rubyid_cname'>cname</span><span class='op'>==</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
          <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='id identifier rubyid_chash'>chash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>url</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='rbrace'>}</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>standalone</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>embedded</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_is_embeddable?'>is_embeddable?</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_usage_rates'>usage_rates</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_usage_rates'>usage_rates</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_scale'>scale</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_from'>scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:min</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_to'>scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:max</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_scale'>current_scale</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:current</span><span class='rbracket'>]</span>
      <span class='comment'># self.scales_from = self.scales_to = self.current_scale = 1 if cinst.is_singleton?
</span>      <span class='kw'>if</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_is_sparse?'>is_sparse?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_from'>scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_get_component'>get_component</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_to'>scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_get_component'>get_component</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_scale'>current_scale</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_group_instance'>group_instance</span><span class='period'>.</span><span class='id identifier rubyid_get_gears'>get_gears</span><span class='lparen'>(</span><span class='id identifier rubyid_cinst'>cinst</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
      <span class='kw'>end</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_gear_profile'>gear_profile</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:gear_size</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_base_gear_storage'>base_gear_storage</span> <span class='op'>=</span> <span class='const'>Gear</span><span class='period'>.</span><span class='id identifier rubyid_base_filesystem_gb'>base_filesystem_gb</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_gear_profile'>gear_profile</span><span class='rparen'>)</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_additional_gear_storage'>additional_gear_storage</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:additional_storage</span><span class='rbracket'>]</span>

      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_collocated_with'>collocated_with</span> <span class='op'>=</span> <span class='id identifier rubyid_colocated_cinsts'>colocated_cinsts</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span> <span class='rbrace'>}</span>
    <span class='kw'>end</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_from'>supported_scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
      
      <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_scalable'>scalable</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span> <span class='op'>==</span> <span class='op'>-</span><span class='int'>1</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_to'>supported_scales_to</span> <span class='op'>=</span> <span class='int'>1</span>
      <span class='kw'>else</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_to'>supported_scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='comment'>#self.provides = cart.features
</span>    <span class='kw'>else</span>
      <span class='comment'>#self.provides = app.get_feature(cinst.cartridge_name, cinst.component_name)
</span>      <span class='id identifier rubyid_prop_values'>prop_values</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_component_properties'>component_properties</span>
      <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_cart_data_def'>cart_data_def</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_data_def'>data_def</span><span class='op'>|</span>
        <span class='id identifier rubyid_property'>property</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>description</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Description</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='comment'># checking for prop_values.empty? handles the case when prop_values is an empty array
</span>        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>value</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='lbracket'>[</span><span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span> <span class='kw'>unless</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>or</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='kw'>or</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='lbracket'>[</span><span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_property'>property</span>
      <span class='kw'>end</span>

      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_with'>scales_with</span> <span class='op'>=</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_component_instances'>component_instances</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_component_instance'>component_instance</span><span class='op'>|</span>
        <span class='id identifier rubyid_cart'>cart</span> <span class='op'>=</span> <span class='const'>CartridgeCache</span><span class='op'>::</span><span class='id identifier rubyid_find_cartridge'>find_cartridge</span><span class='lparen'>(</span><span class='id identifier rubyid_component_instance'>component_instance</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span><span class='rparen'>)</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_categories'>categories</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
          <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_with'>scales_with</span> <span class='op'>=</span> <span class='id identifier rubyid_component_instance'>component_instance</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_help_topics'>help_topics</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_help_topics'>help_topics</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span> <span class='kw'>and</span> <span class='op'>!</span><span class='id identifier rubyid_nolinks'>nolinks</span>
      <span class='id identifier rubyid_domain_id'>domain_id</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_domain'>domain</span><span class='period'>.</span><span class='id identifier rubyid_namespace'>namespace</span>
      <span class='id identifier rubyid_app_id'>app_id</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='kw'>if</span> <span class='kw'>not</span> <span class='id identifier rubyid_app_id'>app_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='id identifier rubyid_domain_id'>domain_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_links'>links</span> <span class='op'>=</span> <span class='lbrace'>{</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Get cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UPDATE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Update cartridge configuration</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PUT</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>additional_gear_storage</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Additional filesystem storage in gigabytes on each gear having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales_from</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Minimum number of gears having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales_to</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Maximum number of gears having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>START</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Start embedded cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>start</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>STOP</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Stop cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>stop</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RESTART</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Restart cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>restart</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RELOAD</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Reload cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>reload</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Delete cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
          <span class='rbrace'>}</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_to_xml'>to_xml</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:tag_name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cartridge</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>super</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="supported_scales_from=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="supported_scales_from-instance_method">
  
    - (<tt>Integer</tt>) <strong>supported_scales_from</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Cartridge supported maximum scale</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Cartridge supported maximum scale</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/controller/app/rest_models/rest_embedded_cartridge15.rb', line 98</span>

<span class='kw'>class</span> <span class='const'>RestEmbeddedCartridge15</span> <span class='op'>&lt;</span> <span class='const'>OpenShift</span><span class='op'>::</span><span class='const'>Model</span>
  <span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:type</span><span class='comma'>,</span> <span class='symbol'>:name</span><span class='comma'>,</span> <span class='symbol'>:version</span><span class='comma'>,</span> <span class='symbol'>:license</span><span class='comma'>,</span> <span class='symbol'>:license_url</span><span class='comma'>,</span> <span class='symbol'>:tags</span><span class='comma'>,</span> <span class='symbol'>:website</span><span class='comma'>,</span> <span class='symbol'>:url</span><span class='comma'>,</span>
    <span class='symbol'>:help_topics</span><span class='comma'>,</span> <span class='symbol'>:links</span><span class='comma'>,</span> <span class='symbol'>:properties</span><span class='comma'>,</span> <span class='symbol'>:display_name</span><span class='comma'>,</span> <span class='symbol'>:description</span><span class='comma'>,</span> <span class='symbol'>:scales_from</span><span class='comma'>,</span>
    <span class='symbol'>:scales_to</span><span class='comma'>,</span> <span class='symbol'>:current_scale</span><span class='comma'>,</span> <span class='symbol'>:supported_scales_from</span><span class='comma'>,</span> <span class='symbol'>:supported_scales_to</span><span class='comma'>,</span>
    <span class='symbol'>:scales_with</span><span class='comma'>,</span> <span class='symbol'>:base_gear_storage</span><span class='comma'>,</span> <span class='symbol'>:additional_gear_storage</span><span class='comma'>,</span> <span class='symbol'>:gear_profile</span><span class='comma'>,</span> <span class='symbol'>:collocated_with</span><span class='comma'>,</span> 
    <span class='symbol'>:status_messages</span><span class='comma'>,</span> <span class='symbol'>:usage_rates</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_cart'>cart</span><span class='comma'>,</span> <span class='id identifier rubyid_comp'>comp</span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span><span class='comma'>,</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='comma'>,</span> <span class='id identifier rubyid_colocated_cinsts'>colocated_cinsts</span><span class='comma'>,</span> <span class='id identifier rubyid_scale'>scale</span><span class='comma'>,</span> <span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='id identifier rubyid_status_messages'>status_messages</span><span class='comma'>,</span> <span class='id identifier rubyid_nolinks'>nolinks</span><span class='op'>=</span><span class='kw'>false</span><span class='rparen'>)</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_status_messages'>status_messages</span> <span class='op'>=</span> <span class='id identifier rubyid_status_messages'>status_messages</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_display_name'>display_name</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_display_name'>display_name</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_license'>license</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_license'>license</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_license_url'>license_url</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_license_url'>license_url</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_tags'>tags</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_categories'>categories</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_website'>website</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_website'>website</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_downloaded_cartridges'>downloaded_cartridges</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_downloaded_cart_map'>downloaded_cart_map</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_cname'>cname</span><span class='comma'>,</span><span class='id identifier rubyid_chash'>chash</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_chash'>chash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>versioned_name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='op'>==</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='kw'>or</span> <span class='id identifier rubyid_cname'>cname</span><span class='op'>==</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
          <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='id identifier rubyid_chash'>chash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>url</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='rbrace'>}</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>standalone</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>embedded</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_is_embeddable?'>is_embeddable?</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_usage_rates'>usage_rates</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_usage_rates'>usage_rates</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_scale'>scale</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_from'>scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:min</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_to'>scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:max</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_scale'>current_scale</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:current</span><span class='rbracket'>]</span>
      <span class='comment'># self.scales_from = self.scales_to = self.current_scale = 1 if cinst.is_singleton?
</span>      <span class='kw'>if</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_is_sparse?'>is_sparse?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_from'>scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_get_component'>get_component</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_to'>scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_get_component'>get_component</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_scale'>current_scale</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_group_instance'>group_instance</span><span class='period'>.</span><span class='id identifier rubyid_get_gears'>get_gears</span><span class='lparen'>(</span><span class='id identifier rubyid_cinst'>cinst</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
      <span class='kw'>end</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_gear_profile'>gear_profile</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:gear_size</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_base_gear_storage'>base_gear_storage</span> <span class='op'>=</span> <span class='const'>Gear</span><span class='period'>.</span><span class='id identifier rubyid_base_filesystem_gb'>base_filesystem_gb</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_gear_profile'>gear_profile</span><span class='rparen'>)</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_additional_gear_storage'>additional_gear_storage</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:additional_storage</span><span class='rbracket'>]</span>

      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_collocated_with'>collocated_with</span> <span class='op'>=</span> <span class='id identifier rubyid_colocated_cinsts'>colocated_cinsts</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span> <span class='rbrace'>}</span>
    <span class='kw'>end</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_from'>supported_scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
      
      <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_scalable'>scalable</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span> <span class='op'>==</span> <span class='op'>-</span><span class='int'>1</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_to'>supported_scales_to</span> <span class='op'>=</span> <span class='int'>1</span>
      <span class='kw'>else</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_to'>supported_scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='comment'>#self.provides = cart.features
</span>    <span class='kw'>else</span>
      <span class='comment'>#self.provides = app.get_feature(cinst.cartridge_name, cinst.component_name)
</span>      <span class='id identifier rubyid_prop_values'>prop_values</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_component_properties'>component_properties</span>
      <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_cart_data_def'>cart_data_def</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_data_def'>data_def</span><span class='op'>|</span>
        <span class='id identifier rubyid_property'>property</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>description</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Description</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='comment'># checking for prop_values.empty? handles the case when prop_values is an empty array
</span>        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>value</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='lbracket'>[</span><span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span> <span class='kw'>unless</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>or</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='kw'>or</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='lbracket'>[</span><span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_property'>property</span>
      <span class='kw'>end</span>

      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_with'>scales_with</span> <span class='op'>=</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_component_instances'>component_instances</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_component_instance'>component_instance</span><span class='op'>|</span>
        <span class='id identifier rubyid_cart'>cart</span> <span class='op'>=</span> <span class='const'>CartridgeCache</span><span class='op'>::</span><span class='id identifier rubyid_find_cartridge'>find_cartridge</span><span class='lparen'>(</span><span class='id identifier rubyid_component_instance'>component_instance</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span><span class='rparen'>)</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_categories'>categories</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
          <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_with'>scales_with</span> <span class='op'>=</span> <span class='id identifier rubyid_component_instance'>component_instance</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_help_topics'>help_topics</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_help_topics'>help_topics</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span> <span class='kw'>and</span> <span class='op'>!</span><span class='id identifier rubyid_nolinks'>nolinks</span>
      <span class='id identifier rubyid_domain_id'>domain_id</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_domain'>domain</span><span class='period'>.</span><span class='id identifier rubyid_namespace'>namespace</span>
      <span class='id identifier rubyid_app_id'>app_id</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='kw'>if</span> <span class='kw'>not</span> <span class='id identifier rubyid_app_id'>app_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='id identifier rubyid_domain_id'>domain_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_links'>links</span> <span class='op'>=</span> <span class='lbrace'>{</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Get cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UPDATE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Update cartridge configuration</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PUT</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>additional_gear_storage</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Additional filesystem storage in gigabytes on each gear having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales_from</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Minimum number of gears having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales_to</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Maximum number of gears having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>START</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Start embedded cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>start</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>STOP</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Stop cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>stop</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RESTART</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Restart cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>restart</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RELOAD</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Reload cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>reload</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Delete cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
          <span class='rbrace'>}</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_to_xml'>to_xml</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:tag_name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cartridge</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>super</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="supported_scales_to=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="supported_scales_to-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>supported_scales_to</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


99
100
101</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/controller/app/rest_models/rest_embedded_cartridge15.rb', line 99</span>

<span class='kw'>def</span> <span class='id identifier rubyid_supported_scales_to'>supported_scales_to</span>
  <span class='ivar'>@supported_scales_to</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="tags=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="tags-instance_method">
  
    - (<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span>&lt;String&gt;</tt>) <strong>tags</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Array of tags associated with the cartridge</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span>&lt;String&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Array of tags associated with the cartridge</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/controller/app/rest_models/rest_embedded_cartridge15.rb', line 98</span>

<span class='kw'>class</span> <span class='const'>RestEmbeddedCartridge15</span> <span class='op'>&lt;</span> <span class='const'>OpenShift</span><span class='op'>::</span><span class='const'>Model</span>
  <span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:type</span><span class='comma'>,</span> <span class='symbol'>:name</span><span class='comma'>,</span> <span class='symbol'>:version</span><span class='comma'>,</span> <span class='symbol'>:license</span><span class='comma'>,</span> <span class='symbol'>:license_url</span><span class='comma'>,</span> <span class='symbol'>:tags</span><span class='comma'>,</span> <span class='symbol'>:website</span><span class='comma'>,</span> <span class='symbol'>:url</span><span class='comma'>,</span>
    <span class='symbol'>:help_topics</span><span class='comma'>,</span> <span class='symbol'>:links</span><span class='comma'>,</span> <span class='symbol'>:properties</span><span class='comma'>,</span> <span class='symbol'>:display_name</span><span class='comma'>,</span> <span class='symbol'>:description</span><span class='comma'>,</span> <span class='symbol'>:scales_from</span><span class='comma'>,</span>
    <span class='symbol'>:scales_to</span><span class='comma'>,</span> <span class='symbol'>:current_scale</span><span class='comma'>,</span> <span class='symbol'>:supported_scales_from</span><span class='comma'>,</span> <span class='symbol'>:supported_scales_to</span><span class='comma'>,</span>
    <span class='symbol'>:scales_with</span><span class='comma'>,</span> <span class='symbol'>:base_gear_storage</span><span class='comma'>,</span> <span class='symbol'>:additional_gear_storage</span><span class='comma'>,</span> <span class='symbol'>:gear_profile</span><span class='comma'>,</span> <span class='symbol'>:collocated_with</span><span class='comma'>,</span> 
    <span class='symbol'>:status_messages</span><span class='comma'>,</span> <span class='symbol'>:usage_rates</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_cart'>cart</span><span class='comma'>,</span> <span class='id identifier rubyid_comp'>comp</span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span><span class='comma'>,</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='comma'>,</span> <span class='id identifier rubyid_colocated_cinsts'>colocated_cinsts</span><span class='comma'>,</span> <span class='id identifier rubyid_scale'>scale</span><span class='comma'>,</span> <span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='id identifier rubyid_status_messages'>status_messages</span><span class='comma'>,</span> <span class='id identifier rubyid_nolinks'>nolinks</span><span class='op'>=</span><span class='kw'>false</span><span class='rparen'>)</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_status_messages'>status_messages</span> <span class='op'>=</span> <span class='id identifier rubyid_status_messages'>status_messages</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_display_name'>display_name</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_display_name'>display_name</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_license'>license</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_license'>license</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_license_url'>license_url</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_license_url'>license_url</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_tags'>tags</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_categories'>categories</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_website'>website</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_website'>website</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_downloaded_cartridges'>downloaded_cartridges</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_downloaded_cart_map'>downloaded_cart_map</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_cname'>cname</span><span class='comma'>,</span><span class='id identifier rubyid_chash'>chash</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_chash'>chash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>versioned_name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='op'>==</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='kw'>or</span> <span class='id identifier rubyid_cname'>cname</span><span class='op'>==</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
          <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='id identifier rubyid_chash'>chash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>url</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='rbrace'>}</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>standalone</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>embedded</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_is_embeddable?'>is_embeddable?</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_usage_rates'>usage_rates</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_usage_rates'>usage_rates</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_scale'>scale</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_from'>scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:min</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_to'>scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:max</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_scale'>current_scale</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:current</span><span class='rbracket'>]</span>
      <span class='comment'># self.scales_from = self.scales_to = self.current_scale = 1 if cinst.is_singleton?
</span>      <span class='kw'>if</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_is_sparse?'>is_sparse?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_from'>scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_get_component'>get_component</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_to'>scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_get_component'>get_component</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_scale'>current_scale</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_group_instance'>group_instance</span><span class='period'>.</span><span class='id identifier rubyid_get_gears'>get_gears</span><span class='lparen'>(</span><span class='id identifier rubyid_cinst'>cinst</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
      <span class='kw'>end</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_gear_profile'>gear_profile</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:gear_size</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_base_gear_storage'>base_gear_storage</span> <span class='op'>=</span> <span class='const'>Gear</span><span class='period'>.</span><span class='id identifier rubyid_base_filesystem_gb'>base_filesystem_gb</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_gear_profile'>gear_profile</span><span class='rparen'>)</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_additional_gear_storage'>additional_gear_storage</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:additional_storage</span><span class='rbracket'>]</span>

      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_collocated_with'>collocated_with</span> <span class='op'>=</span> <span class='id identifier rubyid_colocated_cinsts'>colocated_cinsts</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span> <span class='rbrace'>}</span>
    <span class='kw'>end</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_from'>supported_scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
      
      <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_scalable'>scalable</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span> <span class='op'>==</span> <span class='op'>-</span><span class='int'>1</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_to'>supported_scales_to</span> <span class='op'>=</span> <span class='int'>1</span>
      <span class='kw'>else</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_to'>supported_scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='comment'>#self.provides = cart.features
</span>    <span class='kw'>else</span>
      <span class='comment'>#self.provides = app.get_feature(cinst.cartridge_name, cinst.component_name)
</span>      <span class='id identifier rubyid_prop_values'>prop_values</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_component_properties'>component_properties</span>
      <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_cart_data_def'>cart_data_def</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_data_def'>data_def</span><span class='op'>|</span>
        <span class='id identifier rubyid_property'>property</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>description</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Description</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='comment'># checking for prop_values.empty? handles the case when prop_values is an empty array
</span>        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>value</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='lbracket'>[</span><span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span> <span class='kw'>unless</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>or</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='kw'>or</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='lbracket'>[</span><span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_property'>property</span>
      <span class='kw'>end</span>

      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_with'>scales_with</span> <span class='op'>=</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_component_instances'>component_instances</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_component_instance'>component_instance</span><span class='op'>|</span>
        <span class='id identifier rubyid_cart'>cart</span> <span class='op'>=</span> <span class='const'>CartridgeCache</span><span class='op'>::</span><span class='id identifier rubyid_find_cartridge'>find_cartridge</span><span class='lparen'>(</span><span class='id identifier rubyid_component_instance'>component_instance</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span><span class='rparen'>)</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_categories'>categories</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
          <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_with'>scales_with</span> <span class='op'>=</span> <span class='id identifier rubyid_component_instance'>component_instance</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_help_topics'>help_topics</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_help_topics'>help_topics</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span> <span class='kw'>and</span> <span class='op'>!</span><span class='id identifier rubyid_nolinks'>nolinks</span>
      <span class='id identifier rubyid_domain_id'>domain_id</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_domain'>domain</span><span class='period'>.</span><span class='id identifier rubyid_namespace'>namespace</span>
      <span class='id identifier rubyid_app_id'>app_id</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='kw'>if</span> <span class='kw'>not</span> <span class='id identifier rubyid_app_id'>app_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='id identifier rubyid_domain_id'>domain_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_links'>links</span> <span class='op'>=</span> <span class='lbrace'>{</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Get cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UPDATE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Update cartridge configuration</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PUT</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>additional_gear_storage</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Additional filesystem storage in gigabytes on each gear having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales_from</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Minimum number of gears having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales_to</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Maximum number of gears having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>START</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Start embedded cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>start</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>STOP</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Stop cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>stop</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RESTART</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Restart cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>restart</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RELOAD</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Reload cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>reload</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Delete cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
          <span class='rbrace'>}</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_to_xml'>to_xml</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:tag_name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cartridge</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>super</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="type=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="type-instance_method">
  
    - (<tt>String</tt>) <strong>type</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <div class="note deprecated"><strong>Deprecated.</strong> <div class='inline'></div></div>

<p>"standalone" or "embedded".</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>"standalone" or "embedded".</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/controller/app/rest_models/rest_embedded_cartridge15.rb', line 98</span>

<span class='kw'>class</span> <span class='const'>RestEmbeddedCartridge15</span> <span class='op'>&lt;</span> <span class='const'>OpenShift</span><span class='op'>::</span><span class='const'>Model</span>
  <span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:type</span><span class='comma'>,</span> <span class='symbol'>:name</span><span class='comma'>,</span> <span class='symbol'>:version</span><span class='comma'>,</span> <span class='symbol'>:license</span><span class='comma'>,</span> <span class='symbol'>:license_url</span><span class='comma'>,</span> <span class='symbol'>:tags</span><span class='comma'>,</span> <span class='symbol'>:website</span><span class='comma'>,</span> <span class='symbol'>:url</span><span class='comma'>,</span>
    <span class='symbol'>:help_topics</span><span class='comma'>,</span> <span class='symbol'>:links</span><span class='comma'>,</span> <span class='symbol'>:properties</span><span class='comma'>,</span> <span class='symbol'>:display_name</span><span class='comma'>,</span> <span class='symbol'>:description</span><span class='comma'>,</span> <span class='symbol'>:scales_from</span><span class='comma'>,</span>
    <span class='symbol'>:scales_to</span><span class='comma'>,</span> <span class='symbol'>:current_scale</span><span class='comma'>,</span> <span class='symbol'>:supported_scales_from</span><span class='comma'>,</span> <span class='symbol'>:supported_scales_to</span><span class='comma'>,</span>
    <span class='symbol'>:scales_with</span><span class='comma'>,</span> <span class='symbol'>:base_gear_storage</span><span class='comma'>,</span> <span class='symbol'>:additional_gear_storage</span><span class='comma'>,</span> <span class='symbol'>:gear_profile</span><span class='comma'>,</span> <span class='symbol'>:collocated_with</span><span class='comma'>,</span> 
    <span class='symbol'>:status_messages</span><span class='comma'>,</span> <span class='symbol'>:usage_rates</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_cart'>cart</span><span class='comma'>,</span> <span class='id identifier rubyid_comp'>comp</span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span><span class='comma'>,</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='comma'>,</span> <span class='id identifier rubyid_colocated_cinsts'>colocated_cinsts</span><span class='comma'>,</span> <span class='id identifier rubyid_scale'>scale</span><span class='comma'>,</span> <span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='id identifier rubyid_status_messages'>status_messages</span><span class='comma'>,</span> <span class='id identifier rubyid_nolinks'>nolinks</span><span class='op'>=</span><span class='kw'>false</span><span class='rparen'>)</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_status_messages'>status_messages</span> <span class='op'>=</span> <span class='id identifier rubyid_status_messages'>status_messages</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_display_name'>display_name</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_display_name'>display_name</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_license'>license</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_license'>license</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_license_url'>license_url</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_license_url'>license_url</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_tags'>tags</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_categories'>categories</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_website'>website</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_website'>website</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_downloaded_cartridges'>downloaded_cartridges</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_downloaded_cart_map'>downloaded_cart_map</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_cname'>cname</span><span class='comma'>,</span><span class='id identifier rubyid_chash'>chash</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_chash'>chash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>versioned_name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='op'>==</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='kw'>or</span> <span class='id identifier rubyid_cname'>cname</span><span class='op'>==</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
          <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='id identifier rubyid_chash'>chash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>url</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='rbrace'>}</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>standalone</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>embedded</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_is_embeddable?'>is_embeddable?</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_usage_rates'>usage_rates</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_usage_rates'>usage_rates</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_scale'>scale</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_from'>scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:min</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_to'>scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:max</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_scale'>current_scale</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:current</span><span class='rbracket'>]</span>
      <span class='comment'># self.scales_from = self.scales_to = self.current_scale = 1 if cinst.is_singleton?
</span>      <span class='kw'>if</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_is_sparse?'>is_sparse?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_from'>scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_get_component'>get_component</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_to'>scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_get_component'>get_component</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_scale'>current_scale</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_group_instance'>group_instance</span><span class='period'>.</span><span class='id identifier rubyid_get_gears'>get_gears</span><span class='lparen'>(</span><span class='id identifier rubyid_cinst'>cinst</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
      <span class='kw'>end</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_gear_profile'>gear_profile</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:gear_size</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_base_gear_storage'>base_gear_storage</span> <span class='op'>=</span> <span class='const'>Gear</span><span class='period'>.</span><span class='id identifier rubyid_base_filesystem_gb'>base_filesystem_gb</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_gear_profile'>gear_profile</span><span class='rparen'>)</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_additional_gear_storage'>additional_gear_storage</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:additional_storage</span><span class='rbracket'>]</span>

      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_collocated_with'>collocated_with</span> <span class='op'>=</span> <span class='id identifier rubyid_colocated_cinsts'>colocated_cinsts</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span> <span class='rbrace'>}</span>
    <span class='kw'>end</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_from'>supported_scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
      
      <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_scalable'>scalable</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span> <span class='op'>==</span> <span class='op'>-</span><span class='int'>1</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_to'>supported_scales_to</span> <span class='op'>=</span> <span class='int'>1</span>
      <span class='kw'>else</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_to'>supported_scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='comment'>#self.provides = cart.features
</span>    <span class='kw'>else</span>
      <span class='comment'>#self.provides = app.get_feature(cinst.cartridge_name, cinst.component_name)
</span>      <span class='id identifier rubyid_prop_values'>prop_values</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_component_properties'>component_properties</span>
      <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_cart_data_def'>cart_data_def</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_data_def'>data_def</span><span class='op'>|</span>
        <span class='id identifier rubyid_property'>property</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>description</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Description</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='comment'># checking for prop_values.empty? handles the case when prop_values is an empty array
</span>        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>value</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='lbracket'>[</span><span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span> <span class='kw'>unless</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>or</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='kw'>or</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='lbracket'>[</span><span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_property'>property</span>
      <span class='kw'>end</span>

      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_with'>scales_with</span> <span class='op'>=</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_component_instances'>component_instances</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_component_instance'>component_instance</span><span class='op'>|</span>
        <span class='id identifier rubyid_cart'>cart</span> <span class='op'>=</span> <span class='const'>CartridgeCache</span><span class='op'>::</span><span class='id identifier rubyid_find_cartridge'>find_cartridge</span><span class='lparen'>(</span><span class='id identifier rubyid_component_instance'>component_instance</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span><span class='rparen'>)</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_categories'>categories</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
          <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_with'>scales_with</span> <span class='op'>=</span> <span class='id identifier rubyid_component_instance'>component_instance</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_help_topics'>help_topics</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_help_topics'>help_topics</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span> <span class='kw'>and</span> <span class='op'>!</span><span class='id identifier rubyid_nolinks'>nolinks</span>
      <span class='id identifier rubyid_domain_id'>domain_id</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_domain'>domain</span><span class='period'>.</span><span class='id identifier rubyid_namespace'>namespace</span>
      <span class='id identifier rubyid_app_id'>app_id</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='kw'>if</span> <span class='kw'>not</span> <span class='id identifier rubyid_app_id'>app_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='id identifier rubyid_domain_id'>domain_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_links'>links</span> <span class='op'>=</span> <span class='lbrace'>{</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Get cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UPDATE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Update cartridge configuration</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PUT</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>additional_gear_storage</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Additional filesystem storage in gigabytes on each gear having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales_from</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Minimum number of gears having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales_to</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Maximum number of gears having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>START</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Start embedded cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>start</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>STOP</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Stop cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>stop</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RESTART</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Restart cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>restart</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RELOAD</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Reload cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>reload</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Delete cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
          <span class='rbrace'>}</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_to_xml'>to_xml</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:tag_name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cartridge</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>super</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="url=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="url-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>url</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


99
100
101</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/controller/app/rest_models/rest_embedded_cartridge15.rb', line 99</span>

<span class='kw'>def</span> <span class='id identifier rubyid_url'>url</span>
  <span class='ivar'>@url</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="usage_rates=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="usage_rates-instance_method">
  
    - (<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span>&gt;</tt>) <strong>usage_rates</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span>&gt;</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/controller/app/rest_models/rest_embedded_cartridge15.rb', line 98</span>

<span class='kw'>class</span> <span class='const'>RestEmbeddedCartridge15</span> <span class='op'>&lt;</span> <span class='const'>OpenShift</span><span class='op'>::</span><span class='const'>Model</span>
  <span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:type</span><span class='comma'>,</span> <span class='symbol'>:name</span><span class='comma'>,</span> <span class='symbol'>:version</span><span class='comma'>,</span> <span class='symbol'>:license</span><span class='comma'>,</span> <span class='symbol'>:license_url</span><span class='comma'>,</span> <span class='symbol'>:tags</span><span class='comma'>,</span> <span class='symbol'>:website</span><span class='comma'>,</span> <span class='symbol'>:url</span><span class='comma'>,</span>
    <span class='symbol'>:help_topics</span><span class='comma'>,</span> <span class='symbol'>:links</span><span class='comma'>,</span> <span class='symbol'>:properties</span><span class='comma'>,</span> <span class='symbol'>:display_name</span><span class='comma'>,</span> <span class='symbol'>:description</span><span class='comma'>,</span> <span class='symbol'>:scales_from</span><span class='comma'>,</span>
    <span class='symbol'>:scales_to</span><span class='comma'>,</span> <span class='symbol'>:current_scale</span><span class='comma'>,</span> <span class='symbol'>:supported_scales_from</span><span class='comma'>,</span> <span class='symbol'>:supported_scales_to</span><span class='comma'>,</span>
    <span class='symbol'>:scales_with</span><span class='comma'>,</span> <span class='symbol'>:base_gear_storage</span><span class='comma'>,</span> <span class='symbol'>:additional_gear_storage</span><span class='comma'>,</span> <span class='symbol'>:gear_profile</span><span class='comma'>,</span> <span class='symbol'>:collocated_with</span><span class='comma'>,</span> 
    <span class='symbol'>:status_messages</span><span class='comma'>,</span> <span class='symbol'>:usage_rates</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_cart'>cart</span><span class='comma'>,</span> <span class='id identifier rubyid_comp'>comp</span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span><span class='comma'>,</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='comma'>,</span> <span class='id identifier rubyid_colocated_cinsts'>colocated_cinsts</span><span class='comma'>,</span> <span class='id identifier rubyid_scale'>scale</span><span class='comma'>,</span> <span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='id identifier rubyid_status_messages'>status_messages</span><span class='comma'>,</span> <span class='id identifier rubyid_nolinks'>nolinks</span><span class='op'>=</span><span class='kw'>false</span><span class='rparen'>)</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_status_messages'>status_messages</span> <span class='op'>=</span> <span class='id identifier rubyid_status_messages'>status_messages</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_display_name'>display_name</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_display_name'>display_name</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_license'>license</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_license'>license</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_license_url'>license_url</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_license_url'>license_url</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_tags'>tags</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_categories'>categories</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_website'>website</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_website'>website</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_downloaded_cartridges'>downloaded_cartridges</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_downloaded_cart_map'>downloaded_cart_map</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_cname'>cname</span><span class='comma'>,</span><span class='id identifier rubyid_chash'>chash</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_chash'>chash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>versioned_name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='op'>==</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='kw'>or</span> <span class='id identifier rubyid_cname'>cname</span><span class='op'>==</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
          <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='id identifier rubyid_chash'>chash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>url</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='rbrace'>}</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>standalone</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>embedded</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_is_embeddable?'>is_embeddable?</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_usage_rates'>usage_rates</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_usage_rates'>usage_rates</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_scale'>scale</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_from'>scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:min</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_to'>scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:max</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_scale'>current_scale</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:current</span><span class='rbracket'>]</span>
      <span class='comment'># self.scales_from = self.scales_to = self.current_scale = 1 if cinst.is_singleton?
</span>      <span class='kw'>if</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_is_sparse?'>is_sparse?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_from'>scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_get_component'>get_component</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_to'>scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_get_component'>get_component</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_scale'>current_scale</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_group_instance'>group_instance</span><span class='period'>.</span><span class='id identifier rubyid_get_gears'>get_gears</span><span class='lparen'>(</span><span class='id identifier rubyid_cinst'>cinst</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
      <span class='kw'>end</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_gear_profile'>gear_profile</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:gear_size</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_base_gear_storage'>base_gear_storage</span> <span class='op'>=</span> <span class='const'>Gear</span><span class='period'>.</span><span class='id identifier rubyid_base_filesystem_gb'>base_filesystem_gb</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_gear_profile'>gear_profile</span><span class='rparen'>)</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_additional_gear_storage'>additional_gear_storage</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:additional_storage</span><span class='rbracket'>]</span>

      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_collocated_with'>collocated_with</span> <span class='op'>=</span> <span class='id identifier rubyid_colocated_cinsts'>colocated_cinsts</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span> <span class='rbrace'>}</span>
    <span class='kw'>end</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_from'>supported_scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
      
      <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_scalable'>scalable</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span> <span class='op'>==</span> <span class='op'>-</span><span class='int'>1</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_to'>supported_scales_to</span> <span class='op'>=</span> <span class='int'>1</span>
      <span class='kw'>else</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_to'>supported_scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='comment'>#self.provides = cart.features
</span>    <span class='kw'>else</span>
      <span class='comment'>#self.provides = app.get_feature(cinst.cartridge_name, cinst.component_name)
</span>      <span class='id identifier rubyid_prop_values'>prop_values</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_component_properties'>component_properties</span>
      <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_cart_data_def'>cart_data_def</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_data_def'>data_def</span><span class='op'>|</span>
        <span class='id identifier rubyid_property'>property</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>description</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Description</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='comment'># checking for prop_values.empty? handles the case when prop_values is an empty array
</span>        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>value</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='lbracket'>[</span><span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span> <span class='kw'>unless</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>or</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='kw'>or</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='lbracket'>[</span><span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_property'>property</span>
      <span class='kw'>end</span>

      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_with'>scales_with</span> <span class='op'>=</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_component_instances'>component_instances</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_component_instance'>component_instance</span><span class='op'>|</span>
        <span class='id identifier rubyid_cart'>cart</span> <span class='op'>=</span> <span class='const'>CartridgeCache</span><span class='op'>::</span><span class='id identifier rubyid_find_cartridge'>find_cartridge</span><span class='lparen'>(</span><span class='id identifier rubyid_component_instance'>component_instance</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span><span class='rparen'>)</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_categories'>categories</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
          <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_with'>scales_with</span> <span class='op'>=</span> <span class='id identifier rubyid_component_instance'>component_instance</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_help_topics'>help_topics</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_help_topics'>help_topics</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span> <span class='kw'>and</span> <span class='op'>!</span><span class='id identifier rubyid_nolinks'>nolinks</span>
      <span class='id identifier rubyid_domain_id'>domain_id</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_domain'>domain</span><span class='period'>.</span><span class='id identifier rubyid_namespace'>namespace</span>
      <span class='id identifier rubyid_app_id'>app_id</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='kw'>if</span> <span class='kw'>not</span> <span class='id identifier rubyid_app_id'>app_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='id identifier rubyid_domain_id'>domain_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_links'>links</span> <span class='op'>=</span> <span class='lbrace'>{</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Get cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UPDATE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Update cartridge configuration</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PUT</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>additional_gear_storage</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Additional filesystem storage in gigabytes on each gear having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales_from</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Minimum number of gears having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales_to</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Maximum number of gears having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>START</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Start embedded cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>start</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>STOP</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Stop cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>stop</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RESTART</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Restart cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>restart</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RELOAD</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Reload cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>reload</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Delete cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
          <span class='rbrace'>}</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_to_xml'>to_xml</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:tag_name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cartridge</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>super</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="version=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="version-instance_method">
  
    - (<tt>String</tt>) <strong>version</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Version of the packaged software in the cartridge</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Version of the packaged software in the cartridge</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/controller/app/rest_models/rest_embedded_cartridge15.rb', line 98</span>

<span class='kw'>class</span> <span class='const'>RestEmbeddedCartridge15</span> <span class='op'>&lt;</span> <span class='const'>OpenShift</span><span class='op'>::</span><span class='const'>Model</span>
  <span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:type</span><span class='comma'>,</span> <span class='symbol'>:name</span><span class='comma'>,</span> <span class='symbol'>:version</span><span class='comma'>,</span> <span class='symbol'>:license</span><span class='comma'>,</span> <span class='symbol'>:license_url</span><span class='comma'>,</span> <span class='symbol'>:tags</span><span class='comma'>,</span> <span class='symbol'>:website</span><span class='comma'>,</span> <span class='symbol'>:url</span><span class='comma'>,</span>
    <span class='symbol'>:help_topics</span><span class='comma'>,</span> <span class='symbol'>:links</span><span class='comma'>,</span> <span class='symbol'>:properties</span><span class='comma'>,</span> <span class='symbol'>:display_name</span><span class='comma'>,</span> <span class='symbol'>:description</span><span class='comma'>,</span> <span class='symbol'>:scales_from</span><span class='comma'>,</span>
    <span class='symbol'>:scales_to</span><span class='comma'>,</span> <span class='symbol'>:current_scale</span><span class='comma'>,</span> <span class='symbol'>:supported_scales_from</span><span class='comma'>,</span> <span class='symbol'>:supported_scales_to</span><span class='comma'>,</span>
    <span class='symbol'>:scales_with</span><span class='comma'>,</span> <span class='symbol'>:base_gear_storage</span><span class='comma'>,</span> <span class='symbol'>:additional_gear_storage</span><span class='comma'>,</span> <span class='symbol'>:gear_profile</span><span class='comma'>,</span> <span class='symbol'>:collocated_with</span><span class='comma'>,</span> 
    <span class='symbol'>:status_messages</span><span class='comma'>,</span> <span class='symbol'>:usage_rates</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_cart'>cart</span><span class='comma'>,</span> <span class='id identifier rubyid_comp'>comp</span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span><span class='comma'>,</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='comma'>,</span> <span class='id identifier rubyid_colocated_cinsts'>colocated_cinsts</span><span class='comma'>,</span> <span class='id identifier rubyid_scale'>scale</span><span class='comma'>,</span> <span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='id identifier rubyid_status_messages'>status_messages</span><span class='comma'>,</span> <span class='id identifier rubyid_nolinks'>nolinks</span><span class='op'>=</span><span class='kw'>false</span><span class='rparen'>)</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_status_messages'>status_messages</span> <span class='op'>=</span> <span class='id identifier rubyid_status_messages'>status_messages</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_display_name'>display_name</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_display_name'>display_name</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_license'>license</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_license'>license</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_license_url'>license_url</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_license_url'>license_url</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_tags'>tags</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_categories'>categories</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_website'>website</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_website'>website</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_downloaded_cartridges'>downloaded_cartridges</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_downloaded_cart_map'>downloaded_cart_map</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_cname'>cname</span><span class='comma'>,</span><span class='id identifier rubyid_chash'>chash</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_chash'>chash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>versioned_name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='op'>==</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='kw'>or</span> <span class='id identifier rubyid_cname'>cname</span><span class='op'>==</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
          <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='id identifier rubyid_chash'>chash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>url</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='rbrace'>}</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>standalone</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>embedded</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_is_embeddable?'>is_embeddable?</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_usage_rates'>usage_rates</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_usage_rates'>usage_rates</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_scale'>scale</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_from'>scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:min</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_to'>scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:max</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_scale'>current_scale</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:current</span><span class='rbracket'>]</span>
      <span class='comment'># self.scales_from = self.scales_to = self.current_scale = 1 if cinst.is_singleton?
</span>      <span class='kw'>if</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_is_sparse?'>is_sparse?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_from'>scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_get_component'>get_component</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_to'>scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_get_component'>get_component</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_scale'>current_scale</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_group_instance'>group_instance</span><span class='period'>.</span><span class='id identifier rubyid_get_gears'>get_gears</span><span class='lparen'>(</span><span class='id identifier rubyid_cinst'>cinst</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
      <span class='kw'>end</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_gear_profile'>gear_profile</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:gear_size</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_base_gear_storage'>base_gear_storage</span> <span class='op'>=</span> <span class='const'>Gear</span><span class='period'>.</span><span class='id identifier rubyid_base_filesystem_gb'>base_filesystem_gb</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_gear_profile'>gear_profile</span><span class='rparen'>)</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_additional_gear_storage'>additional_gear_storage</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:additional_storage</span><span class='rbracket'>]</span>

      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_collocated_with'>collocated_with</span> <span class='op'>=</span> <span class='id identifier rubyid_colocated_cinsts'>colocated_cinsts</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span> <span class='rbrace'>}</span>
    <span class='kw'>end</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_from'>supported_scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
      
      <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_scalable'>scalable</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span> <span class='op'>==</span> <span class='op'>-</span><span class='int'>1</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_to'>supported_scales_to</span> <span class='op'>=</span> <span class='int'>1</span>
      <span class='kw'>else</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_to'>supported_scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='comment'>#self.provides = cart.features
</span>    <span class='kw'>else</span>
      <span class='comment'>#self.provides = app.get_feature(cinst.cartridge_name, cinst.component_name)
</span>      <span class='id identifier rubyid_prop_values'>prop_values</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_component_properties'>component_properties</span>
      <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_cart_data_def'>cart_data_def</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_data_def'>data_def</span><span class='op'>|</span>
        <span class='id identifier rubyid_property'>property</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>description</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Description</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='comment'># checking for prop_values.empty? handles the case when prop_values is an empty array
</span>        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>value</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='lbracket'>[</span><span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span> <span class='kw'>unless</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>or</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='kw'>or</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='lbracket'>[</span><span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_property'>property</span>
      <span class='kw'>end</span>

      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_with'>scales_with</span> <span class='op'>=</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_component_instances'>component_instances</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_component_instance'>component_instance</span><span class='op'>|</span>
        <span class='id identifier rubyid_cart'>cart</span> <span class='op'>=</span> <span class='const'>CartridgeCache</span><span class='op'>::</span><span class='id identifier rubyid_find_cartridge'>find_cartridge</span><span class='lparen'>(</span><span class='id identifier rubyid_component_instance'>component_instance</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span><span class='rparen'>)</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_categories'>categories</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
          <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_with'>scales_with</span> <span class='op'>=</span> <span class='id identifier rubyid_component_instance'>component_instance</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_help_topics'>help_topics</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_help_topics'>help_topics</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span> <span class='kw'>and</span> <span class='op'>!</span><span class='id identifier rubyid_nolinks'>nolinks</span>
      <span class='id identifier rubyid_domain_id'>domain_id</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_domain'>domain</span><span class='period'>.</span><span class='id identifier rubyid_namespace'>namespace</span>
      <span class='id identifier rubyid_app_id'>app_id</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='kw'>if</span> <span class='kw'>not</span> <span class='id identifier rubyid_app_id'>app_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='id identifier rubyid_domain_id'>domain_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_links'>links</span> <span class='op'>=</span> <span class='lbrace'>{</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Get cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UPDATE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Update cartridge configuration</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PUT</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>additional_gear_storage</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Additional filesystem storage in gigabytes on each gear having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales_from</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Minimum number of gears having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales_to</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Maximum number of gears having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>START</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Start embedded cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>start</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>STOP</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Stop cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>stop</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RESTART</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Restart cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>restart</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RELOAD</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Reload cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>reload</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Delete cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
          <span class='rbrace'>}</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_to_xml'>to_xml</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:tag_name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cartridge</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>super</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="website=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="website-instance_method">
  
    - (<tt>String</tt>) <strong>website</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>URI to the website for the packaged software in the cartridge</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>URI to the website for the packaged software in the cartridge</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/controller/app/rest_models/rest_embedded_cartridge15.rb', line 98</span>

<span class='kw'>class</span> <span class='const'>RestEmbeddedCartridge15</span> <span class='op'>&lt;</span> <span class='const'>OpenShift</span><span class='op'>::</span><span class='const'>Model</span>
  <span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:type</span><span class='comma'>,</span> <span class='symbol'>:name</span><span class='comma'>,</span> <span class='symbol'>:version</span><span class='comma'>,</span> <span class='symbol'>:license</span><span class='comma'>,</span> <span class='symbol'>:license_url</span><span class='comma'>,</span> <span class='symbol'>:tags</span><span class='comma'>,</span> <span class='symbol'>:website</span><span class='comma'>,</span> <span class='symbol'>:url</span><span class='comma'>,</span>
    <span class='symbol'>:help_topics</span><span class='comma'>,</span> <span class='symbol'>:links</span><span class='comma'>,</span> <span class='symbol'>:properties</span><span class='comma'>,</span> <span class='symbol'>:display_name</span><span class='comma'>,</span> <span class='symbol'>:description</span><span class='comma'>,</span> <span class='symbol'>:scales_from</span><span class='comma'>,</span>
    <span class='symbol'>:scales_to</span><span class='comma'>,</span> <span class='symbol'>:current_scale</span><span class='comma'>,</span> <span class='symbol'>:supported_scales_from</span><span class='comma'>,</span> <span class='symbol'>:supported_scales_to</span><span class='comma'>,</span>
    <span class='symbol'>:scales_with</span><span class='comma'>,</span> <span class='symbol'>:base_gear_storage</span><span class='comma'>,</span> <span class='symbol'>:additional_gear_storage</span><span class='comma'>,</span> <span class='symbol'>:gear_profile</span><span class='comma'>,</span> <span class='symbol'>:collocated_with</span><span class='comma'>,</span> 
    <span class='symbol'>:status_messages</span><span class='comma'>,</span> <span class='symbol'>:usage_rates</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_cart'>cart</span><span class='comma'>,</span> <span class='id identifier rubyid_comp'>comp</span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span><span class='comma'>,</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='comma'>,</span> <span class='id identifier rubyid_colocated_cinsts'>colocated_cinsts</span><span class='comma'>,</span> <span class='id identifier rubyid_scale'>scale</span><span class='comma'>,</span> <span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='id identifier rubyid_status_messages'>status_messages</span><span class='comma'>,</span> <span class='id identifier rubyid_nolinks'>nolinks</span><span class='op'>=</span><span class='kw'>false</span><span class='rparen'>)</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_status_messages'>status_messages</span> <span class='op'>=</span> <span class='id identifier rubyid_status_messages'>status_messages</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_display_name'>display_name</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_display_name'>display_name</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_license'>license</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_license'>license</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_license_url'>license_url</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_license_url'>license_url</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_tags'>tags</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_categories'>categories</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_website'>website</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_website'>website</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_downloaded_cartridges'>downloaded_cartridges</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_downloaded_cart_map'>downloaded_cart_map</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_cname'>cname</span><span class='comma'>,</span><span class='id identifier rubyid_chash'>chash</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_chash'>chash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>versioned_name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='op'>==</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='kw'>or</span> <span class='id identifier rubyid_cname'>cname</span><span class='op'>==</span><span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
          <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='id identifier rubyid_chash'>chash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>url</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='rbrace'>}</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>standalone</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>embedded</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_is_embeddable?'>is_embeddable?</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_usage_rates'>usage_rates</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_usage_rates'>usage_rates</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_scale'>scale</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_from'>scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:min</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_to'>scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:max</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_scale'>current_scale</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:current</span><span class='rbracket'>]</span>
      <span class='comment'># self.scales_from = self.scales_to = self.current_scale = 1 if cinst.is_singleton?
</span>      <span class='kw'>if</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_is_sparse?'>is_sparse?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_from'>scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_get_component'>get_component</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_to'>scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_get_component'>get_component</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_scale'>current_scale</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_group_instance'>group_instance</span><span class='period'>.</span><span class='id identifier rubyid_get_gears'>get_gears</span><span class='lparen'>(</span><span class='id identifier rubyid_cinst'>cinst</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
      <span class='kw'>end</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_gear_profile'>gear_profile</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:gear_size</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_base_gear_storage'>base_gear_storage</span> <span class='op'>=</span> <span class='const'>Gear</span><span class='period'>.</span><span class='id identifier rubyid_base_filesystem_gb'>base_filesystem_gb</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_gear_profile'>gear_profile</span><span class='rparen'>)</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_additional_gear_storage'>additional_gear_storage</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='lbracket'>[</span><span class='symbol'>:additional_storage</span><span class='rbracket'>]</span>

      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_collocated_with'>collocated_with</span> <span class='op'>=</span> <span class='id identifier rubyid_colocated_cinsts'>colocated_cinsts</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span> <span class='rbrace'>}</span>
    <span class='kw'>end</span>

    <span class='kw'>unless</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_from'>supported_scales_from</span> <span class='op'>=</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
      
      <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_scalable'>scalable</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span> <span class='op'>==</span> <span class='op'>-</span><span class='int'>1</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_to'>supported_scales_to</span> <span class='op'>=</span> <span class='int'>1</span>
      <span class='kw'>else</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_supported_scales_to'>supported_scales_to</span> <span class='op'>=</span> <span class='id identifier rubyid_comp'>comp</span><span class='period'>.</span><span class='id identifier rubyid_scaling'>scaling</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='comment'>#self.provides = cart.features
</span>    <span class='kw'>else</span>
      <span class='comment'>#self.provides = app.get_feature(cinst.cartridge_name, cinst.component_name)
</span>      <span class='id identifier rubyid_prop_values'>prop_values</span> <span class='op'>=</span> <span class='id identifier rubyid_cinst'>cinst</span><span class='period'>.</span><span class='id identifier rubyid_component_properties'>component_properties</span>
      <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_cart_data_def'>cart_data_def</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_data_def'>data_def</span><span class='op'>|</span>
        <span class='id identifier rubyid_property'>property</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>description</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Description</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
        <span class='comment'># checking for prop_values.empty? handles the case when prop_values is an empty array
</span>        <span class='id identifier rubyid_property'>property</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>value</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='lbracket'>[</span><span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span> <span class='kw'>unless</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>or</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='kw'>or</span> <span class='id identifier rubyid_prop_values'>prop_values</span><span class='lbracket'>[</span><span class='id identifier rubyid_data_def'>data_def</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Key</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_properties'>properties</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_property'>property</span>
      <span class='kw'>end</span>

      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_with'>scales_with</span> <span class='op'>=</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_component_instances'>component_instances</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_component_instance'>component_instance</span><span class='op'>|</span>
        <span class='id identifier rubyid_cart'>cart</span> <span class='op'>=</span> <span class='const'>CartridgeCache</span><span class='op'>::</span><span class='id identifier rubyid_find_cartridge'>find_cartridge</span><span class='lparen'>(</span><span class='id identifier rubyid_component_instance'>component_instance</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span><span class='comma'>,</span> <span class='id identifier rubyid_app'>app</span><span class='rparen'>)</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_categories'>categories</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
          <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_scales_with'>scales_with</span> <span class='op'>=</span> <span class='id identifier rubyid_component_instance'>component_instance</span><span class='period'>.</span><span class='id identifier rubyid_cartridge_name'>cartridge_name</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_help_topics'>help_topics</span> <span class='op'>=</span> <span class='id identifier rubyid_cart'>cart</span><span class='period'>.</span><span class='id identifier rubyid_help_topics'>help_topics</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span> <span class='kw'>and</span> <span class='op'>!</span><span class='id identifier rubyid_nolinks'>nolinks</span>
      <span class='id identifier rubyid_domain_id'>domain_id</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_domain'>domain</span><span class='period'>.</span><span class='id identifier rubyid_namespace'>namespace</span>
      <span class='id identifier rubyid_app_id'>app_id</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='kw'>if</span> <span class='kw'>not</span> <span class='id identifier rubyid_app_id'>app_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='id identifier rubyid_domain_id'>domain_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_links'>links</span> <span class='op'>=</span> <span class='lbrace'>{</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Get cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UPDATE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Update cartridge configuration</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PUT</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>additional_gear_storage</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Additional filesystem storage in gigabytes on each gear having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales_from</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Minimum number of gears having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
              <span class='const'>OptionalParam</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>scales_to</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>integer</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Maximum number of gears having cartridge </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>START</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Start embedded cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>start</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>STOP</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Stop cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>stop</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RESTART</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Restart cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>restart</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RELOAD</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Reload cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>/events</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='lbracket'>[</span>
              <span class='const'>Param</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>reload</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='const'>Link</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Delete cartridge</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>domains/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_domain_id'>domain_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/applications/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app_id'>app_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>/cartridges/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
          <span class='rbrace'>}</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_to_xml'>to_xml</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:tag_name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cartridge</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>super</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="to_xml-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>to_xml</strong>(options = {}) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


211
212
213
214</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File '/home/fedora/origin-server/controller/app/rest_models/rest_embedded_cartridge15.rb', line 211</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_xml'>to_xml</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:tag_name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cartridge</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>super</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Wed Jul 31 22:05:20 2013 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.5.2 (ruby-2.0.0).
</div>

  </body>
</html>